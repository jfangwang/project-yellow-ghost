{"version":3,"sources":["Firebase.js","Message.js","Messages.js","images/sent-vid-icon.png","images/black-checkmark.png","Camera.js","images/search-icon.png","images/chat-icon.png","Navbar.js","images/add-friend-icon.png","images/flip-icon.png","images/camera-icon.png","Footer.js","App.js","index.js"],"names":["db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","provider","GoogleAuthProvider","Message","props","useState","img","setImg","sent","setSent","opened","setOpened","imgid","setimgid","icon_class","friend","status","className","onClick","showNavbar","showFooter","length","ref","delete","catch","error","collection","doc","console","log","newSent","newOpened","update","splice","indexOf","email","push","delete_photo","src","tempimg","get","then","data","time","Date","toLocaleString","sender_doc","k","sender_dict","pic","friends","user_doc","receiver_dict","date","streak_emoji","Messages","loggedIn","Object","keys","sort","map","key","Camera","screen","setScreen","sendList","setSendList","close","disable_swiping","handle_send_list","e","arr","forEach","element","send_pic","time_sent","newDict","total_sent","id","uuid","user","putString","on","snapshot","getDownloadURL","url","set","sender","time_stamp","image_url","receiver_doc","list","includes","friends_dict","created","name","pending","profile_pic_url","total_received","pending_dict","webcamRef","React","useRef","capture","useCallback","current","getScreenshot","audio","mirrored","forceScreenshotSourceSize","screenshotFormat","screenshotQuality","videoConstraints","facingMode","faceMode","type","Receiver","selected","changeToIndex","added","setAdded","newArr","checkmark","alt","NavBar","showProfileScreen","setShowProfileScreen","showAddFriendScreen","setShowAddFriendScreen","showLogin","setShowLogin","showSearch","setShowSearch","showTitle","setShowTitle","showAddFriend","setShowAddFriend","showNewChat","setShowNewChat","showMore","setShowMore","showClose","setShowClose","showFlipCam","setShowFlipCam","navTitle","setNavTitle","resetNav","index","useEffect","login","SearchIcon","ChatIcon","flipCamera","ProfileModal","received","logout","AddFriend","strangers","everyone","edit_friends","style","backgroundColor","Friend","Stranger","Everyone","Footer","CameraIcon","BindKeyboardSwipeableViews","bindKeyboard","SwipeableViews","default_pic","App","set_device","state","width","height","setState","orientation","window","innerWidth","innerHeight","handleChangeIndex","check_user","onAuthStateChanged","this","displayName","photoURL","check_user_on_firebase","bind","exists","start_snapshot","c","streak","streak_ref","last_time_stamp","snaps","onSnapshot","update_people_list","alert","end_snapshot","f","docs","action","value","dict","new_friend_entry","signInWithPopup","result","signOut","addEventListener","setDisabledSwiping","disabled","enableMouseEvents","onChangeIndex","assign","position","top","left","minHeight","Helmet","content","Component","ReactDOM","render","document","getElementById"],"mappings":"2UAoBMA,G,wCADcC,IAASC,cAVN,CACrBC,OAAQ,0CACRC,WAAY,8BACZC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAIMC,aACjBC,EAAOV,IAASU,OAChBC,EAAUX,IAASW,UAEnBC,EAAW,IAAIZ,IAASU,KAAKG,mB,oCCTpB,SAASC,EAAQC,GAAQ,IAAD,EACtC,EAAsBC,mBAAS,MAA/B,mBAAOC,EAAP,KAAYC,EAAZ,KACA,EAAwBF,mBAAS,IAAjC,mBAAOG,EAAP,KAAaC,EAAb,KACA,EAA4BJ,mBAAS,IAArC,mBAAOK,EAAP,KAAeC,EAAf,KACA,EAA0BN,mBAAS,IAAnC,mBAAOO,EAAP,KAAcC,EAAd,KAyEIC,EAAa,WAAaV,EAAMW,OAAN,OAW1BC,GAVW,mBACb,aAAe,eADF,oBAET,YAFS,yBAGJ,YAHI,qBAIR,QAJQ,uBAKN,UALM,wBAML,WANK,cAOb,cAAgB,kBAPH,wBAQL,WARK,GAUUZ,EAAMW,OAAN,QAEzB,OACE,mCACCT,EACA,qBAAKW,UAAU,0BAA0BC,QAvB9B,WACbd,EAAMe,YAAW,GACff,EAAMgB,YAAW,GACnBb,EAAO,MAtBa,WAEpB,GAAIC,EAAKa,QAAU,EAElBrB,EAAQsB,IAAR,gBAAqBV,IAASW,SAASC,OAAM,SAACC,OAE9CrC,EAAGsC,WAAW,UAAUC,IAAIf,GAAOW,SAASC,OAAM,SAACC,OACnDG,QAAQC,IAAI,eACN,CAEN,IAAIC,EAAUtB,EACVuB,EAAYrB,EAChBtB,EAAGsC,WAAW,UAAUC,IAAIf,GAAOoB,OAAO,CACzCxB,KAAMsB,EAAQG,OAAOH,EAAQI,QAAQ9B,EAAM+B,OAAQ,GACnDzB,OAAQqB,EAAUK,KAAKhC,EAAM+B,SAE9BP,QAAQC,IAAI,YAObQ,IAmBE,SACC,qBAAKpB,UAAU,eAAeqB,IAAKhC,MAGpC,qBAAIW,UAAU,iBAAiBC,QAAoC,QAA3Bd,EAAMW,OAAN,OA1F9B,WAEZ,IAAIwB,EAAUnC,EAAMW,OAAN,MAAsBX,EAAMW,OAAN,MAAsBM,OAAS,GACnEjB,EAAMe,YAAW,GACff,EAAMgB,YAAW,GACnBP,EAAS0B,GACTnD,EAAGsC,WAAW,UAAUC,IAAIY,GAASC,MAAMC,MAAK,SAACd,GAChDpB,EAAOoB,EAAIe,OAAJ,WACPjC,EAAQkB,EAAIe,OAAJ,MACR/B,EAAUgB,EAAIe,OAAJ,WAKX,IAAMC,GAAO,IAAIC,MAAOC,iBACpBC,EAAa1D,EAAGsC,WAAW,SAASC,IAAIvB,EAAM2C,GAClDD,EAAWN,MAAMC,MAAK,SAACd,GACtB,IAAIqB,EAAcrB,EAAIe,OACtBM,EAAW,QAAY5C,EAAM+B,OAA7B,gBAAyDQ,EACzDK,EAAW,QAAY5C,EAAM+B,OAA7B,gBAAyD/B,EAAM6C,IAC/DD,EAAW,QAAY5C,EAAM+B,OAA7B,OAAgD,SAChDW,EAAWd,OAAO,CACjBkB,QAASF,EAAW,aAItB,IAAIG,EAAW/D,EAAGsC,WAAW,SAASC,IAAIvB,EAAM+B,OAChDgB,EAASX,MAAMC,MAAK,SAACd,GACpB,IAAIyB,EAAgBzB,EAAIe,OACxBU,EAAa,QAAYhD,EAAM2C,GAA/B,gBAAuDJ,EAEnDS,EAAa,QAAYhD,EAAM2C,GAA/B,MAA2C1B,QAAU,EACxD+B,EAAa,QAAYhD,EAAM2C,GAA/B,OAA8C,WAE9CK,EAAa,QAAYhD,EAAM2C,GAA/B,OAA8C,MAE/CK,EAAa,QAAYhD,EAAM2C,GAA/B,MACCd,OAAOmB,EAAa,QAAYhD,EAAM2C,GAA/B,MAA2C1B,OAAS,EAAG,GAC/D8B,EAASnB,OAAO,CACfkB,QAASE,EAAa,cAmD4D,KAAlF,UACC,qBAAKnC,UAAU,gBAAf,SACC,qBAAKA,UAAU,qBAAqBqB,IAAKlC,EAAMW,OAAN,oBAE1C,sBAAKE,UAAU,cAAf,UACC,6BAAKb,EAAMW,OAAN,OACL,sBAAKE,UAAU,eAAf,UACC,sBAAKA,UAAU,eAAf,UACC,qBAAKA,UAAWH,IAChB,6BAAKE,OAEN,6BAAKZ,EAAMW,OAAN,gBAAkC,2CAAK,cAAC,IAAD,CAASsC,KAAMjD,EAAMW,OAAN,kBAApB,SAAgE,OACvG,8BACC,+BAAKX,EAAMW,OAAN,OAAwBX,EAAMkD,wBAItC,qBAAKrC,UAAU,qBC3HL,SAASsC,EAASnD,GAC7B,OACA,sBAAKa,UAAU,kBAAf,UACD,qBAAKA,UAAU,WAGf,qBAAIA,UAAU,gBAAd,UACEb,EAAMoD,SACN,KACC,oBAAIvC,UAAU,oBAAd,+TAKDwC,OAAOC,KAAKtD,EAAM8C,SAASS,OAAOC,KAAI,SAACC,GAAD,OACtC,cAAC1D,EAAD,CACCY,OAAQX,EAAM8C,QAAQW,GACtBP,aAAclD,EAAMkD,aACpBP,EAAGc,EACHZ,IAAK7C,EAAM6C,IACXd,MAAO/B,EAAM+B,MACbhB,WAAYf,EAAMe,WACfC,WAAYhB,EAAMgB,mBAIxB,qBAAKH,UAAU,uB,qBChCH,G,OAAA,IAA0B,2CCA1B,MAA0B,4C,gBCWzC,SAAS6C,EAAO1D,GACd,MAAsBC,mBAAS,MAA/B,mBAAOC,EAAP,KAAYC,EAAZ,KACA,EAA4BF,mBAAS,UAArC,mBAAO0D,EAAP,KAAeC,EAAf,KACA,EAAsC3D,mBAAS,GAAG,GAAlD,mBACA,GADA,UACgCA,mBAAS,KAAzC,mBAAO4D,EAAP,KAAiBC,EAAjB,KAqBMC,EAAQ,WACZ5D,EAAO,MACPyD,EAAU,UACVE,EAAY,IACZ9D,EAAMgE,iBAAgB,GACtBhE,EAAMe,YAAW,GACjBf,EAAMgB,YAAW,IAEbiD,EAAmB,SAACC,GACxB,IAAIC,EAAM,GACVD,EAAEE,SAAQ,SAACC,GACTF,EAAInC,KAAKqC,MAEXP,EAAYK,IAGRG,EAAW,WACf,GAAmB,mBAAftE,EAAM+B,MAA4B,CAIpC,IAAIwC,GAAY,IAAI/B,MAAOC,iBACvB+B,EAAUxE,EAAM8C,QAChB2B,EAAa,EACXC,EAAKC,cACXd,EAASO,SAAQ,SAACQ,GAChBH,GAA0B,EAC1BD,EAAQI,GAAR,OAA0B,OAC1BJ,EAAQI,GAAR,gBAAmCL,EACnCC,EAAQI,GAAR,KAAwBJ,EAAQI,GAAR,KAAwB,KAEjC5F,EAAGsC,WAAW,SAASC,IAAIvB,EAAM+B,OACzCH,OAAO,CACd6C,WAAYzE,EAAMI,KAAOqE,EACzB3B,QAAS0B,IAGQ5E,EAAQsB,IAAR,gBAAqBwD,IAAMG,UAAU3E,EAAK,YAClD4E,GACT,iBACA,SAAAC,OACA,SAAA1D,GACEG,QAAQC,IAAIJ,MAEd,WACEzB,EAAQsB,IAAR,gBAAqBwD,IAAMM,iBAAiB3C,MAAK,SAAA4C,GAE/CjG,EAAGsC,WAAW,UAAUC,IAAImD,GAAIQ,IAAI,CAClCC,OAAQnF,EAAM+B,MACd3B,KAAMyD,EACNvD,OAAQ,GACR8E,WAAYb,EACZc,UAAWJ,UAOnBpB,EAASO,SAAQ,SAACQ,GAChB,IAAIU,EAAetG,EAAGsC,WAAW,SAASC,IAAIqD,GAE9CU,EAAalD,MAAMC,MAAK,SAACd,GACvB,IAAIgE,EAAOhE,EAAIe,OACf,GAAIe,OAAOC,KAAKiC,EAAI,SAAaC,SAASxF,EAAM+B,OAAO,CACrD,IAAI0D,EAAeF,EAAI,QACvBE,EAAazF,EAAM+B,OAAnB,OAAsC,MACtC0D,EAAazF,EAAM+B,OAAnB,gBAA+CwC,EAC/CkB,EAAazF,EAAM+B,OAAnB,SAAwC0D,EAAazF,EAAM+B,OAAnB,SAAwC,EAChF0D,EAAazF,EAAM+B,OAAnB,MAAmCC,KAAK0C,GACxCa,EAAI,QAAcE,EAClBH,EAAaJ,IAAI,CACfQ,QAASH,EAAI,QACbzC,QAASyC,EAAI,QACbI,KAAMJ,EAAI,KACVK,QAASL,EAAI,QACbM,gBAAiBN,EAAI,gBACrBrC,aAAcqC,EAAI,aAClBO,eAAgBP,EAAI,eAAqB,EACzCd,WAAYc,EAAI,kBAEb,GAAIlC,OAAOC,KAAKiC,EAAI,SAAaC,SAASxF,EAAM+B,OAAQ,CAC7D,IAAIgE,EAAeR,EAAI,QACvBQ,EAAa/F,EAAM+B,OAAnB,OAAsC,MACtCgE,EAAa/F,EAAM+B,OAAnB,gBAA+CwC,EAC/CwB,EAAa/F,EAAM+B,OAAnB,SAAwC0D,EAAazF,EAAM+B,OAAnB,SAAwC,EAChFgE,EAAa/F,EAAM+B,OAAnB,MAAmCC,KAAK0C,GACxCa,EAAI,QAAcQ,EAClBT,EAAaJ,IAAI,CACfQ,QAASH,EAAI,QACbzC,QAASyC,EAAI,QACbI,KAAMJ,EAAI,KACVK,QAASL,EAAI,QACbM,gBAAiBN,EAAI,gBACrBrC,aAAcqC,EAAI,aAClBO,eAAgBP,EAAI,eAAqB,EACzCd,WAAYc,EAAI,kBAGlB/D,QAAQC,IAAI,0BAA0BmD,EAAK,WAIjDd,EAAY,SAGZtC,QAAQC,IAAI,uBAGVuE,EAAYC,IAAMC,OAAO,MACzBC,EAAUF,IAAMG,aACpB,WAEEjG,EAAO6F,EAAUK,QAAQC,iBACzB1C,EAAU,YACV5D,EAAMe,YAAW,GACjBf,EAAMgB,YAAW,GACjBhB,EAAMgE,iBAAgB,KAExB,CAACgC,IAOH,OACE,mCACA,sBAAKnF,UAAU,gBAAf,UACE,qBAAKA,UAAU,WAEf,cAAC,IAAD,CACE6D,GAAG,SACH7D,UAAU,gBACVK,IAAK8E,EACLO,OAAO,EACPC,UAAU,EACVC,2BAA2B,EAC3BC,iBAAiB,YACjBC,kBAAmB,EACnBC,iBAAkB,CAACC,WAAY7G,EAAM8G,YAsC3B,WAAXnD,EACC,sBAAK9C,UAAU,iBAAf,UACE,qBAAKA,UAAU,aAAf,SACE,qBAAKA,UAAU,aAEjB,sBAAKA,UAAU,gBAAf,UACE,wBAAQA,UAAU,iBAAiBC,QAASqF,IAC5C,qBAAKtF,UAAU,WACf,qBAAKA,UAAU,iBAGjB,KAGQ,aAAX8C,EACC,mCACA,sBAAK9C,UAAU,mBAAf,UACE,qBAAKA,UAAU,aAAf,SACE,qBAAKA,UAAU,SAAf,SACE,wBAAQA,UAAU,QAAQC,QAASiD,EAAnC,uBAGJ,qBAAKlD,UAAU,gBAAgBqB,IAAKhC,IACpC,sBAAKW,UAAU,kBAAf,UACE,wBAAQA,UAAU,OAAlB,kBACA,yBAAQA,UAAU,UAAUC,QA9NvB,WACb8C,EAAU,QACE,OAAR1D,GACF6D,KA2NM,UAA6C,wCAAc,qBAAKlD,UAAU,eAAeqB,IAAK9B,eAIhG,KAGQ,SAAXuD,EACC,sBAAK9C,UAAU,eAAf,UACE,sBAAKA,UAAU,SAAf,UACE,wBAAQA,UAAU,OAAOC,QAzNtB,WACX8C,EAAU,YACV5D,EAAMe,YAAW,IAuNT,kBACA,uBAAOF,UAAU,cAAckG,KAAK,WACpC,4CAGF,2CAAc1D,OAAOC,KAAKtD,EAAM8C,SAAS7B,OAAzC,OACA,oBAAIJ,UAAU,2BAAd,SAEGwC,OAAOC,KAAKtD,EAAM8C,SAASS,OAAOC,KAAI,SAACC,GAAD,OACrC,cAACuD,EAAD,CACElE,QAAS9C,EAAM8C,QACfH,EAAGc,EACHI,SAAUA,EACVI,iBAAkBA,EAClBgD,WAAUpD,EAAS2B,SAAS/B,UAIjCI,EAAS5C,OAAS,EACjB,sBAAKJ,UAAU,cAAf,UACE,oBAAIA,UAAU,aAAd,wBACA,wBAAQA,UAAU,WAAWC,QAvP5B,WACXX,EAAO,MACPyD,EAAU,UACVU,IACAtE,EAAMkH,cAAc,GACpBlH,EAAMgE,iBAAgB,GACtBhE,EAAMe,YAAW,GACjBf,EAAMgB,YAAW,IAgPP,qBAEA,QAGJ,KAEF,qBAAKH,UAAU,gBAMvB,SAASmG,EAAShH,GAChB,MAA0BC,mBAASD,EAAMiH,UAAzC,mBAAOE,EAAP,KAAcC,EAAd,KACGtE,EAAU9C,EAAM8C,QAChBW,EAAMzD,EAAM2C,EACX0E,EAASrH,EAAM6D,SAcpB,OACC,mCACC,yBAAQ/C,QAdc,WAEhBqG,GAIHE,EAAOxF,OAAOwF,EAAOvF,QAAQ2B,GAAM,GACnCzD,EAAMiE,iBAAiBoD,KAJvBA,EAAOrF,KAAKyB,GACZzD,EAAMiE,iBAAiBoD,IAKzBD,GAAUD,IAKsBtG,UAAU,iBAA3C,UACC,qBAAKA,UAAU,gBAAf,SACC,qBAAKA,UAAU,qBAAqBqB,IAAKY,EAAQW,GAAKoC,oBAEvD,sBAAKhF,UAAU,cAAf,UACC,6BAAKiC,EAAQW,GAAKkC,OAClB,4BAAIlC,OAEL,qBAAK5C,UAAU,gBAAf,SACOsG,EACC,qBAAKtG,UAAU,kBAAf,SAAiC,qBAAKA,UAAU,YAAYqB,IAAKoF,EAAWC,IAAI,aAC9E,qBAAK1G,UAAU,oBAAf,SAAmC,qBAAKA,UAAU,YAAYqB,IAAKoF,EAAWC,IAAI,oB,WC1TjF,MAA0B,wCCA1B,+TCWf,SAASC,EAAOxH,GAEf,MAAkDC,oBAAS,GAA3D,mBAAOwH,EAAP,KAA0BC,EAA1B,KACA,EAAsDzH,oBAAS,GAA/D,mBAAO0H,EAAP,KAA4BC,EAA5B,KAEA,EAAkC3H,oBAAS,GAA3C,mBAAO4H,EAAP,KAAkBC,EAAlB,KACA,EAAoC7H,oBAAS,GAA7C,mBAAO8H,EAAP,KAAmBC,EAAnB,KACA,EAAkC/H,oBAAS,GAA3C,mBAAOgI,EAAP,KAAkBC,EAAlB,KACA,EAA0CjI,oBAAS,GAAnD,mBAAOkI,EAAP,KAAsBC,EAAtB,KACA,EAAsCnI,oBAAS,GAA/C,mBAAOoI,EAAP,KAAoBC,EAApB,KACA,EAAgCrI,oBAAS,GAAzC,mBAAOsI,EAAP,KAAiBC,EAAjB,KACA,EAAkCvI,oBAAS,GAA3C,mBAAOwI,EAAP,KAAkBC,EAAlB,KACA,EAAsCzI,mBAAS,MAA/C,mBAAO0I,EAAP,KAAoBC,EAApB,KAEA,EAAgC3I,mBAAS,QAAzC,mBAAO4I,EAAP,KAAiBC,EAAjB,KA2BMC,EAAW,WAChBrB,GAAqB,GACrBE,GAAuB,GAEvBE,GAAa,GACbE,GAAc,GACdE,GAAa,GACbE,GAAiB,GACE,GAAfpI,EAAMgJ,OACTV,GAAe,GAEhBE,GAAY,GACZE,GAAa,GACbI,EAAY,QACZ9I,EAAMgE,iBAAgB,IAiBvB,OAdAiF,qBAAU,WAGU,GAAfjJ,EAAMgJ,OACTV,GAAe,GACfM,GAAe,GACfV,GAAa,IACY,GAAflI,EAAMgJ,QAChBV,GAAe,GACfM,GAAe,GACfV,GAAa,MAEZ,CAAClI,EAAMgJ,QAGT,qCACA,sBAAKnI,UAAU,iBAAf,UACA,qBAAKA,UAAU,YAAf,SACC,+BACEgH,EACA7H,EAAMoD,SACL,oBAAIvC,UAAU,WAAd,SAAyB,qBAAKA,UAAU,WAAWC,QA9DlC,WACrB4G,GAAqB,GACrBI,GAAa,GACbE,GAAc,GACdI,GAAiB,GACjBE,GAAe,GACfE,GAAY,GACZE,GAAa,GACbI,EAAY,WACZ9I,EAAMgE,iBAAgB,IAqDyD9B,IAAKlC,EAAM6C,QACpF,6BAAI,mBAAG/B,QAASd,EAAMkJ,MAAlB,uBACL,KAEFT,EACA,6BAAI,mBAAG3H,QAASiI,EAAZ,qBACF,KAGFhB,EAAa,oBAAIlH,UAAU,WAAd,SAAyB,qBAAKA,UAAU,cAAcqB,IAAKiH,MAAsB,UAGjG,sBAAKtI,UAAU,YAAf,UACiB,GAAfb,EAAMgJ,OACNf,EACC,6BAAKY,IAEJ,MAEF7I,EAAMgJ,MAEL,SAMH,qBAAKnI,UAAU,YAAf,SACE,+BACEsH,EAAgB,oBAAItH,UAAU,WAAWC,QA/EtB,WACvB8G,GAAuB,GACvBE,GAAa,GACbE,GAAc,GACdI,GAAiB,GACjBE,GAAe,GACfE,GAAY,GACZE,GAAa,GACbI,EAAY,eACZ9I,EAAMgE,iBAAgB,IAsEF,SAAmD,qBAAKnD,UAAU,kBAAkBqB,ICvH3F,qvGDuHyH,KAClImG,EAAc,oBAAIxH,UAAU,WAAd,SAAyB,qBAAKqB,IAAKkH,EAAUvI,UAAU,gBAAqB,KAC1F0H,EAAW,6BAAI,4BAAG,0CAAwB,KAC1CI,EAAc,oBAAI9H,UAAU,WAAWC,QAASd,EAAMqJ,WAAxC,SAAoD,qBAAKxI,UAAU,YAAYqB,IE1HpF,q7FF0H6G,aAIzHuF,EACA,cAAC6B,EAAD,CAECzG,IAAK7C,EAAM6C,IACX8C,KAAM3F,EAAM2F,KACZ5D,MAAO/B,EAAM+B,MACbwH,SAAUvJ,EAAMuJ,SAChBnJ,KAAMJ,EAAMI,KACZsF,QAAS1F,EAAM0F,QAEfqD,SAAUA,EACVS,OAAQxJ,EAAMwJ,SAEb,KAEF7B,EACA,mCAEA,cAAC8B,EAAD,CACC3G,QAAS9C,EAAM8C,QACf4G,UAAW1J,EAAM0J,UACjBC,SAAU3J,EAAM2J,SAChBC,aAAc5J,EAAM4J,iBASnB,QAML,SAASN,EAAatJ,GAKrB,OACC,sBAAKa,UAAU,SAAf,UACC,qBAAKA,UAAU,WAGf,qBAAKqB,IAAKlC,EAAM6C,IAAKhC,UAAU,gBAC/B,6BAAKb,EAAM2F,OACX,6BAAK3F,EAAM+B,QACX,6CAAgB/B,EAAMuJ,SAAtB,MAAmCvJ,EAAMI,KAAzC,aACA,iEAAoCJ,EAAM0F,WAC1C,0DACA,wBAAQ5E,QAfK,WACdd,EAAM+I,WACN/I,EAAMwJ,UAaoBK,MAAO,CAACC,gBAAiB,OAAlD,SAA0D,6CAK7D,SAASL,EAAUzJ,GAClB,OACC,sBAAKa,UAAU,SAAf,UACC,qBAAKA,UAAU,WAGf,2CAAcwC,OAAOC,KAAKtD,EAAM8C,SAAS7B,OAAzC,OACA,oBAAIJ,UAAU,iBAAd,SAEEwC,OAAOC,KAAKtD,EAAM8C,SAASS,OAAOC,KAAI,SAACC,GAAD,OACtC,cAACsG,EAAD,CACCjH,QAAS9C,EAAM8C,QACfH,EAAGc,EACHmG,aAAc5J,EAAM4J,oBAIvB,6CAAgBvG,OAAOC,KAAKtD,EAAM0J,WAAWzI,OAA7C,OACA,oBAAIJ,UAAU,iBAAd,SAEEwC,OAAOC,KAAKtD,EAAM0J,WAAWnG,OAAOC,KAAI,SAACC,GAAD,OACxC,cAACuG,EAAD,CACCN,UAAW1J,EAAM0J,UACjB/G,EAAGc,EACHmG,aAAc5J,EAAM4J,oBAIvB,4CAAevG,OAAOC,KAAKtD,EAAM2J,UAAU1I,OAA3C,OACA,oBAAIJ,UAAU,iBAAd,SAEEwC,OAAOC,KAAKtD,EAAM2J,UAAUpG,OAAOC,KAAI,SAACC,GAAD,OACvC,cAACwG,EAAD,CACCN,SAAU3J,EAAM2J,SAChBhH,EAAGc,EACHmG,aAAc5J,EAAM4J,oBAIvB,qBAAK/I,UAAU,cAOlB,SAASkJ,EAAO/J,GACf,IAAI8C,EAAU9C,EAAM8C,QAChBW,EAAMzD,EAAM2C,EAEhB,OACC,mCACC,qBAAI9B,UAAU,iBAAd,UACC,qBAAKA,UAAU,gBAAf,SACC,qBAAKA,UAAU,qBAAqBqB,IAAKY,EAAQW,GAAKoC,oBAEvD,sBAAKhF,UAAU,cAAf,UACC,6BAAKiC,EAAQW,GAAKkC,OAClB,4BAAIlC,OAEL,qBAAK5C,UAAU,gBAAf,SACC,wBAAQC,QAAS,kBAAMd,EAAM4J,aAAa,SAAUnG,EAAKX,EAAQW,KAAjE,2BAOL,SAASuG,EAAShK,GACjB,IAAI0J,EAAY1J,EAAM0J,UAClBjG,EAAMzD,EAAM2C,EAEhB,OACC,mCACC,qBAAI9B,UAAU,iBAAd,UACC,qBAAKA,UAAU,gBAAf,SACC,qBAAKA,UAAU,qBAAqBqB,IAAKwH,EAAUjG,GAAKoC,oBAEzD,sBAAKhF,UAAU,cAAf,UACC,6BAAK6I,EAAUjG,GAAKkC,OACpB,4BAAIlC,OAEL,qBAAK5C,UAAU,gBAAf,SACC,wBAAQC,QAAS,kBAAMd,EAAM4J,aAAa,MAAOnG,EAAKiG,EAAUjG,KAAhE,wBAOL,SAASwG,EAASjK,GACjB,IAAI2J,EAAW3J,EAAM2J,SACjBlG,EAAMzD,EAAM2C,EAEhB,OACC,mCACC,qBAAI9B,UAAU,iBAAd,UACC,qBAAKA,UAAU,gBAAf,SACC,qBAAKA,UAAU,qBAAqBqB,IAAKyH,EAASlG,GAAKoC,oBAExD,sBAAKhF,UAAU,cAAf,UACC,6BAAK8I,EAASlG,GAAKkC,OACnB,4BAAIlC,OAEL,qBAAK5C,UAAU,uB,WGhSJ,MAA0B,wCCM1B,SAASqJ,EAAOlK,GAC7B,OACE,mCACF,sBAAKa,UAAU,kBAAf,UACC,oBAAIA,UAAU,cAAcC,QAAS,kBAAMd,EAAMkH,cAAc,IAA/D,SAAoF,IAAhBlH,EAAMgJ,MAAc,qBAAKnI,UAAU,mBAAmBgJ,MAAO,CAACC,gBAAiB,aAAc5H,IAAKkH,IAAgB,qBAAKvI,UAAU,mBAAmBqB,IAAKkH,MAC7N,oBAAIvI,UAAU,cAAeC,QAAS,kBAAMd,EAAMkH,cAAc,IAAhE,SAAqF,IAAhBlH,EAAMgJ,MAAc,qBAAKnI,UAAU,qBAAqBgJ,MAAO,CAACC,gBAAiB,UAAW5H,IAAKiI,IAAiB,qBAAKtJ,UAAU,qBAAqBqB,IAAKiI,WCGnO,IAAMC,EAA6BC,uBAAaC,KAC5CC,EAAc,yHAoYHC,E,kDAxXb,WAAYxK,GAAQ,IAAD,8BACjB,cAAMA,IAmCRyK,WAAa,WACP,EAAKC,MAAMC,MAAQ,EAAKD,MAAME,OAChC,EAAKC,SAAS,CACZC,YAAa,cAGf,EAAKD,SAAS,CACZC,YAAa,YA3CA,EA+CnBlJ,OAAS,WACP,EAAKiJ,SAAS,CACZF,MAAOI,OAAOC,WACdJ,OAAQG,OAAOE,aACf,EAAKR,aAnDU,EAqDnBS,kBAAoB,SAAAlC,GAClB,EAAK6B,SAAS,CACZ7B,WAvDe,EAsEnBmC,WAAa,WACblM,IAASU,OAAOyL,mBAAmB,SAASxG,GACvCA,EACCyG,KAAKR,SAAS,CACZzH,UAAU,EACVuC,KAAMf,EAAK0G,YACXzI,IAAK+B,EAAK2G,SACVxJ,MAAO6C,EAAK7C,OACXsJ,KAAKG,wBAEZH,KAAKR,SAAS,CACRzH,UAAU,EACVuC,KAAM,QACN5D,MAAO,kBACPc,IAAK0H,EACLnK,KAAM,EACNmJ,SAAU,EACVrG,aAAc,eACdwC,SAAS,IAAIlD,MAAOC,oBAG1BgJ,KApBiC,kBAvEhB,EA8FnBD,uBAAyB,WACvB,IAAMzI,EAAW/D,EAAGsC,WAAW,SAASC,IAAI,EAAKmJ,MAAM3I,OACvDgB,EAASX,MAAMC,MAAK,SAACd,GACnB,GAAKA,EAAImK,OAgDP,EAAKb,SAAS,CACZlF,KAAMpE,EAAIe,OAAJ,KACNO,IAAKtB,EAAIe,OAAJ,gBACLiH,SAAUhI,EAAIe,OAAJ,eACVlC,KAAMmB,EAAIe,OAAJ,WACNY,aAAc3B,EAAIe,OAAJ,aACdoD,QAASnE,EAAIe,OAAJ,QACTQ,QAASvB,EAAIe,OAAJ,QACTsD,QAASrE,EAAIe,OAAJ,SACR,EAAKqJ,oBAzDO,CAEf,IAAMC,GAAI,IAAIpJ,MAAOC,iBACrBM,EAASmC,IAAI,CACXQ,QAASkG,EACTjG,KAAM,EAAK+E,MAAM/E,KACjBE,gBAAiB,EAAK6E,MAAM7H,IAC5BK,aAAe,eACfuB,WAAY,EACZqB,eAAgB,EAChBF,QAAS,GACT9C,QAAQ,eACL,EAAK4H,MAAM3I,MAAQ,CAChB2D,QAASkG,EACT/F,gBAAiB,EAAK6E,MAAM7H,IAC5B8C,KAAM,EAAK+E,MAAM/E,KACjB/E,OAAQ,aACRiL,OAAQ,EACRC,WAAY,KACZ1L,KAAM,EACNmJ,SAAU,EACVwC,gBAAiB,KACjBC,MAAO,OAIf,EAAKnB,SAAS,CACZtB,SAAU,EACVnJ,KAAM,EACN8C,aAAc,eACd0C,QAAS,GACT9C,QAAQ,eACL,EAAK4H,MAAM3I,MAAQ,CAClB2D,QAASkG,EACT/F,gBAAiB,EAAK6E,MAAM7H,IAC5B8C,KAAM,EAAK+E,MAAM/E,KACjB/E,OAAQ,aACRiL,OAAQ,EACRC,WAAY,KACZ1L,KAAM,EACNmJ,SAAU,EACVwC,gBAAiB,KACjBC,MAAO,MAGV,EAAKL,qBA9IK,EA8JnBA,eAAiB,WACE3M,EAAGsC,WAAW,SAASC,IAAI,EAAKmJ,MAAM3I,OAC9CkK,YAAW,SAAC1K,GACnB,EAAKsJ,SAAS,CACZlF,KAAMpE,EAAIe,OAAJ,KACNO,IAAKtB,EAAIe,OAAJ,gBACLiH,SAAUhI,EAAIe,OAAJ,eACVlC,KAAMmB,EAAIe,OAAJ,WACNY,aAAc3B,EAAIe,OAAJ,aACdoD,QAASnE,EAAIe,OAAJ,QACTQ,QAASvB,EAAIe,OAAJ,QACTsD,QAASrE,EAAIe,OAAJ,UAEXd,QAAQC,IAAI,oBACZ,EAAKyK,wBACJ,SAAC7K,GACF8K,MAAM,6DACN3K,QAAQC,IAAIJ,OA/KG,EAkLnB+K,aAAe,WACb,EAAKT,iBACLnK,QAAQC,IAAI,mBApLK,EAuLnByK,mBAAqB,WACnB,IAAIG,EAAI,GACJ3C,EAAY,GACZC,EAAW,GACf3K,EAAGsC,WAAW,SAASc,MAAMC,MAAK,SAACd,GACjCA,EAAI+K,KAAKlI,SAAQ,SAACQ,GAEXvB,OAAOC,KAAK,EAAKoH,MAAM5H,SAAS0C,SAASZ,EAAKF,IAGjD2H,EAAEzH,EAAKF,IAAME,EAAKtC,OAFlBoH,EAAU9E,EAAKF,IAAME,EAAKtC,OAI5BqH,EAAS/E,EAAKF,IAAME,EAAKtC,UAK3B,EAAKuI,SAAS,CAEZnB,UAAWA,EACXC,SAAUA,QA3MG,EAgNnBC,aAAe,SAAC2C,EAAQ5L,EAAQ6L,GAI9B,IAAMzJ,EAAW/D,EAAGsC,WAAW,SAASC,IAAI,EAAKmJ,MAAM3I,OACnD0K,EAAO,EAAK/B,MAAM5H,QACtB,GAAe,QAAXyJ,EAAkB,CACpB,IAAIG,EAAmB,CACrBhH,QAAS8G,EAAM9G,QACfG,gBAAiB2G,EAAM3G,gBACvBF,KAAM6G,EAAM7G,KACZ/E,OAAQ,aACRiL,OAAQ,EACRC,WAAY,KACZ1L,KAAM,EACNmJ,SAAU,EACVwC,gBAAiB,KACjBC,MAAO,IAETS,EAAK9L,GAAU+L,EAEf3J,EAASnB,OAAO,CAACkB,QAAS2J,IAE1B,EAAK5B,SAAS,CACZ/H,QAAS2J,GACR,EAAKP,wBACY,WAAXK,WACFE,EAAK9L,GACZoC,EAASnB,OAAO,CAACkB,QAAS2J,IAC1B,EAAK5B,SAAS,CACZ/H,QAAS2J,GACR,EAAKP,sBA/OO,EAmPnB7C,WAAa,WACgB,QAAvB,EAAKqB,MAAM5D,UACb,EAAK+D,SAAS,CACZ/D,SAAU,gBAEZtF,QAAQC,IAAI,iBAEZ,EAAKoJ,SAAS,CACZ/D,SAAU,SAEZtF,QAAQC,IAAI,UA7PG,EAiQnBV,WAAa,SAACH,GACZ,EAAKiK,SAAS,CAAC9J,WAAYH,KAlQV,EAoQnBI,WAAa,SAACJ,GACZ,EAAKiK,SAAS,CAAC7J,WAAYJ,KArQV,EAwQnBsI,MAAQ,WACNvJ,EAAKgN,gBAAgB9M,GACpBwC,MAAK,SAACuK,GACL,EAAK/B,SAAS,CACZzH,UAAU,EACVuC,KAAMiH,EAAOhI,KAAK0G,YAClBvJ,MAAO6K,EAAOhI,KAAK7C,MACnBc,IAAK+J,EAAOhI,KAAK2G,eA/QJ,EAmRpB/B,OAAS,WACNvK,IAASU,OAAOkN,UAChB,EAAKhC,SAAS,CACZzH,UAAU,EACVuC,KAAM,QACN5D,MAAO,kBACPc,IAAK0H,EACLnK,KAAM,EACNmJ,SAAU,EACV3D,QAAS,GACT9C,QAAS,GACT4G,UAAW,GACXC,SAAU,MA7RZ,EAAKe,MAAQ,CAEX1B,MAAO,EACP4B,OAAQG,OAAOE,YACfN,MAAOI,OAAOC,WACdF,YAAa,YACb9G,iBAAiB,EAEjB8C,SAAU,OAEV/F,YAAY,EACZC,YAAY,EAEZoC,SAAU,KACVuC,KAAM,KACN5D,MAAO,KACPc,IAAK,KACL0G,SAAU,KACVnJ,KAAM,KACN8C,aAAc,KACdwC,QAAQ,KACRE,QAAS,GACT9C,QAAS,GACT4G,UAAW,GACXC,SAAU,IAIZ,EAAKwB,WAAa,EAAKA,WAAWM,KAAhB,gBAClBV,OAAO+B,iBAAiB,SAAU,EAAKlL,QACvCmJ,OAAO+B,iBAAiB,eAAgB,EAAKV,cAC7CrB,OAAO+B,iBAAiB,iBAAkB,EAAKV,cAjC9B,E,iDA0DnB,SAAclI,GACZmH,KAAKR,SAAS,CACZ7B,MAAO9E,M,gCAGX,SAAmBA,GACjBmH,KAAKR,SAAS,CACZ7G,gBAAiBE,M,+BAkOrB,WACE1C,QAAQC,IAAI,WACZ4J,KAAKF,e,oBAGP,WACE,IAAQnC,EAAUqC,KAAKX,MAAf1B,MACR,OACE,qCACCqC,KAAKX,MAAM3J,WACV,cAACyG,EAAD,CACEwB,MAAOA,EAEPE,MAAOmC,KAAKnC,MAAMuC,KAAKJ,MACvB7B,OAAQ6B,KAAK7B,OAAOiC,KAAKJ,MACzBrH,gBAAiBqH,KAAK0B,mBAAmBtB,KAAKJ,MAC9CzB,aAAcyB,KAAKzB,aAAa6B,KAAKJ,MACrChC,WAAYgC,KAAKhC,WAAWoC,KAAKJ,MAEjCjI,SAAUiI,KAAKX,MAAMtH,SACrBuC,KAAM0F,KAAKX,MAAM/E,KACjB5D,MAAOsJ,KAAKX,MAAM3I,MAClBc,IAAKwI,KAAKX,MAAM7H,IAChB0G,SAAU8B,KAAKX,MAAMnB,SACrBnJ,KAAMiL,KAAKX,MAAMtK,KACjBsF,QAAS2F,KAAKX,MAAMhF,QACpBE,QAASyF,KAAKX,MAAM9E,QACpB9C,QAASuI,KAAKX,MAAM5H,QACpB4G,UAAW2B,KAAKX,MAAMhB,UACtBC,SAAU0B,KAAKX,MAAMf,WAErB,KAEJ,eAACS,EAAD,CAA4B4C,SAAU3B,KAAKX,MAAM1G,gBAAiBiJ,mBAAiB,EAACjE,MAAOA,EAAOkE,cAAe7B,KAAKH,kBAAmBrB,MAAOxG,OAAO8J,OAAO,CAACxC,MAAOU,KAAKX,MAAMC,MAAOC,OAAQS,KAAKX,MAAME,OAAQwC,SAAU,WAAYC,IAAK,KAAMC,KAAM,OAA1P,UACE,sBAAKzD,MAAOxG,OAAO8J,OAAO,CAACrD,gBAAiB,QAASyD,UAAW,QAAS5C,MAAO,SAAhF,UACE,cAAC6C,EAAA,EAAD,UACE,sBAAM7H,KAAK,WAAW8H,QAAQ,uGAEhC,cAAC,EAAD,CAEErK,SAAUiI,KAAKX,MAAMtH,SACrBN,QAASuI,KAAKX,MAAM5H,QACpBI,aAAcmI,KAAKX,MAAMxH,aACzBL,IAAKwI,KAAKX,MAAM7H,IAChBd,MAAOsJ,KAAKX,MAAM3I,MAClBhB,WAAYsK,KAAKtK,WAAW0K,KAAKJ,MACjCrK,WAAYqK,KAAKrK,WAAWyK,KAAKJ,WAGrC,sBAAKxB,MAAOxG,OAAO8J,OAAO,CAACrD,gBAAiB,SAA5C,UACE,cAAC0D,EAAA,EAAD,UACE,sBAAM7H,KAAK,WAAW8H,QAAQ,wGAEhC,cAAC,EAAD,CACEzE,MAAOA,EAEP9B,cAAemE,KAAKnE,cAAcuE,KAAKJ,MACvCrH,gBAAiBqH,KAAK0B,mBAAmBtB,KAAKJ,MAC9CtK,WAAYsK,KAAKtK,WAAW0K,KAAKJ,MACjCrK,WAAYqK,KAAKrK,WAAWyK,KAAKJ,MAEjCvE,SAAUuE,KAAKX,MAAM5D,SAErBhE,QAASuI,KAAKX,MAAM5H,QACpBf,MAAOsJ,KAAKX,MAAM3I,MAClB3B,KAAMiL,KAAKX,MAAMtK,aAOtBiL,KAAKX,MAAM1J,WACV,cAAC,EAAD,CACEgI,MAAOA,EACP9B,cAAemE,KAAKnE,cAAcuE,KAAKJ,QAEvC,Y,GAjXQpF,IAAMyH,WCrBxBC,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,U","file":"static/js/main.fa5f44cf.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/auth';        // for authentication\nimport 'firebase/storage';     // for storage\nimport 'firebase/database';    // for realtime database\nimport 'firebase/firestore';   // for cloud firestore\nimport 'firebase/messaging';   // for cloud messaging\nimport 'firebase/functions';   // for cloud functions\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAzNigqy7stltnVUU8cAollxCxvW0CNBTE\",\n  authDomain: \"ghost-f8b34.firebaseapp.com\",\n  projectId: \"ghost-f8b34\",\n  storageBucket: \"ghost-f8b34.appspot.com\",\n  messagingSenderId: \"838623299070\",\n  appId: \"1:838623299070:web:b73429fee525b7c01cacaf\",\n  measurementId: \"G-85ZG5FVKQ4\"\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\nconst db = firebaseApp.firestore();\nconst auth = firebase.auth();\nconst storage = firebase.storage();\n// Google auth as a provider for this app, the popup\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nexport { db, auth, storage, provider };","import React, { Component, useState, useEffect } from 'react';\nimport {auth, storage, db} from './Firebase.js';\nimport TimeAgo from 'react-timeago';\nimport firebase from 'firebase/app';\nimport './Messages.css';\n\n/*\n * Function - Message(sender_name)\n * @sender_name: Name of person who sent the image\n * Return: Loaded images requested from Firebase\n * \n * Description:\n * A request (/post/current_user/) is sent to Firebase to get current_user's received images.\n*/\n\nexport default function Message(props) {\n\tconst [img, setImg] = useState(null);\n\tconst [sent, setSent] = useState([]);\n\tconst [opened, setOpened] = useState([]);\n\tconst [imgid, setimgid] = useState([]);\n\t\n\n\tconst open = () => {\n\t\t// Gets the latest snap\n\t\tvar tempimg = props.friend[\"snaps\"][props.friend[\"snaps\"].length - 1];\n\t\tprops.showNavbar(false)\n    props.showFooter(false)\n\t\tsetimgid(tempimg)\n\t\tdb.collection(\"Photos\").doc(tempimg).get().then((doc) => {\n\t\t\tsetImg(doc.data()[\"image_url\"]);\n\t\t\tsetSent(doc.data()[\"sent\"]);\n\t\t\tsetOpened(doc.data()[\"opened\"]);\n\t\t})\n\t\t\n\n\t\t// Update Sender's doc\n\t\tconst time = new Date().toLocaleString();\n\t\tvar sender_doc = db.collection(\"Users\").doc(props.k);\n\t\tsender_doc.get().then((doc) => {\n\t\t\tvar sender_dict = doc.data();\n\t\t\tsender_dict[\"friends\"][props.email][\"last_time_stamp\"] = time;\n\t\t\tsender_dict[\"friends\"][props.email][\"profile_pic_url\"] = props.pic;\n\t\t\tsender_dict[\"friends\"][props.email][\"status\"] = \"opened\";\n\t\t\tsender_doc.update({\n\t\t\t\tfriends: sender_dict[\"friends\"],\n\t\t\t})\n\t\t})\n\t\t// Update the User's (Receiver) doc\n\t\tvar user_doc = db.collection(\"Users\").doc(props.email);\n\t\tuser_doc.get().then((doc) => {\n\t\t\tvar receiver_dict = doc.data();\n\t\t\treceiver_dict[\"friends\"][props.k][\"last_time_stamp\"] = time;\n\n\t\t\tif (receiver_dict[\"friends\"][props.k][\"snaps\"].length <= 1) {\n\t\t\t\treceiver_dict[\"friends\"][props.k][\"status\"] = \"received\";\n\t\t\t} else {\n\t\t\t\treceiver_dict[\"friends\"][props.k][\"status\"] = \"new\";\n\t\t\t}\n\t\t\treceiver_dict[\"friends\"][props.k][\"snaps\"]\n\t\t\t.splice(receiver_dict[\"friends\"][props.k][\"snaps\"].length - 1, 1);\n\t\t\tuser_doc.update({\n\t\t\t\tfriends: receiver_dict[\"friends\"],\n\t\t\t})\n\t\t})\n\n\t}\n\tconst delete_photo = () => {\n\t\t// Delete photo if it is the last user to see it\n\t\tif (sent.length <= 1) {\n\t\t\t// Delete from storage\n\t\t\tstorage.ref(`posts/${imgid}`).delete().catch((error) => {});\n\t\t\t// Delete from Firestore\n\t\t\tdb.collection(\"Photos\").doc(imgid).delete().catch((error) => {});\n\t\t\tconsole.log(\"deleted\")\n\t\t} else {\n\t\t\t// Update Photo document\n\t\t\tvar newSent = sent;\n\t\t\tvar newOpened = opened;\n\t\t\tdb.collection(\"Photos\").doc(imgid).update({\n\t\t\t\tsent: newSent.splice(newSent.indexOf(props.email), 1),\n\t\t\t\topened: newOpened.push(props.email),\n\t\t\t})\n\t\t\tconsole.log(\"updated\")\n\t\t}\n\t}\n\tconst close = () => {\n\t\tprops.showNavbar(true)\n    props.showFooter(true)\n\t\tsetImg(null);\n\t\tdelete_photo();\n\t}\n\n\tvar icon_class = \"message-\" + props.friend[\"status\"]\n\tvar status_dict = {\n\t\t[\"new-friend\"]: \"New Friend!\",\n\t\tnew: \"New Snap\",\n\t\treceived: \"Received\",\n\t\tsent: \"Sent\",\n\t\topened: \"Opened\",\n\t\tpending: \"Pending\",\n\t\t[\"not-friends\"]: \"Unfriended You\",\n\t\tblocked: \"Blocked\",\n\t}\n\tvar status = status_dict[props.friend[\"status\"]]\n\t// console.log(status);\n\treturn (\n\t\t\t<>\n\t\t\t{img ?\n\t\t\t\t<div className=\"background-opened-image\" onClick={close}>\n\t\t\t\t\t<img className=\"opened-image\" src={img} />\n\t\t\t\t</div>\n\t\t\t\t:\n\t\t\t\t<li className=\"list-container\" onClick={props.friend[\"status\"] === \"new\" ? open : null}>\n\t\t\t\t\t<div className=\"pic-container\">\n\t\t\t\t\t\t<img className=\"friend-profile-pic\" src={props.friend[\"profile_pic_url\"]}></img>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"friend-info\">\n\t\t\t\t\t\t<h3>{props.friend[\"name\"]}</h3>\n\t\t\t\t\t\t<div className=\"message-info\">\n\t\t\t\t\t\t\t<div className=\"message-info\">\n\t\t\t\t\t\t\t\t<div className={icon_class} />\n\t\t\t\t\t\t\t\t<h5>{status}</h5>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h5>{props.friend[\"last_time_stamp\"] ? <> - <TimeAgo date={props.friend[\"last_time_stamp\"]} /> - </> : null}</h5>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h5>{props.friend[\"streak\"]}{props.streak_emoji}</h5>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"friend-info\">\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t</>\n\t)\n\n}\n","import React from 'react';\n// import React, { Component } from 'react';\nimport './Messages.css';\nimport Message from './Message';\n\n\nexport default function Messages(props) {\n    return (\n    <div className=\"messages-screen\">\n\t\t\t<div className=\"navbar\">\n\t\t\t\t\t{/* Placeholder */}\n\t\t\t</div>\n\t\t\t<ul className=\"messages-list\">\n\t\t\t\t{props.loggedIn ? \n\t\t\t\t\tnull\n\t\t\t\t\t:<li className=\"welcome-statement\">Welcome to Project Yellow Ghost, a web app version of SnapChat. This was a project developed by Jonathan Wang\n\t\t\t\t\t\tand this was his final project for school. Right now, you are on a local guest account for you to try out. Feel free to sign in at the top if\n\t\t\t\t\t\tyou want to start using this product. Happy Snapping!\n\t\t\t\t\t</li>\n\t\t\t\t}\n\t\t\t\t{Object.keys(props.friends).sort().map((key) => (\n\t\t\t\t\t<Message\n\t\t\t\t\t\tfriend={props.friends[key]}\n\t\t\t\t\t\tstreak_emoji={props.streak_emoji}\n\t\t\t\t\t\tk={key}\n\t\t\t\t\t\tpic={props.pic}\n\t\t\t\t\t\temail={props.email}\n\t\t\t\t\t\tshowNavbar={props.showNavbar}\n      \t\t\tshowFooter={props.showFooter}\n\t\t\t\t\t/>\n\t\t\t\t))}\t\n\t\t\t</ul>\n\t\t\t<div className=\"footer app-foot\">\n\t\t\t\t{/* Placeholder */}\n\t\t\t</div>\n    </div>\n    );\n}\n","export default __webpack_public_path__ + \"static/media/sent-vid-icon.ec0981e8.png\";","export default __webpack_public_path__ + \"static/media/black-checkmark.d8439ac6.png\";","import React, { Component, useEffect, useState, useRef } from 'react';\nimport Webcam from \"react-webcam\";\nimport './Camera.css';\nimport sent from './images/sent-vid-icon.png';\nimport checkmark from './images/black-checkmark.png';\nimport {storage, db} from './Firebase.js';\nimport firebase from 'firebase/app';\nimport { v4 as uuid } from \"uuid\";\nimport Flippy, { FrontSide, BackSide } from 'react-flippy';\n\n\nfunction Camera(props) {\n  const [img, setImg] = useState(null);\n  const [screen, setScreen] = useState(\"camera\");\n  const [aspectRatio, setAspectRatio] = useState(16/9);\n  const [sendList, setSendList] = useState([]);\n\n  const sendTo = () => {\n    setScreen(\"send\");\n    if (img === null) {\n      close()\n    }\n  }\n  const send = () => {\n    setImg(null);\n    setScreen(\"camera\");\n    send_pic()\n    props.changeToIndex(0);\n    props.disable_swiping(false)\n    props.showNavbar(true)\n    props.showFooter(true)\n  }\n  const back = () => {\n    setScreen(\"captured\")\n    props.showNavbar(false)\n  }\n  const close = () => {\n    setImg(null);\n    setScreen(\"camera\");\n    setSendList([])\n    props.disable_swiping(false)\n    props.showNavbar(true)\n    props.showFooter(true)\n  }\n  const handle_send_list = (e) => {\n    var arr = [];\n    e.forEach((element) => {\n      arr.push(element);\n    })\n    setSendList(arr)\n  }\n\n  const send_pic = () => {\n    if (props.email != \"Guest@Guest.com\") {\n      // User is logged in\n      // Update Sender's Doc: Friends -> Receiver_Name -> Status -> Sent\n      // Last_Time_Stamp, Sent: +1, Total_Sent: +1\n      var time_sent = new Date().toLocaleString();\n      var newDict = props.friends;\n      var total_sent = 0;\n      const id = uuid();\n      sendList.forEach((user) => {\n        total_sent = total_sent + 1;\n        newDict[user][\"status\"] = \"sent\";\n        newDict[user][\"last_time_stamp\"] = time_sent;\n        newDict[user][\"sent\"] = newDict[user][\"sent\"] + 1;\n      })\n      const user_doc = db.collection(\"Users\").doc(props.email);\n      user_doc.update({\n        total_sent: props.sent + total_sent,\n        friends: newDict,\n      })\n      // // Add actual photo image to storage\n      const uploadTask = storage.ref(`posts/${id}`).putString(img, 'data_url');\n      uploadTask.on(\n        \"state_changed\",\n        snapshot => {},\n        error => {\n          console.log(error);\n        },\n        () => {\n          storage.ref(`posts/${id}`).getDownloadURL().then(url => {\n            // Add a photo doc containing: id, sender, sent, opened, time_stamp\n            db.collection(\"Photos\").doc(id).set({\n              sender: props.email,\n              sent: sendList,\n              opened: [],\n              time_stamp: time_sent,\n              image_url: url,\n            })\n          })\n        }\n      )\n      // Add photo id to Receiver's Doc:  Friends -> Sender_Name -> Status -> Received\n      //                                  Last_Time_Stamp, Received: +1, Total_Received: +1\n      sendList.forEach((user) => {\n        var receiver_doc = db.collection(\"Users\").doc(user);\n        // check if receiver is friends with sender\n        receiver_doc.get().then((doc) => {\n          var list = doc.data();\n          if (Object.keys(list[\"friends\"]).includes(props.email)){\n            var friends_dict = list[\"friends\"];\n            friends_dict[props.email][\"status\"] = \"new\";\n            friends_dict[props.email][\"last_time_stamp\"] = time_sent;\n            friends_dict[props.email][\"received\"] = friends_dict[props.email][\"received\"] + 1;\n            friends_dict[props.email][\"snaps\"].push(id);\n            list[\"friends\"] = friends_dict;\n            receiver_doc.set({\n              created: list[\"created\"],\n              friends: list[\"friends\"],\n              name: list[\"name\"],\n              pending: list[\"pending\"],\n              profile_pic_url: list[\"profile_pic_url\"],\n              streak_emoji: list[\"streak_emoji\"],\n              total_received: list[\"total_received\"] + 1,\n              total_sent: list[\"total_sent\"],\n            });\n          } else if (Object.keys(list[\"pending\"]).includes(props.email)) {\n            var pending_dict = list[\"pending\"];\n            pending_dict[props.email][\"status\"] = \"new\";\n            pending_dict[props.email][\"last_time_stamp\"] = time_sent;\n            pending_dict[props.email][\"received\"] = friends_dict[props.email][\"received\"] + 1;\n            pending_dict[props.email][\"snaps\"].push(id);\n            list[\"pending\"] = pending_dict;\n            receiver_doc.set({\n              created: list[\"created\"],\n              friends: list[\"friends\"],\n              name: list[\"name\"],\n              pending: list[\"pending\"],\n              profile_pic_url: list[\"profile_pic_url\"],\n              streak_emoji: list[\"streak_emoji\"],\n              total_received: list[\"total_received\"] + 1,\n              total_sent: list[\"total_sent\"],\n            });\n          } else {\n            console.log(\"Not a friend, skipping \"+user+\".\");\n          }\n        })\n      })\n      setSendList([]);\n    } else {\n      // User is a guest\n      console.log(\"Guest is logged in\")\n    }\n  }\n  const webcamRef = React.useRef(null);\n  const capture = React.useCallback(\n    () => {\n      // const img = webcamRef.current.getScreenshot({width:props.width, height:props.height});\n      setImg(webcamRef.current.getScreenshot());\n      setScreen(\"captured\")\n      props.showNavbar(false)\n      props.showFooter(false)\n      props.disable_swiping(true)\n    },\n    [webcamRef]\n  );\n  // const flippy = React.useRef(null);\n  // const test = () => {\n  //   flippy.current.toggle()\n  // }\n\n  return (\n    <>\n    <div className=\"webcam-screen\">\n      <div className=\"navbar\" />\n\n      <Webcam\n        id=\"webcam\"\n        className=\"image-desktop\"\n        ref={webcamRef}\n        audio={false}\n        mirrored={true}\n        forceScreenshotSourceSize={false}\n        screenshotFormat=\"image/png\"\n        screenshotQuality={1}\n        videoConstraints={{facingMode: props.faceMode}}\n      />\n       {/* <Flippy\n          flipOnHover={false} // default false\n          flipDirection=\"horizontal\" // horizontal or vertical\n          ref={flippy} // to use toggle method like this.flippy.toggle()\n          // if you pass isFlipped prop component will be controlled component.\n          // and other props, which will go to div\n          className=\"image-desktop\"\n        >\n          <FrontSide>\n            <Webcam\n              id=\"webcam\"\n              className=\"image-desktop\"\n              ref={webcamRef}\n              audio={false}\n              mirrored={true}\n              forceScreenshotSourceSize={false}\n              screenshotFormat=\"image/png\"\n              screenshotQuality={1}\n              videoConstraints={{facingMode: props.faceMode}}\n            />\n          </FrontSide>\n          <BackSide className=\"image-desktop\">\n          <Webcam\n              id=\"webcam\"\n              className=\"image-desktop\"\n              ref={webcamRef}\n              audio={false}\n              mirrored={true}\n              forceScreenshotSourceSize={false}\n              screenshotFormat=\"image/png\"\n              screenshotQuality={1}\n              videoConstraints={{facingMode: props.faceMode}}\n            />\n          </BackSide>\n        </Flippy> */}\n\n      {screen === \"camera\" ? \n        <div className=\"webcam-overlay\">\n          <div className=\"camera-nav\">\n            <div className=\"navbar\"/>\n          </div>\n          <div className=\"camera-footer\">\n            <button className=\"capture-button\" onClick={capture}></button>\n            <div className=\"footer\"/>\n            <div className=\"footer\"/>\n          </div>\n        </div>\n        : null\n      }\n\n      {screen === \"captured\" ?\n        <>\n        <div className=\"captured-overlay\">\n          <div className=\"camera-nav\">\n            <div className=\"navbar\">\n              <button className=\"close\" onClick={close}>Close</button>\n            </div>\n          </div>\n          <img className=\"image-desktop\" src={img} />\n          <div className=\"captured-footer\">\n            <button className=\"save\">Save</button>\n            <button className=\"send-to\" onClick={sendTo}><b>Send To</b><img className=\"send-to-icon\" src={sent} /></button>\n          </div>\n        </div>\n        </>\n        : null\n      }\n\n      {screen === \"send\" ?\n        <div className=\"send-overlay\">\n          <div className=\"navbar\">\n            <button className=\"back\" onClick={back}>Back</button>\n            <input className=\"send-search\" type=\"search\"></input>\n            <button>...</button>\n          </div>\n\n          <h1>Recents ({Object.keys(props.friends).length})</h1>\n          <ul className=\"list-container send-list\">\n            {/* <h3>List: {Object.keys(props.friends)}</h3> */}\n            {Object.keys(props.friends).sort().map((key) => (\n              <Receiver\n                friends={props.friends}\n                k={key}\n                sendList={sendList}\n                handle_send_list={handle_send_list}\n                selected={sendList.includes(key) ? true : false}\n              />\n            ))}\n          </ul>\n          {sendList.length > 0 ? \n            <div className=\"send-footer\">\n              <h3 className=\"send-label\">Send to...</h3>\n              <button className=\"send-to \" onClick={send}>Send</button>\n            </div>\n            : null\n          }\n        </div>\n        : null\n      }\n        <div className=\"footer\"/>\n    </div>\n    </>\n  );\n}\n\nfunction Receiver(props) {\n  const [added, setAdded] = useState(props.selected);\n\tvar friends = props.friends;\n\tvar key = props.k;\n  var newArr = props.sendList;\n\n  const toggleSelected = () => {\n    \n    if (!added) {\n      newArr.push(key);\n      props.handle_send_list(newArr);\n    } else {\n      newArr.splice(newArr.indexOf(key), 1);\n      props.handle_send_list(newArr);\n    }\n    setAdded(!added);\n  }\n\n\treturn (\n\t\t<>\n\t\t\t<button onClick={toggleSelected} className=\"item-container\">\n\t\t\t\t<div className=\"pic-container\">\n\t\t\t\t\t<img className=\"friend-profile-pic\" src={friends[key].profile_pic_url}/>\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"friend-info\">\n\t\t\t\t\t<h2>{friends[key].name}</h2>\n\t\t\t\t\t<p>{key}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"friend-button\">\n          {added ?\n            <div className=\"selected-circle\"><img className=\"checkmark\" src={checkmark} alt=\"U+2713\"></img></div>\n            : <div className=\"unselected-circle\"><img className=\"checkmark\" src={checkmark} alt=\"U+2713\"></img></div>\n          }\n\t\t\t\t</div>\n\t\t\t</button>\n\t\t</>\n\t)\n}\n\nexport {Camera, Receiver}","export default __webpack_public_path__ + \"static/media/search-icon.57f01e89.png\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAj0lEQVRIie2UQQ7CMAwEB8rjCB/qkT6tFz5CHtIeUCRATfFathASK+US2zuWVgn8JegCVGAxngoUBaCYt3NXAG0otP+obODRTwDM4XszMIcfFfLLfXoGp84GVlUF5nlk5x2fbuFqHfiw6Gbh3TwUMKkDQf2uT1ACFB6BpgEUjdmAZwgAQwLgBhyAOcH7C1oBYN104vhSCtcAAAAASUVORK5CYII=\"","import React, { Component, useState, useEffect, useRef } from 'react';\nimport './Navbar.css';\nimport {auth, storage, db, provider} from './Firebase.js';\nimport firebase from 'firebase/app';\n// import {Test2} from './Camera.js';\nimport SearchIcon from './images/search-icon.png';\nimport AddFriendIcon from './images/add-friend-icon.png';\nimport ChatIcon from './images/chat-icon.png';\nimport FlipIcon from './images/flip-icon.png';\n\n\nfunction NavBar(props) {\n\t// Screens\n\tconst [showProfileScreen, setShowProfileScreen] = useState(false);\n\tconst [showAddFriendScreen, setShowAddFriendScreen] = useState(false);\n\t// Show/Hide Navbar contents\n\tconst [showLogin, setShowLogin] = useState(true);\n\tconst [showSearch, setShowSearch] = useState(true);\n\tconst [showTitle, setShowTitle] = useState(true);\n\tconst [showAddFriend, setShowAddFriend] = useState(true);\n\tconst [showNewChat, setShowNewChat] = useState(true);\n\tconst [showMore, setShowMore] = useState(false);\n\tconst [showClose, setShowClose] = useState(false);\n\tconst [showFlipCam, setShowFlipCam] = useState(null);\n\t// Navbar content\n\tconst [navTitle, setNavTitle] = useState(\"Chat\")\n\n\n\tconst toggleProfile = () => {\n\t\tsetShowProfileScreen(true);\n\t\tsetShowLogin(false);\n\t\tsetShowSearch(false);\n\t\tsetShowAddFriend(false);\n\t\tsetShowNewChat(false)\n\t\tsetShowMore(true);\n\t\tsetShowClose(true);\n\t\tsetNavTitle(\"Profile\");\n\t\tprops.disable_swiping(true);\n\t}\n\n\tconst toggleAddFriend = () => {\n\t\tsetShowAddFriendScreen(true);\n\t\tsetShowLogin(false);\n\t\tsetShowSearch(false);\n\t\tsetShowAddFriend(false);\n\t\tsetShowNewChat(false)\n\t\tsetShowMore(true);\n\t\tsetShowClose(true);\n\t\tsetNavTitle(\"Add Friends\");\n\t\tprops.disable_swiping(true);\n\t}\n\n\tconst resetNav = () => {\n\t\tsetShowProfileScreen(false);\n\t\tsetShowAddFriendScreen(false);\n\t\t// Navbar contents\n\t\tsetShowLogin(true);\n\t\tsetShowSearch(true);\n\t\tsetShowTitle(true);\n\t\tsetShowAddFriend(true);\n\t\tif (props.index == 0) {\n\t\t\tsetShowNewChat(true);\n\t\t}\n\t\tsetShowMore(false);\n\t\tsetShowClose(false);\n\t\tsetNavTitle(\"Chat\");\n\t\tprops.disable_swiping(false);\n\t}\n\n\tuseEffect(() => {\n    // check_user();\n\t\t// console.log(\"index: \", props.index);\n\t\tif (props.index == 0) {\n\t\t\tsetShowNewChat(true);\n\t\t\tsetShowFlipCam(false);\n\t\t\tsetShowTitle(true);\n\t\t} else if (props.index == 1) {\n\t\t\tsetShowNewChat(false);\n\t\t\tsetShowFlipCam(true);\n\t\t\tsetShowTitle(false);\n\t\t}\n  },[props.index]);\n\n\treturn (\n\t\t<>\n\t\t<div className=\"navbar app-nav\">\n\t\t<div className=\"nav-box-1\">\n\t\t\t<ul>\n\t\t\t\t{showLogin ?\n\t\t\t\t\tprops.loggedIn ?\n\t\t\t\t\t\t<li className=\"nav-item\"><img className=\"nav-item\" onClick={toggleProfile} src={props.pic}/></li>\n\t\t\t\t\t\t: <li><a onClick={props.login}>Sign In</a></li>\n\t\t\t\t\t: null}\n\t\t\t\t\n\t\t\t\t{showClose ? \n\t\t\t\t\t<li><a onClick={resetNav}>Close</a></li>\n\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t{showSearch ? <li className=\"nav-item\"><img className=\"search-icon\" src={SearchIcon} /></li> : null}\n\t\t\t</ul>\n\t\t</div>\n\t\t<div className=\"nav-box-2\">\n\t\t\t{props.index == 0 ?\n\t\t\t\tshowTitle ? \n\t\t\t\t\t<h1>{navTitle}</h1>\n\t\t\t\t\t: null\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{props.index == 1 ? \n\t\t\t\tshowTitle ? \n\t\t\t\t\tnull\n\t\t\t\t\t// <h1>Camera</h1>\n\t\t\t\t\t: null\n\t\t\t\t: null\n\t\t\t}\n\t\t</div>\n\t\t<div className=\"nav-box-3\">\n\t\t\t\t<ul>\n\t\t\t\t\t{showAddFriend ? <li className=\"nav-item\" onClick={toggleAddFriend}><img className=\"add-friend-icon\" src={AddFriendIcon} /></li> : null}\n\t\t\t\t\t{showNewChat ? <li className=\"nav-item\"><img src={ChatIcon} className=\"chat-icon\"/></li> : null}\n\t\t\t\t\t{showMore ? <li><a><b>. . .</b></a></li> : null}\n\t\t\t\t\t{showFlipCam ? <li className=\"nav-item\" onClick={props.flipCamera}><img className=\"flip-icon\" src={FlipIcon} /></li> : null}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t\t{showProfileScreen ? \n\t\t\t<ProfileModal\n\t\t\t// User Info\n\t\t\t\tpic={props.pic}\n\t\t\t\tname={props.name}\n\t\t\t\temail={props.email}\n\t\t\t\treceived={props.received}\n\t\t\t\tsent={props.sent}\n\t\t\t\tcreated={props.created}\n\t\t\t\t// functions\n\t\t\t\tresetNav={resetNav}\n\t\t\t\tlogout={props.logout}\n\t\t\t/>\n\t\t\t: null\n\t\t}\n\t\t{showAddFriendScreen ? \n\t\t\t<>\n\t\t\t\n\t\t\t<AddFriend\n\t\t\t\tfriends={props.friends}\n\t\t\t\tstrangers={props.strangers}\n\t\t\t\teveryone={props.everyone}\n\t\t\t\tedit_friends={props.edit_friends}\n\t\t\t/>\n\t\t\t{/* <div className=\"screen\">\n\t\t\t\t<div className=\"navbar\">\n\t\t\t\t</div>\n\t\t\t\t<button onClick={() => props.edit_friends(\"remove\", \"key\", \"value\")}>Remove</button>\n\t\t\t</div> */}\n\t\t\t\n\t\t\t</>\n\t\t\t: null\n\t\t}\n\t\t</>\n\t);\n}\n\nfunction ProfileModal(props) {\n\tconst logout = () => {\n\t\tprops.resetNav();\n\t\tprops.logout();\n\t}\n\treturn (\n\t\t<div className=\"screen\">\n\t\t\t<div className=\"navbar\">\n\t\t\t\t\t{/* Placeholder */}\n\t\t\t</div>\n\t\t\t<img src={props.pic} className=\"profile-pic\" />\n\t\t\t<h1>{props.name}</h1>\n\t\t\t<h3>{props.email}</h3>\n\t\t\t<h3>Received - {props.received} | {props.sent} - Sent</h3>\n\t\t\t<h3>Joined Project Yellow Ghost on {props.created}</h3>\n\t\t\t<h3>Created by Jonathan Wang</h3>\n\t\t\t<button onClick={logout} style={{backgroundColor: \"red\"}}><h1>Logout</h1></button>\n\t\t</div>\n\t)\n}\n\nfunction AddFriend(props) {\n\treturn (\n\t\t<div className=\"screen\">\n\t\t\t<div className=\"navbar\">\n\t\t\t\t\t{/* Placeholder */}\n\t\t\t</div>\n\t\t\t<h1>Friends ({Object.keys(props.friends).length})</h1>\n\t\t\t<ul className=\"list-container\">\n\t\t\t\t{/* <h3>List: {Object.keys(props.friends)}</h3> */}\n\t\t\t\t{Object.keys(props.friends).sort().map((key) => (\n\t\t\t\t\t<Friend\n\t\t\t\t\t\tfriends={props.friends}\n\t\t\t\t\t\tk={key}\n\t\t\t\t\t\tedit_friends={props.edit_friends}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t\t<h1>Strangers ({Object.keys(props.strangers).length})</h1>\n\t\t\t<ul className=\"list-container\">\n\t\t\t\t{/* <h3>List: {Object.keys(props.strangers)}</h3> */}\n\t\t\t\t{Object.keys(props.strangers).sort().map((key) => (\n\t\t\t\t\t<Stranger\n\t\t\t\t\t\tstrangers={props.strangers}\n\t\t\t\t\t\tk={key}\n\t\t\t\t\t\tedit_friends={props.edit_friends}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t\t<h1>Everyone ({Object.keys(props.everyone).length})</h1>\n\t\t\t<ul className=\"list-container\">\n\t\t\t\t{/* <h3>List: {Object.keys(props.strangers)}</h3> */}\n\t\t\t\t{Object.keys(props.everyone).sort().map((key) => (\n\t\t\t\t\t<Everyone\n\t\t\t\t\t\teveryone={props.everyone}\n\t\t\t\t\t\tk={key}\n\t\t\t\t\t\tedit_friends={props.edit_friends}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t\t<div className=\"footer\">\n\t\t\t\t{/* Placeholder */}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction Friend(props) {\n\tvar friends = props.friends;\n\tvar key = props.k;\n\n\treturn (\n\t\t<>\n\t\t\t<li className=\"item-container\">\n\t\t\t\t<div className=\"pic-container\">\n\t\t\t\t\t<img className=\"friend-profile-pic\" src={friends[key].profile_pic_url}/>\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"friend-info\">\n\t\t\t\t\t<h2>{friends[key].name}</h2>\n\t\t\t\t\t<p>{key}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"friend-button\">\n\t\t\t\t\t<button onClick={() => props.edit_friends(\"remove\", key, friends[key])}>Remove</button>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</>\n\t)\n}\n\nfunction Stranger(props) {\n\tvar strangers = props.strangers;\n\tvar key = props.k;\n\n\treturn (\n\t\t<>\n\t\t\t<li className=\"item-container\">\n\t\t\t\t<div className=\"pic-container\">\n\t\t\t\t\t<img className=\"friend-profile-pic\" src={strangers[key].profile_pic_url}/>\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"friend-info\">\n\t\t\t\t\t<h2>{strangers[key].name}</h2>\n\t\t\t\t\t<p>{key}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"friend-button\">\n\t\t\t\t\t<button onClick={() => props.edit_friends(\"add\", key, strangers[key])}>Add</button>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</>\n\t)\n}\n\nfunction Everyone(props) {\n\tvar everyone = props.everyone;\n\tvar key = props.k;\n\n\treturn (\n\t\t<>\n\t\t\t<li className=\"item-container\">\n\t\t\t\t<div className=\"pic-container\">\n\t\t\t\t\t<img className=\"friend-profile-pic\" src={everyone[key].profile_pic_url}/>\n\t\t\t\t</div>\t\n\t\t\t\t<div className=\"friend-info\">\n\t\t\t\t\t<h2>{everyone[key].name}</h2>\n\t\t\t\t\t<p>{key}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"friend-button\">\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</>\n\t)\n}\n\nexport {NavBar, ProfileModal, AddFriend}","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/camera-icon.710fefb4.png\";","import React from 'react'\nimport './Footer.css';\nimport CameraIcon from './images/camera-icon.png';\nimport ChatIcon from './images/chat-icon.png';\n\n\nexport default function Footer(props) {\n  return (\n    <>\n\t\t<div className=\"footer app-foot\">\n\t\t\t<li className=\"footer-item\" onClick={() => props.changeToIndex(0)}>{props.index === 0 ? <img className=\"footer-chat-icon\" style={{backgroundColor: 'lightblue'}} src={ChatIcon} />  : <img className=\"footer-chat-icon\" src={ChatIcon} />}</li>\n\t\t\t<li className=\"footer-item\"  onClick={() => props.changeToIndex(1)}>{props.index === 1 ? <img className=\"footer-camera-icon\" style={{backgroundColor: 'yellow'}} src={CameraIcon} /> : <img className=\"footer-camera-icon\" src={CameraIcon} />}</li>\n\t\t</div>\n\t\t</>\n  )\n}\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport SwipeableViews from 'react-swipeable-views';\nimport { bindKeyboard } from 'react-swipeable-views-utils';\nimport {auth, db, provider} from './Firebase.js';\nimport firebase from 'firebase/app';\nimport './App.css';\nimport Messages from './Messages.js';\nimport {Camera} from './Camera.js';\nimport {NavBar} from './Navbar.js';\nimport Footer from './Footer.js';\n\n// All the firebase calls will occur here to minimize usage\n\nconst BindKeyboardSwipeableViews = bindKeyboard(SwipeableViews);\nvar default_pic = \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/2048px-Circle-icons-profile.svg.png\"\n// var dummy_dict = {\n//   email: \"Guest@project-yellow-ghost.com\",\n//   name:\"Guest\",\n//   photoURL: default_pic,\n//   streak_emoji:\"\\u{1F525}\",\n//   imgs_sent: 0,\n//   imgs_received: 0,\n//   friends: ['Guest@project-yellow-ghost.com'],\n// }\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // For swiping screen\n      index: 0,\n      height: window.innerHeight,\n      width: window.innerWidth,\n      orientation: \"Landscape\",\n      disable_swiping: false,\n      // Camera\n      faceMode: \"user\",\n      // Navbar\n      showNavbar: true,\n      showFooter: true,\n      // User Info\n      loggedIn: null,\n      name: null,\n      email: null,\n      pic: null,\n      received: null,\n      sent: null,\n      streak_emoji: null,\n      created:null,\n      pending: {},\n      friends: [],\n      strangers: [],\n      everyone: [],\n\n    }\n\n    this.check_user = this.check_user.bind(this);\n    window.addEventListener(\"resize\", this.update);\n    window.addEventListener(\"beforeunload\", this.end_snapshot);\n    window.addEventListener(\"onbeforeunload\", this.end_snapshot);\n  }\n\n  set_device = () => {\n    if (this.state.width > this.state.height) {\n      this.setState({\n        orientation: \"Landscape\"\n      })\n    } else {\n      this.setState({\n        orientation: \"Mobile\"\n      })\n    }\n  }\n  update = () => {\n    this.setState({\n      width: window.innerWidth,\n      height: window.innerHeight\n    },this.set_device)\n  };\n  handleChangeIndex = index => {\n    this.setState({\n      index,\n    });\n  };\n  changeToIndex(e) {\n    this.setState({\n      index: e,\n    })\n  }\n  setDisabledSwiping(e) {\n    this.setState({\n      disable_swiping: e,\n    })\n  }\n\n  \n  check_user = () => {\n\t\tfirebase.auth().onAuthStateChanged(function(user) {\n\t\t\tif (user) {\n        this.setState({\n          loggedIn: true,\n          name: user.displayName,\n          pic: user.photoURL,\n          email: user.email,\n        }, this.check_user_on_firebase)\n\t\t\t} else {\n\t\t\t\tthis.setState({\n          loggedIn: false,\n          name: \"Guest\",\n          email: \"Guest@Guest.com\",\n          pic: default_pic,\n          sent: 0,\n          received: 0,\n          streak_emoji: \"\\u{1F525}\",\n          created: new Date().toLocaleString(),\n        })\n\t\t\t}\n\t\t}.bind(this))\n\t}\n\n  check_user_on_firebase = () => {\n    const user_doc = db.collection(\"Users\").doc(this.state.email);\n    user_doc.get().then((doc) => {\n      if (!doc.exists) {\n        // New User\n        const c = new Date().toLocaleString();\n        user_doc.set({\n          created: c,\n          name: this.state.name,\n          profile_pic_url: this.state.pic,\n          streak_emoji:  \"\\u{1F525}\",\n          total_sent: 0,\n          total_received: 0,\n          pending: {},\n          friends: {\n            [this.state.email]: {\n                created: c,\n                profile_pic_url: this.state.pic,\n                name: this.state.name,\n                status: \"new-friend\",\n                streak: 0,\n                streak_ref: null,\n                sent: 0,\n                received: 0,\n                last_time_stamp: null,\n                snaps: []\n            }\n          },\n        })\n        this.setState({\n          received: 0,\n          sent: 0,\n          streak_emoji: \"\\u{1F525}\",\n          pending: {},\n          friends: {\n            [this.state.email]: {\n              created: c,\n              profile_pic_url: this.state.pic,\n              name: this.state.name,\n              status: \"new-friend\",\n              streak: 0,\n              streak_ref: null,\n              sent: 0,\n              received: 0,\n              last_time_stamp: null,\n              snaps: [],\n            }\n          },\n        }, this.start_snapshot)\n      } else {\n        // User has logged in before\n        this.setState({\n          name: doc.data()[\"name\"],\n          pic: doc.data()[\"profile_pic_url\"],\n          received: doc.data()[\"total_received\"],\n          sent: doc.data()[\"total_sent\"],\n          streak_emoji: doc.data()[\"streak_emoji\"],\n          created: doc.data()[\"created\"],\n          friends: doc.data()[\"friends\"],\n          pending: doc.data()[\"pending\"],\n        }, this.start_snapshot)\n      }\n    })\n  }\n  start_snapshot = () => {\n    const user_doc = db.collection(\"Users\").doc(this.state.email);\n    user_doc.onSnapshot((doc) => {\n      this.setState({\n        name: doc.data()[\"name\"],\n        pic: doc.data()[\"profile_pic_url\"],\n        received: doc.data()[\"total_received\"],\n        sent: doc.data()[\"total_sent\"],\n        streak_emoji: doc.data()[\"streak_emoji\"],\n        created: doc.data()[\"created\"],\n        friends: doc.data()[\"friends\"],\n        pending: doc.data()[\"pending\"],\n      })\n      console.log(\"snapshot created\");\n      this.update_people_list();\n    }, (error) => {\n      alert(\"Problem with real time firebase, cannot get live updates.\");\n      console.log(error);\n    })\n  }\n  end_snapshot = () => {\n    this.start_snapshot();\n    console.log(\"ended snapshot\");\n  }\n  // Updates user's Friends, Strangers, and Everyone list\n  update_people_list = () => {\n    var f = {}\n    var strangers = {}\n    var everyone = {}\n    db.collection(\"Users\").get().then((doc) => {\n      doc.docs.forEach((user) => {\n        // console.log(\"This.friends: \", this.state.friends, user.id);\n        if (!Object.keys(this.state.friends).includes(user.id)) {\n          strangers[user.id] = user.data()\n        } else {\n          f[user.id] = user.data()\n        }\n        everyone[user.id] = user.data();\n      })\n      // console.log(\"Friends: \", f)\n      // console.log(\"Strangers: \", strangers)\n      // console.log(\"Everyone: \", everyone)\n      this.setState({\n        // friends: f,\n        strangers: strangers,\n        everyone: everyone,\n      })\n    })\n  }\n  // Add or Remove Friend from this.state.friends\n  edit_friends = (action, friend, value) => {\n    // console.log(\"action\", action);\n    // console.log(\"friend\", friend);\n    // console.log(\"value\", value);\n    const user_doc = db.collection(\"Users\").doc(this.state.email);\n    var dict = this.state.friends;\n    if (action === \"add\") {\n      var new_friend_entry = {\n        created: value.created,\n        profile_pic_url: value.profile_pic_url,\n        name: value.name,\n        status: \"new-friend\",\n        streak: 0,\n        streak_ref: null,\n        sent: 0,\n        received: 0,\n        last_time_stamp: null,\n        snaps: []\n      }\n      dict[friend] = new_friend_entry;\n      // Add to firestore\n      user_doc.update({friends: dict})\n      // Update state for user\n      this.setState({\n        friends: dict,\n      }, this.update_people_list)\n    } else if (action === \"remove\") {\n      delete dict[friend]\n      user_doc.update({friends: dict})\n      this.setState({\n        friends: dict,\n      }, this.update_people_list)\n    }\n  }\n\n  flipCamera = () => {\n    if (this.state.faceMode == \"user\") {\n      this.setState({\n        faceMode: \"environment\"\n      })\n      console.log(\"environemnt\")\n    } else {\n      this.setState({\n        faceMode: \"user\"\n      })\n      console.log(\"user\")\n    }\n  }\n\n  showNavbar = (status) => {\n    this.setState({showNavbar: status})\n  }\n  showFooter = (status) => {\n    this.setState({showFooter: status})\n  }\n\n  login = () => {\n    auth.signInWithPopup(provider)\n    .then((result) => {\n      this.setState({\n        loggedIn: true,\n        name: result.user.displayName,\n        email: result.user.email,\n        pic: result.user.photoURL,\n      })\n    })\n  }\n\tlogout = () => {\n    firebase.auth().signOut()\n    this.setState({\n      loggedIn: false,\n      name: \"Guest\",\n      email: \"Guest@Guest.com\",\n      pic: default_pic,\n      sent: 0,\n      received: 0,\n      pending: {},\n      friends: [],\n      strangers: [],\n      everyone: [],\n    })\n  }\n\n  componentDidMount() {\n    console.log(\"Mounted\");\n    this.check_user()\n  }\n\n  render() {\n    const { index } = this.state;\n    return (\n      <>\n      {this.state.showNavbar ?\n        <NavBar\n          index={index}\n          // Functions\n          login={this.login.bind(this)}\n          logout={this.logout.bind(this)}\n          disable_swiping={this.setDisabledSwiping.bind(this)}\n          edit_friends={this.edit_friends.bind(this)}\n          flipCamera={this.flipCamera.bind(this)}\n          // User Info\n          loggedIn={this.state.loggedIn}\n          name={this.state.name}\n          email={this.state.email}\n          pic={this.state.pic}\n          received={this.state.received}\n          sent={this.state.sent}\n          created={this.state.created}\n          pending={this.state.pending}\n          friends={this.state.friends}\n          strangers={this.state.strangers}\n          everyone={this.state.everyone}\n        />\n        : null\n      }\n      <BindKeyboardSwipeableViews disabled={this.state.disable_swiping} enableMouseEvents index={index} onChangeIndex={this.handleChangeIndex} style={Object.assign({width: this.state.width, height: this.state.height, position: 'absolute', top: '0%', left: '0%'})}>\n        <div style={Object.assign({backgroundColor: 'white', minHeight: '100vh', width: '100%'})}>\n          <Helmet>\n            <meta name=\"viewport\" content=\"height=device-height, width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\"></meta>\n          </Helmet>\n          <Messages\n            // User Info\n            loggedIn={this.state.loggedIn}\n            friends={this.state.friends}\n            streak_emoji={this.state.streak_emoji}\n            pic={this.state.pic}\n            email={this.state.email}\n            showNavbar={this.showNavbar.bind(this)}\n            showFooter={this.showFooter.bind(this)}\n          />\n        </div>\n        <div style={Object.assign({backgroundColor: 'Plum'})} >\n          <Helmet>\n            <meta name=\"viewport\" content=\"height=device-height, width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes\"></meta>\n          </Helmet>\n          <Camera\n            index={index}\n            // Functions\n            changeToIndex={this.changeToIndex.bind(this)}\n            disable_swiping={this.setDisabledSwiping.bind(this)}\n            showNavbar={this.showNavbar.bind(this)}\n            showFooter={this.showFooter.bind(this)}\n            // Camera\n            faceMode={this.state.faceMode}\n            // User Info\n            friends={this.state.friends}\n            email={this.state.email}\n            sent={this.state.sent}\n            // Increment this.sent\n            // Add person to pending list\n\n          />\n        </div>\n      </BindKeyboardSwipeableViews>\n      {this.state.showFooter ? \n        <Footer\n          index={index}\n          changeToIndex={this.changeToIndex.bind(this)}\n        />\n        : null\n      }\n      \n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Router, Route, Switch } from \"react-router\";\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}