{"version":3,"sources":["Firebase.js","Message.js","Messages.js","images/sent-vid-icon.png","images/black-checkmark.png","images/down-arrow-icon.png","Camera.js","images/photo-library-icon.png","images/face-filter-icon.png","images/close.png","images/search-icon.png","images/add-friend-icon.png","Navbar.js","images/chat-icon.png","images/flip-icon.png","images/camera-icon.png","images/chat.png","Footer.js","App.js","index.js","../node_modules/typescript/lib sync"],"names":["db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","provider","GoogleAuthProvider","Message","props","emoji","useState","img","setImg","sent","setSent","opened","setOpened","imgid","setimgid","icon_class","friend","status_dict","emoji_dict","status","className","onClick","showNavbar","showFooter","loggedIn","length","ref","delete","catch","error","collection","doc","console","log","newSent","newOpened","update","splice","indexOf","email","push","delete_photo","src","tempimg","get","then","data","time","Date","toLocaleString","receiver_dict","user_doc","k","sender_doc","sender_dict","pic","friends","newDict","setLocalDict","date","streak_emoji","Messages","Object","keys","sort","map","key","Camera","screen","setScreen","sendList","setSendList","bad_status_arr","close","disable_swiping","handle_send_list","e","arr","forEach","element","send_pic","time_sent","total_sent","good_status","count","id","uuid","user","includes","receiver_doc","list","friends_dict","created","name","pending","profile_pic_url","total_received","added_me_dict","uploadTask","putString","on","snapshot","getDownloadURL","url","set","sender","time_stamp","image_url","webcamRef","React","useRef","capture","useCallback","current","getScreenshot","audio","mirrored","forceScreenshotSourceSize","screenshotFormat","screenshotQuality","videoConstraints","facingMode","faceMode","style","textAlign","disabled","DownArrowIcon","type","Receiver","selected","changeToIndex","added","setAdded","newArr","streak","checkmark","alt","NavBar","showProfileScreen","setShowProfileScreen","showAddFriendScreen","setShowAddFriendScreen","showLogin","setShowLogin","showSearch","setShowSearch","showTitle","setShowTitle","showAddFriend","setShowAddFriend","showNewChat","setShowNewChat","showMore","setShowMore","showClose","setShowClose","showFlipCam","setShowFlipCam","navTitle","setNavTitle","resetNav","index","useEffect","login","SearchIcon","AddFriendIcon","flipCamera","ProfileModal","received","logout","AddFriend","strangers","everyone","edit_friends","added_me","backgroundColor","filtered_strangers","item","placeholder","Stranger","AddedMe","Friend","Everyone","fontSize","addedMe","Footer","ChatIcon","CameraIcon","BindKeyboardSwipeableViews","bindKeyboard","SwipeableViews","default_pic","App","set_device","state","width","height","setState","orientation","window","innerWidth","innerHeight","handleChangeIndex","check_user","onAuthStateChanged","this","displayName","photoURL","check_user_on_firebase","creation","streak_ref","last_time_stamp","snaps","bind","exists","start_snapshot","c","onSnapshot","update_people_list","alert","end_snapshot","f","docs","action","value","friend_doc","friend_dict","dict","new_friend_entry","signInWithPopup","result","signOut","addEventListener","setDisabledSwiping","enableMouseEvents","onChangeIndex","assign","position","top","left","minHeight","Helmet","content","Component","ReactDOM","render","document","getElementById","webpackEmptyContext","req","Error","code","resolve","module","exports"],"mappings":"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","file":"static/js/main.ee54aed5.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/auth';        // for authentication\nimport 'firebase/storage';     // for storage\nimport 'firebase/database';    // for realtime database\nimport 'firebase/firestore';   // for cloud firestore\nimport 'firebase/messaging';   // for cloud messaging\nimport 'firebase/functions';   // for cloud functions\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAzNigqy7stltnVUU8cAollxCxvW0CNBTE\",\n  authDomain: \"ghost-f8b34.firebaseapp.com\",\n  projectId: \"ghost-f8b34\",\n  storageBucket: \"ghost-f8b34.appspot.com\",\n  messagingSenderId: \"838623299070\",\n  appId: \"1:838623299070:web:b73429fee525b7c01cacaf\",\n  measurementId: \"G-85ZG5FVKQ4\"\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\nconst db = firebaseApp.firestore();\nconst auth = firebase.auth();\nconst storage = firebase.storage();\n// Google auth as a provider for this app, the popup\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nexport { db, auth, storage, provider };","import React, { Component, useState, useEffect } from 'react';\nimport {auth, storage, db} from './Firebase.js';\nimport TimeAgo from 'react-timeago';\nimport firebase from 'firebase/app';\nimport './Messages.css';\n\n/*\n * Function - Message(sender_name)\n * @sender_name: Name of person who sent the image\n * Return: Loaded images requested from Firebase\n * \n * Description:\n * A request (/post/current_user/) is sent to Firebase to get current_user's received images.\n*/\n\nexport default function Message(props) {\n\tconst [img, setImg] = useState(null);\n\tconst [sent, setSent] = useState([]);\n\tconst [opened, setOpened] = useState([]);\n\tconst [imgid, setimgid] = useState([]);\n\t\n\n\tconst open = () => {\n\t\t// Gets the latest snap\n\t\tvar tempimg = props.friend[\"snaps\"][props.friend[\"snaps\"].length - 1];\n\t\tprops.showNavbar(false)\n    props.showFooter(false)\n\t\tsetimgid(tempimg)\n\n\t\tif (props.loggedIn) {\n\t\t\tdb.collection(\"Photos\").doc(tempimg).get().then((doc) => {\n\t\t\t\tsetImg(doc.data()[\"image_url\"]);\n\t\t\t\tsetSent(doc.data()[\"sent\"]);\n\t\t\t\tsetOpened(doc.data()[\"opened\"]);\n\t\t\t})\n\t\t\t// Update the User's (Receiver) doc\n\t\t\tconst time = new Date().toLocaleString();\n\t\t\tvar receiver_dict = {};\n\t\t\tvar user_doc = db.collection(\"Users\").doc(props.email);\n\t\t\tuser_doc.get().then((doc) => {\n\t\t\t\treceiver_dict = doc.data();\n\n\t\t\t\tif (receiver_dict[\"friends\"][props.k][\"snaps\"].length <= 1) {\n\t\t\t\t\treceiver_dict[\"friends\"][props.k][\"status\"] = \"received\";\n\t\t\t\t\treceiver_dict[\"friends\"][props.k][\"last_time_stamp\"] = time;\n\t\t\t\t} else {\n\t\t\t\t\treceiver_dict[\"friends\"][props.k][\"status\"] = \"new\";\n\t\t\t\t}\n\t\t\t\treceiver_dict[\"friends\"][props.k][\"snaps\"]\n\t\t\t\t.splice(receiver_dict[\"friends\"][props.k][\"snaps\"].length - 1, 1);\n\n\t\t\t\t// Update Sender's doc\n\t\t\t\tvar sender_doc = db.collection(\"Users\").doc(props.k);\n\t\t\t\tsender_doc.get().then((doc) => {\n\t\t\t\t\tvar sender_dict = doc.data();\n\t\t\t\t\t\n\t\t\t\t\tsender_dict[\"friends\"][props.email][\"profile_pic_url\"] = props.pic;\n\t\t\t\t\tif (receiver_dict[\"friends\"][props.k][\"status\"] == \"received\") {\n\t\t\t\t\t\tsender_dict[\"friends\"][props.email][\"status\"] = \"opened\";\n\t\t\t\t\t\tsender_dict[\"friends\"][props.email][\"last_time_stamp\"] = time;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tsender_doc.update({\n\t\t\t\t\t\tfriends: sender_dict[\"friends\"],\n\t\t\t\t\t})\n\t\t\t\t\tuser_doc.update({\n\t\t\t\t\t\tfriends: receiver_dict[\"friends\"],\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t})\n\t\t} else {\n\t\t\t// Guest Account\n\t\t\tsetImg(tempimg);\n\t\t\tvar newDict = props.friends;\n\n\t\t\tif (newDict[props.k][\"snaps\"].length == 1) {\n\t\t\t\tnewDict[props.k][\"status\"] = \"received\";\n\t\t\t} else {\n\t\t\t\tnewDict[props.k][\"status\"] = \"new\";\n\t\t\t}\n\t\t\tnewDict[props.k][\"last_time_stamp\"] = new Date().toLocaleString();\n\t\t\tnewDict[props.k][\"snaps\"] = newDict[props.k][\"snaps\"].splice(newDict[props.k][\"snaps\"].length - 1);\n\t\t\tprops.setLocalDict(newDict);\n\n\t\t}\n\t}\n\tconst delete_photo = () => {\n\t\tif (props.loggedIn) {\n\t\t\t// Delete photo if it is the last user to see it\n\t\t\tif (sent.length <= 1) {\n\t\t\t\t// Delete from storage\n\t\t\t\tstorage.ref(`posts/${imgid}`).delete().catch((error) => {});\n\t\t\t\t// Delete from Firestore\n\t\t\t\tdb.collection(\"Photos\").doc(imgid).delete().catch((error) => {});\n\t\t\t\tconsole.log(\"deleted\")\n\t\t\t} else {\n\t\t\t\t// Update Photo document\n\t\t\t\tvar newSent = sent;\n\t\t\t\tvar newOpened = opened;\n\t\t\t\tdb.collection(\"Photos\").doc(imgid).update({\n\t\t\t\t\tsent: newSent.splice(newSent.indexOf(props.email), 1),\n\t\t\t\t\topened: newOpened.push(props.email),\n\t\t\t\t})\n\t\t\t\tconsole.log(\"updated\")\n\t\t\t}\n\t\t}\n\t}\n\tconst close = () => {\n\t\tprops.showNavbar(true)\n    props.showFooter(true)\n\t\tsetImg(null);\n\t\tdelete_photo();\n\t}\n\n\tvar icon_class = \"message-\" + props.friend[\"status\"]\n\tvar emoji = null;\n\tvar status_dict = {\n\t\t[\"new-friend\"]: \"New Friend!\",\n\t\tnew: \"New Snap\",\n\t\treceived: \"Received\",\n\t\tsent: \"Sent\",\n\t\topened: \"Opened\",\n\t\tpending: \"Pending\",\n\t\t[\"not-friends\"]: \"Unfriended You\",\n\t\tblocked: \"Blocked\",\n\t}\n\tvar emoji_dict = {\n\t\t[\"not-friends\"]: \"\\u{1F494}\",\n\t\tblocked: \"\\u{26D4}\",\n\t\tpending: \"\\u{23F3}\"\n\t}\n\tvar status = status_dict[props.friend[\"status\"]]\n\temoji = emoji_dict[props.friend[\"status\"]]\n\t// console.log(status);\n\treturn (\n\t\t\t<>\n\t\t\t{img ?\n\t\t\t\t<div className=\"background-opened-image\" onClick={close}>\n\t\t\t\t\t<img className=\"opened-image\" src={img} />\n\t\t\t\t</div>\n\t\t\t\t:\n\t\t\t\t<li className=\"list-container\" onClick={props.friend[\"status\"] === \"new\" ? open : null}>\n\t\t\t\t\t<div className=\"pic-container\">\n\t\t\t\t\t\t<img className=\"friend-profile-pic\" src={props.friend[\"profile_pic_url\"]}></img>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"friend-info\">\n\t\t\t\t\t\t<h3>{props.friend[\"name\"]}</h3>\n\t\t\t\t\t\t<div className=\"message-info\">\n\t\t\t\t\t\t\t<div className=\"message-info-container\">\n\t\t\t\t\t\t\t\t{emoji ? <p>{emoji}</p> : <div className={icon_class}></div>}\n\t\t\t\t\t\t\t\t<h5>{status} </h5>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h5>{props.friend[\"last_time_stamp\"] ? <> - <TimeAgo date={props.friend[\"last_time_stamp\"]} /> - </> : null}</h5>\n\t\t\t\t\t\t\t<div className=\"streak-container\">\n\t\t\t\t\t\t\t\t\t{props.friend[\"streak\"] === null ? null : <>\n\t\t\t\t\t\t\t\t\t\t<h5>{props.friend[\"streak\"]}</h5>\n\t\t\t\t\t\t\t\t\t\t<h5>{props.streak_emoji}</h5>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"friend-info\">\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t</>\n\t)\n\n}\n","import React from 'react';\n// import React, { Component } from 'react';\nimport './Messages.css';\nimport Message from './Message';\n\n\nexport default function Messages(props) {\n    return (\n    <div className=\"messages-screen\">\n\t\t\t<div className=\"navbar\">\n\t\t\t\t\t{/* Placeholder */}\n\t\t\t</div>\n\t\t\t<ul className=\"messages-list\">\n\t\t\t\t{props.loggedIn ? \n\t\t\t\t\tnull\n\t\t\t\t\t:<li className=\"welcome-statement\">Welcome to Project Yellow Ghost, a web app version of SnapChat. This was a project developed by Jonathan Wang\n\t\t\t\t\t\tand this was his final project for school. Right now, you are on a local guest account for you to try out. Feel free to sign in at the top if\n\t\t\t\t\t\tyou want to start using this product. Happy Snapping!\n\t\t\t\t\t</li>\n\t\t\t\t}\n\t\t\t\t{Object.keys(props.friends).sort().map((key) => (\n\t\t\t\t\t<Message\n\t\t\t\t\t\tfriend={props.friends[key]}\n\t\t\t\t\t\tfriends={props.friends}\n\t\t\t\t\t\tstreak_emoji={props.streak_emoji}\n\t\t\t\t\t\tk={key}\n\t\t\t\t\t\tpic={props.pic}\n\t\t\t\t\t\temail={props.email}\n\t\t\t\t\t\tshowNavbar={props.showNavbar}\n      \t\t\tshowFooter={props.showFooter}\n\t\t\t\t\t\tloggedIn={props.loggedIn}\n\t\t\t\t\t\tsetLocalDict={props.setLocalDict}\n\t\t\t\t\t/>\n\t\t\t\t))}\t\n\t\t\t</ul>\n\t\t\t<div className=\"footer app-foot\">\n\t\t\t\t{/* Placeholder */}\n\t\t\t</div>\n    </div>\n    );\n}\n","export default __webpack_public_path__ + \"static/media/sent-vid-icon.ec0981e8.png\";","export default __webpack_public_path__ + \"static/media/black-checkmark.d8439ac6.png\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAB1uAAAdbgExEvOKAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAcJQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/CAi6QAAAJV0Uk5TAAECBQYHCQoLDhITFBUWFxgZGhscHR4fICMkJyosLS4vMDEyMzQ1Njc5Ojs8QkNEUFFSVFlcXmNnaGlqcnV7foGDhoeJi42Oj5KVlpeYmZqbnaClp6mqq6ytrrS1trq9vr/AwsPGx8jKzM3Oz9HS09TV1tfY2drb3N3e3+Di5Ofo6err7O3u7/Dx8vP29/j5+vv8/f5nmyZOAAAHNklEQVR42u3c+ZuWYxzG4QdRoYimhDZakJ0sFbJL1kqIbE1JdiKyhZaJSWG+/68p28hME71N7/Ne5/n7fffO/bmOjmaOqmkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABabebdazdt++LQwMevb3jk5ineo83Ouen+Zze//c2Bna9veOzOGSdzYvHqt2uknzavuNQ7ttOFdzx/cGTLoR2rl45z5Pr++refnzKBNuZ/5NAoMd+88QRHFrxcoxt8+HwP2i5TV/8wRszXrh3jyKQnh2pMB5d70za5Ze/YLWv95NGOXLy1Tuihsz1rW5x139AJW74za5Q//H1d43hpqpdthykvjNfy22XHn7n1UI3ro9nethXfxr87fsvDt//zzJKT6F/15WVetwX9d51My8PXjTwz4+sqC0jqX7Vn5t9nzt1WZQFZ/aveOu+vQ89UWUBa/6p1fx5aNFQWkNe/6s+fC7/yXw7VF74X6FqX/qf+9ervp26osoDE/lU3HTu2vSwgs39tP3psWZUFZPavOvoDwQfKAlL714PDB98tC0jtX+81TV+VBaT2r5rV3FUWkNu/VjSPlwXk9q+1zYtlAbn9a1OztSwgt39tbXaXBeT2r93NYFlAbv8abAbKAnL710Czsywgt3/tbN4oC8jtX280G8oCcvvXhubRsoDW9v/0lOM92txWFpDbv25rph6xgNz+R6Y2zatlAan9j/2twFVlAan9a9XwTZcPWUBq/6HLj961viwgs3+tP3bZnCMWkNn/yJzfr3uiLCCxfz3xx30zBi2gTS7pUP/Bv/7buJVlAXn9a+Xfdz5tAXn9nx5x6aR+C0jr3z9p5LXTv7KArP5fTf/nxXO/s4Ck/t/NPf7qeRaQ1H/evy+3gOz+FpDef3gB31tAQv/v5431S1hAdn8LSO9vAen9LSC9vwWk97eAbuz/yQT2t4D0/haQ3t8C0vtbQHp/C0jv38EF7LaANvbv5AJm6djC/haQ3t8C0vtbQHr/pplvAb3Qf/7//xAWkN3fAtL7W0B6fws4I2Z0T38LSO9vAen9LSC9vwWk97eA9P4WkN7fAtL7W0B6fwuYiP47u7i/BaT3t4D0/haQ3t8C0vtbQHr/4QXstYBu7r93/un+qBaQ3d8C0vtbQHp/C0jv3zQLLKAb+y+YuA9tAdn9LSC9vwWk97eA9P4WkN7fAtL7W0B6fwtI728Bp+DiXuhvAen9LSC9vwWk97eA/9P/4x7qbwHp/S0gvb8FpPe3gPT+FpDe3wLS+1tAen8LSO9vAen9O7iAz2fp38L+TbPQAiai/8Lu/SItILt/JxfQp38L+1tAen8LSO9vAen9LSC9vwWk9x9ewD4L6Hz/fQvb80VbQHZ/C0jvbwHp/S0gvb8FHO3/UXB/C0jvH7+A+P7hC7hI/+gF6J+9AP2zF6B/9gL0z16A/tkL0P84V2UtoHP9r2oaC2jdAvTPXoD+2QvQP3sB+mcvQP/sBeifvQD9sxegf/YC9M9egP7ZC9A/ewH6Zy/gog/1T16A/tkL0D97AfpnL0D/7AXon70A/bMXoH/2AvTPXoD+p+Tq/S1fwPRO9d8f2b/1C+hc/6ubxgJatwD9sxegf3ct4LM+/S1AfwvQ3wL0twD9LUB/C9A/cAEz9bcA/S3gtPX/QP/kBeifvQD9sxegf/YC9M9egP7ZC9A/ewH6Zy9A/+wF6D+BFnXfAjrXf5G+LVyA/tkL0D97AfpnL0D/7AXon70A/bMXoH/2AvTPXsA0/aMXoH/2AvTPXsC09/VPXoD+2QvQP3sB+nfTAg5M+AI61v+A/m1cgP7ZC9A/ewH6Zy9A/+wF6J+9AP271uKJWEDn+i9WrIUL0D97AfpnL0D/7AXon70A/bMXoH/2AvTPXoD+iQvYNVN/C9DfAvTPXsC09/RPXoD+4Qvw+3/4AvS3AP0tQH8L0N8C9LcA/S1AfwvQvzWWnOEFHFiiQfIC9M9egP7ZC9A/ewH6Zy9A/+wF6J+9AP2zF6B/9gL078IFDExc/wH9oxegf/YC9M9egP7ZC9A/ewH6Zy9A/+wF6J+9AP2zF6B/9gL0z16A/u2x9DQsYGCpd01egP7ZC9A/ewH6Zy9A/+wF6J+9AP2zF6B/9gL0z16A/tkL0D97AfpnL0D/7AXon70A/bMXoH/2AvTPXoD+2QvQP3sB+mcvQP/sBejfm645yQUMXOOtkhegf+9asmf8/nv8+48e1rdjvP47+rxSL5v83In7PzfZG/W4ew+Pnf/wvd6n981e9+vo+X9dN9vrRLhy02j9N13pZWJccc+WX0bG/2XLPVd4lSwXLF+zsX/Xjz/u6t+4ZvkF3gMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKD7/QYMqOBmV0lWVgAAAABJRU5ErkJggg==\"","import React, { Component, useEffect, useState, useRef } from 'react';\nimport Webcam from \"react-webcam\";\nimport './Camera.css';\nimport sent from './images/sent-vid-icon.png';\nimport checkmark from './images/black-checkmark.png';\nimport PhotoLibIcon from './images/photo-library-icon.png';\nimport FaceFilterIcon from './images/face-filter-icon.png';\nimport CloseIcon from './images/close.png';\nimport DownArrowIcon from './images/down-arrow-icon.png';\nimport {storage, db} from './Firebase.js';\nimport firebase from 'firebase/app';\nimport { v4 as uuid } from \"uuid\";\nimport Flippy, { FrontSide, BackSide } from 'react-flippy';\n\n\nfunction Camera(props) {\n  const [img, setImg] = useState(null);\n  const [screen, setScreen] = useState(\"camera\");\n  const [aspectRatio, setAspectRatio] = useState(16/9);\n  const [sendList, setSendList] = useState([]);\n  const bad_status_arr = [\"pending\", \"not-friends\", \"blocked\"];\n\n  const sendTo = () => {\n    setScreen(\"send\");\n    if (img === null) {\n      close()\n    }\n  }\n  const send = () => {\n    setScreen(\"camera\");\n    send_pic()\n    props.changeToIndex(0);\n    props.disable_swiping(false)\n    props.showNavbar(true)\n    props.showFooter(true)\n  }\n  const back = () => {\n    setScreen(\"captured\")\n    props.showNavbar(false)\n  }\n  const close = () => {\n    setImg(null);\n    setScreen(\"camera\");\n    setSendList([])\n    props.disable_swiping(false)\n    props.showNavbar(true)\n    props.showFooter(true)\n  }\n  const handle_send_list = (e) => {\n    var arr = [];\n    e.forEach((element) => {\n      arr.push(element);\n    })\n    setSendList(arr)\n  }\n\n  const send_pic = () => {\n    var time_sent = new Date().toLocaleString();\n    var newDict = props.friends;\n    var total_sent = 0;\n    var good_status = [];\n    var count = 0;\n    const id = uuid();\n    const user_doc = db.collection(\"Users\").doc(props.email);\n    if (props.email != \"Guest@Guest.com\") {\n      // User is logged in\n\n      // Update Sender's Doc: Friends -> Receiver_Name -> Status -> Sent\n      // Last_Time_Stamp, Sent: +1, Total_Sent: +1\n      sendList.forEach((user) => {\n        count = count + 1;\n        if (!bad_status_arr.includes(props.friends[user][\"status\"])) {\n          total_sent = total_sent + 1;\n          newDict[user][\"status\"] = \"sent\";\n          newDict[user][\"last_time_stamp\"] = time_sent;\n          newDict[user][\"sent\"] = newDict[user][\"sent\"] + 1;\n        }\n        if (sendList.length == count) {\n          user_doc.update({\n            total_sent: props.sent + total_sent,\n            friends: newDict,\n          })\n        }\n      })\n\n      // Add photo id to Receiver's Doc:  Friends -> Sender_Name -> Status -> Received\n      //                                  Last_Time_Stamp, Received: +1, Total_Received: +1\n      sendList.forEach((user) => {\n        var receiver_doc = db.collection(\"Users\").doc(user);\n        // check if receiver is friends with sender\n        receiver_doc.get().then((doc) => {\n          var list = doc.data();\n          if (Object.keys(list[\"friends\"]).includes(props.email) &&\n              !bad_status_arr.includes(list[\"friends\"][props.email][\"status\"])) {\n            good_status.push(user);\n            var friends_dict = list[\"friends\"];\n            friends_dict[props.email][\"status\"] = \"new\";\n            friends_dict[props.email][\"last_time_stamp\"] = time_sent;\n            friends_dict[props.email][\"received\"] = friends_dict[props.email][\"received\"] + 1;\n            friends_dict[props.email][\"snaps\"].push(id);\n            list[\"friends\"] = friends_dict;\n            receiver_doc.update({\n              created: list[\"created\"],\n              friends: list[\"friends\"],\n              name: list[\"name\"],\n              pending: list[\"pending\"],\n              profile_pic_url: list[\"profile_pic_url\"],\n              streak_emoji: list[\"streak_emoji\"],\n              total_received: list[\"total_received\"] + 1,\n              total_sent: list[\"total_sent\"],\n            });\n          } else if (Object.keys(list[\"added_me\"]).includes(props.email) &&\n                     !bad_status_arr.includes(list[\"friends\"][props.email][\"status\"])) {\n            good_status.push(user);\n            var added_me_dict = list[\"added_me\"];\n            added_me_dict[props.email][\"status\"] = \"new\";\n            added_me_dict[props.email][\"last_time_stamp\"] = time_sent;\n            added_me_dict[props.email][\"received\"] = friends_dict[props.email][\"received\"] + 1;\n            added_me_dict[props.email][\"snaps\"].push(id);\n            list[\"added_me\"] = added_me_dict;\n            receiver_doc.update({\n              created: list[\"created\"],\n              friends: list[\"friends\"],\n              name: list[\"name\"],\n              pending: list[\"pending\"],\n              profile_pic_url: list[\"profile_pic_url\"],\n              streak_emoji: list[\"streak_emoji\"],\n              total_received: list[\"total_received\"] + 1,\n              total_sent: list[\"total_sent\"],\n            });\n          } else {\n            console.log(\"Did not send it to \"+user+\".\");\n          }\n        })\n      })\n\n      // // Add actual photo image to storage\n      const uploadTask = storage.ref(`posts/${id}`).putString(img, 'data_url');\n      // check if user will be sending to an eligible user (Not blocked, unfriended, etc)\n      if (total_sent > 0) {\n        uploadTask.on(\n          \"state_changed\",\n          snapshot => {},\n          error => {\n            console.log(error);\n          },\n          () => {\n            storage.ref(`posts/${id}`).getDownloadURL().then(url => {\n              // Add a photo doc containing: id, sender, sent, opened, time_stamp\n              db.collection(\"Photos\").doc(id).set({\n                sender: props.email,\n                sent: good_status,\n                opened: [],\n                time_stamp: time_sent,\n                image_url: url,\n              })\n            })\n          }\n        )\n      }\n      \n\n      setSendList([]);\n      setImg(null);\n    } else {\n      // User is a guest\n\n      // Update Sender's dictionary\n      sendList.forEach((user) => {\n        count = count + 1;\n        if (!bad_status_arr.includes(props.friends[user][\"status\"])) {\n          total_sent = total_sent + 1;\n          newDict[user][\"status\"] = \"sent\";\n          newDict[user][\"last_time_stamp\"] = time_sent;\n          newDict[user][\"sent\"] = newDict[user][\"sent\"] + 1;\n        }\n      })\n\n      // Update Receiver's Dictionary (Guest)\n      if (!bad_status_arr.includes(props.friends[props.email][\"status\"])) {\n        newDict[props.email][\"status\"] = \"new\";\n        newDict[props.email][\"last_time_stamp\"] = time_sent;\n        newDict[props.email][\"received\"] = newDict[props.email][\"received\"] + 1;\n        newDict[props.email][\"snaps\"].push(img)\n      }\n      props.setLocalDict(newDict);\n      setImg(null);\n      setSendList([]);\n    }\n  }\n  const webcamRef = React.useRef(null);\n  const capture = React.useCallback(\n    () => {\n      // const img = webcamRef.current.getScreenshot({width:props.width, height:props.height});\n      setImg(webcamRef.current.getScreenshot());\n      setScreen(\"captured\")\n      props.showNavbar(false)\n      props.showFooter(false)\n      props.disable_swiping(true)\n    },\n    [webcamRef]\n  );\n  // const flippy = React.useRef(null);\n  // const test = () => {\n  //   flippy.current.toggle()\n  // }\n  \n\n  return (\n    <>\n    <div className=\"webcam-screen\">\n      <div className=\"navbar\" />\n\n      <Webcam\n        id=\"webcam\"\n        className=\"image-desktop\"\n        ref={webcamRef}\n        audio={false}\n        mirrored={true}\n        forceScreenshotSourceSize={false}\n        screenshotFormat=\"image/png\"\n        screenshotQuality={1}\n        videoConstraints={{facingMode: props.faceMode}}\n      />\n       {/* <Flippy\n          flipOnHover={false} // default false\n          flipDirection=\"horizontal\" // horizontal or vertical\n          ref={flippy} // to use toggle method like this.flippy.toggle()\n          // if you pass isFlipped prop component will be controlled component.\n          // and other props, which will go to div\n          className=\"image-desktop\"\n        >\n          <FrontSide>\n            <Webcam\n              id=\"webcam\"\n              className=\"image-desktop\"\n              ref={webcamRef}\n              audio={false}\n              mirrored={true}\n              forceScreenshotSourceSize={false}\n              screenshotFormat=\"image/png\"\n              screenshotQuality={1}\n              videoConstraints={{facingMode: props.faceMode}}\n            />\n          </FrontSide>\n          <BackSide className=\"image-desktop\">\n          <Webcam\n              id=\"webcam\"\n              className=\"image-desktop\"\n              ref={webcamRef}\n              audio={false}\n              mirrored={true}\n              forceScreenshotSourceSize={false}\n              screenshotFormat=\"image/png\"\n              screenshotQuality={1}\n              videoConstraints={{facingMode: props.faceMode}}\n            />\n          </BackSide>\n        </Flippy> */}\n\n      {screen === \"camera\" ? \n        <div className=\"webcam-overlay\">\n          <div className=\"camera-nav\">\n            <div className=\"navbar\"/>\n          </div>\n          <div className=\"camera-footer\">\n            <div className=\"camera-footer-buttons\">\n              <img className=\"photo-lib-icon\" src={PhotoLibIcon} onClick=\"\" />\n              <button className=\"capture-button\" onClick={capture}></button>\n              <img className=\"face-filter-icon\" src={FaceFilterIcon} onClick=\"\" />\n            </div>\n            \n            <div className=\"footer\"/>\n            <div className=\"footer\"/>\n          </div>\n        </div>\n        : null\n      }\n\n      {screen === \"captured\" ?\n        <>\n        <div className=\"captured-overlay\">\n          <div className=\"camera-nav\">\n            <div className=\"navbar\">\n              <img className=\"close\" onClick={close} src={CloseIcon}></img>\n            </div>\n          </div>\n          {img ? <img className=\"image-desktop\" src={img} /> :\n            <h1 style={{textAlign: \"center\"}}>Camera did not capture anything {\"\\u{1F61E}\"}</h1>\n          }\n          <div className=\"captured-footer\">\n            {img ? <button className=\"save\">Save</button> : <button className=\"save\" disabled>Save</button> }\n            {img ? <button className=\"send-to\" onClick={sendTo}><b>Send To</b><img className=\"send-to-icon\" src={sent} /></button>\n             : <button className=\"send-to\" disabled><b>Send To</b><img className=\"send-to-icon\" src={sent} /></button>\n            }\n          </div>\n        </div>\n        </>\n        : null\n      }\n\n      {screen === \"send\" ?\n        <div className=\"send-overlay\">\n          <div className=\"navbar\">\n            <img className=\"close-icon\" src={DownArrowIcon} onClick={back}></img>\n            <input className=\"send-search\" type=\"search\"></input>\n            <button>...</button>\n          </div>\n\n          <h3 className=\"friend-head\">Recents ({Object.keys(props.friends).length})</h3>\n          <ul className=\"friend-list-container\">\n            {/* <h3>List: {Object.keys(props.friends)}</h3> */}\n            {Object.keys(props.friends).sort().map((key) => (\n              <Receiver\n                friends={props.friends}\n                k={key}\n                sendList={sendList}\n                handle_send_list={handle_send_list}\n                selected={sendList.includes(key) ? true : false}\n                email={props.email}\n                emoji={props.emoji}\n                bad_status_arr={bad_status_arr}\n              />\n            ))}\n          </ul>\n          {sendList.length > 0 ? \n            <div className=\"send-footer\">\n              <h3 className=\"send-label\">Send to...</h3>\n              <button className=\"send-to \" onClick={send}>Send</button>\n            </div>\n            : null\n          }\n        </div>\n        : null\n      }\n        <div className=\"footer\"/>\n    </div>\n    </>\n  );\n}\n\nfunction Receiver(props) {\n  const [added, setAdded] = useState(props.selected);\n\tvar friends = props.friends;\n\tvar key = props.k;\n  var newArr = props.sendList;\n\n  const toggleSelected = () => {\n    \n    if (!added) {\n      newArr.push(key);\n      props.handle_send_list(newArr);\n    } else {\n      newArr.splice(newArr.indexOf(key), 1);\n      props.handle_send_list(newArr);\n    }\n    setAdded(!added);\n  }\n\n  var status_dict = {\n\t\t[\"new-friend\"]: \"New Friend!\",\n\t\tnew: \"New Snap\",\n\t\treceived: \"Received\",\n\t\tsent: \"Sent\",\n\t\topened: \"Opened\",\n\t\tpending: \"Pending\",\n\t\t[\"not-friends\"]: \"Unfriended You\",\n\t\tblocked: \"Blocked\",\n\t}\n\tvar emoji_dict = {\n\t\t[\"not-friends\"]: \"\\u{1F494}\",\n\t\tblocked: \"\\u{26D4}\",\n\t\tpending: \"\\u{23F3}\"\n\t}\n  var emoji = null;\n  var status = null;\n  status = status_dict[friends[key][\"status\"]]\n  emoji = emoji_dict[friends[key][\"status\"]]\n\n\treturn (\n\t\t<>\n      <button onClick={toggleSelected} className=\"item-container\" disabled={props.bad_status_arr.includes(friends[key][\"status\"])}>\n        <div className=\"pic-info-mix\">\n          <div className=\"pic-container\">\n            <img className=\"friend-profile-pic\" src={friends[key].profile_pic_url}/>\n          </div>\t\n          <div className=\"friend-info\">\n            <h3>{friends[key].name}</h3>\n            {props.bad_status_arr.includes(friends[key][\"status\"]) ? <h4>{emoji} {status}</h4> : null}\n          </div>\n        </div>\n        <div className=\"friend-button\">\n            {friends[key][\"streak\"] === null ? null :\n              <div className=\"streak-container\">\n                <h3>{friends[key].streak}</h3>\n                <h3>{props.emoji}</h3>\n              </div>\n            }\n          {added ?\n            <div className=\"selected-circle\"><img className=\"checkmark\" src={checkmark} alt=\"U+2713\"></img></div>\n            : <div className=\"unselected-circle\"><img className=\"checkmark\" src={checkmark} alt=\"U+2713\"></img></div>\n          }\n        </div>\n      </button>\n\t\t</>\n\t)\n}\n\nexport {Camera, Receiver}","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABFAAAARQB+zng/wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEJSURBVFiFvdXBCoJAEIDhn96ro2+RtyKlToGXXrSDB6ECoUNBncsO7ULIrrq7Mw54kfD7E3UAlsAJOAMr9CcHLsZcAtRAZ44PUCripTGsVwPc/k5oRvTxzthseyc1Ilx4Z2wADp6IvQC+Ad6O6x/7P9SImIxrRATjkhHRuEREMp4SIYbHRIjjIRFq+JQIddxO5YlwfeEqadyO606o//OQiGB8ERHw4nfb+9MBz4jrBY3vgZNeYM4pcD9wrohCGh961TRX+ShuRy0i5CMjHrEOwMcidnPgYhEpeHKEBB4dIYkHR2jgkyNy9Feqb5XnAK0yPhTRAjQz4L6IBiADrsAdhSXimAJ4GDP7Ao3GS7lBEjtAAAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/search-icon.57f01e89.png\";","export default \"data:image/png;base64,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\"","import React, { Component, useState, useEffect, useRef } from 'react';\nimport './Navbar.css';\nimport {auth, storage, db, provider} from './Firebase.js';\nimport firebase from 'firebase/app';\n// import {Test2} from './Camera.js';\nimport SearchIcon from './images/search-icon.png';\nimport AddFriendIcon from './images/add-friend-icon.png';\nimport ChatIcon from './images/chat-icon.png';\nimport FlipIcon from './images/flip-icon.png';\nimport DownArrowIcon from './images/down-arrow-icon.png';\nimport { isObjectLiteralElement } from 'typescript';\n\n\nfunction NavBar(props) {\n\t// Screens\n\tconst [showProfileScreen, setShowProfileScreen] = useState(false);\n\tconst [showAddFriendScreen, setShowAddFriendScreen] = useState(false);\n\t// Show/Hide Navbar contents\n\tconst [showLogin, setShowLogin] = useState(true);\n\tconst [showSearch, setShowSearch] = useState(true);\n\tconst [showTitle, setShowTitle] = useState(true);\n\tconst [showAddFriend, setShowAddFriend] = useState(true);\n\tconst [showNewChat, setShowNewChat] = useState(true);\n\tconst [showMore, setShowMore] = useState(false);\n\tconst [showClose, setShowClose] = useState(false);\n\tconst [showFlipCam, setShowFlipCam] = useState(null);\n\t// Navbar content\n\tconst [navTitle, setNavTitle] = useState(\"Chat\")\n\n\n\tconst toggleProfile = () => {\n\t\tsetShowProfileScreen(true);\n\t\tsetShowLogin(false);\n\t\tsetShowSearch(false);\n\t\tsetShowAddFriend(false);\n\t\tsetShowNewChat(false)\n\t\tsetShowMore(true);\n\t\tsetShowClose(true);\n\t\tsetNavTitle(\"Profile\");\n\t\tprops.disable_swiping(true);\n\t}\n\n\tconst toggleAddFriend = () => {\n\t\tsetShowAddFriendScreen(true);\n\t\tsetShowLogin(false);\n\t\tsetShowSearch(false);\n\t\tsetShowAddFriend(false);\n\t\tsetShowNewChat(false)\n\t\tsetShowMore(true);\n\t\tsetShowClose(true);\n\t\tsetNavTitle(\"Add Friends\");\n\t\tprops.disable_swiping(true);\n\t}\n\n\tconst resetNav = () => {\n\t\tsetShowProfileScreen(false);\n\t\tsetShowAddFriendScreen(false);\n\t\t// Navbar contents\n\t\tsetShowLogin(true);\n\t\tsetShowSearch(true);\n\t\tsetShowTitle(true);\n\t\tsetShowAddFriend(true);\n\t\tif (props.index == 0) {\n\t\t\tsetShowNewChat(true);\n\t\t}\n\t\tsetShowMore(false);\n\t\tsetShowClose(false);\n\t\tsetNavTitle(\"Chat\");\n\t\tprops.disable_swiping(false);\n\t}\n\n\tuseEffect(() => {\n    // check_user();\n\t\t// console.log(\"index: \", props.index);\n\t\tif (props.index == 0) {\n\t\t\tsetShowNewChat(true);\n\t\t\tsetShowFlipCam(false);\n\t\t\tsetShowTitle(true);\n\t\t} else if (props.index == 1) {\n\t\t\tsetShowNewChat(false);\n\t\t\tsetShowFlipCam(true);\n\t\t\tsetShowTitle(false);\n\t\t}\n  },[props.index]);\n\n\treturn (\n\t\t<>\n\t\t<div className=\"navbar app-nav\">\n\t\t<div className=\"nav-box-1\">\n\t\t\t<ul>\n\t\t\t\t{showLogin ?\n\t\t\t\t\tprops.loggedIn ?\n\t\t\t\t\t\t<li className=\"nav-item\"><img className=\"nav-item\" onClick={toggleProfile} src={props.pic}/></li>\n\t\t\t\t\t\t: <li className=\"sign-in\"><a onClick={props.login}>Sign In</a></li>\n\t\t\t\t\t: null}\n\t\t\t\t\n\t\t\t\t{showClose ? \n\t\t\t\t\t<li><img className=\"close-icon\" src={DownArrowIcon} onClick={resetNav}></img></li>\n\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t{showSearch ? <li className=\"nav-item\"><img className=\"search-icon\" src={SearchIcon} /></li> : null}\n\t\t\t</ul>\n\t\t</div>\n\t\t<div className=\"nav-box-2\">\n\t\t\t{props.index == 0 ?\n\t\t\t\tshowTitle ? \n\t\t\t\t\t<h1>{navTitle}</h1>\n\t\t\t\t\t: null\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{props.index == 1 ? \n\t\t\t\tshowTitle ? \n\t\t\t\t\tnull\n\t\t\t\t\t// <h1>Camera</h1>\n\t\t\t\t\t: null\n\t\t\t\t: null\n\t\t\t}\n\t\t</div>\n\t\t<div className=\"nav-box-3\">\n\t\t\t\t<ul>\n\t\t\t\t\t{showAddFriend ? <li className=\"nav-item\" onClick={toggleAddFriend}><img className=\"add-friend-icon\" src={AddFriendIcon} /></li> : null}\n\t\t\t\t\t{showNewChat ? <li className=\"nav-item\"><img src={ChatIcon} className=\"chat-icon\"/></li> : null}\n\t\t\t\t\t{showMore ? <li><a><b>. . .</b></a></li> : null}\n\t\t\t\t\t{showFlipCam ? <li className=\"nav-item\" onClick={props.flipCamera}><img className=\"flip-icon\" src={FlipIcon} /></li> : null}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t\t{showProfileScreen ? \n\t\t\t<ProfileModal\n\t\t\t// User Info\n\t\t\t\tpic={props.pic}\n\t\t\t\tname={props.name}\n\t\t\t\temail={props.email}\n\t\t\t\treceived={props.received}\n\t\t\t\tsent={props.sent}\n\t\t\t\tcreated={props.created}\n\t\t\t\t// functions\n\t\t\t\tresetNav={resetNav}\n\t\t\t\tlogout={props.logout}\n\t\t\t/>\n\t\t\t: null\n\t\t}\n\t\t{showAddFriendScreen ? \n\t\t\t<>\n\t\t\t\n\t\t\t<AddFriend\n\t\t\t\tfriends={props.friends}\n\t\t\t\tpending={props.pending}\n\t\t\t\tstrangers={props.strangers}\n\t\t\t\teveryone={props.everyone}\n\t\t\t\tedit_friends={props.edit_friends}\n\t\t\t\temail={props.email}\n\t\t\t\tadded_me={props.added_me}\n\t\t\t/>\n\t\t\t{/* <div className=\"screen\">\n\t\t\t\t<div className=\"navbar\">\n\t\t\t\t</div>\n\t\t\t\t<button onClick={() => props.edit_friends(\"remove\", \"key\", \"value\")}>Remove</button>\n\t\t\t</div> */}\n\t\t\t\n\t\t\t</>\n\t\t\t: null\n\t\t}\n\t\t</>\n\t);\n}\n\nfunction ProfileModal(props) {\n\tconst logout = () => {\n\t\tprops.resetNav();\n\t\tprops.logout();\n\t}\n\treturn (\n\t\t<div className=\"screen profile-modal\">\n\t\t\t<div className=\"navbar\">\n\t\t\t\t\t{/* Placeholder */}\n\t\t\t</div>\n\t\t\t<img src={props.pic} className=\"profile-pic\" />\n\t\t\t<h1>{props.name}</h1>\n\t\t\t<h3>{props.email}</h3>\n\t\t\t<h3>{\"\\u{1F4ED}\"} {props.received} | {props.sent} {\"\\u{2709}\"}</h3>\n\t\t\t<h3>Total: {props.received + props.sent}</h3>\n\t\t\t<h3>Created by Jonathan Wang {\"\\u{1F603}\"}</h3>\n\t\t\t<h3>Joined: {props.created}</h3>\n\t\t\t<button onClick={logout} style={{backgroundColor: \"red\"}}><h1>Logout</h1></button>\n\t\t</div>\n\t)\n}\n\nfunction AddFriend(props) {\n\tvar filtered_strangers = props.strangers;\n\tObject.keys(props.added_me).forEach(item => {\n\t\tdelete filtered_strangers[item];\n\t})\n\n\treturn (\n\t\t<div className=\"screen\">\n\t\t\t<div className=\"navbar\">\n\t\t\t\t\t{/* Placeholder */}\n\t\t\t</div>\n\t\t\t<input type=\"search\" placeholder=\"Find Friends\" className=\"friend-search\" />\n\t\t\t<h3 className=\"friend-head\">Quick Add ({Object.keys(props.strangers).length})</h3>\n\t\t\t<ul className=\"friend-list-container\">\n\t\t\t\t{Object.keys(filtered_strangers).sort().map((key) => (\n\t\t\t\t\t<Stranger\n\t\t\t\t\t\tstrangers={filtered_strangers}\n\t\t\t\t\t\tk={key}\n\t\t\t\t\t\tedit_friends={props.edit_friends}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t\t{Object.keys(filtered_strangers).length === 0 ? \n\t\t\t\t<p>You are friends with everyone</p>\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{Object.keys(props.added_me).length === 0 ? null :\n\t\t\t\t<>\n\t\t\t\t\t<h3 className=\"friend-head\">Added Me ({Object.keys(props.added_me).length})</h3>\n\t\t\t\t\t<ul className=\"friend-list-container\">\n\t\t\t\t\t\t{Object.keys(props.added_me).sort().map((key) => (\n\t\t\t\t\t\t\t<AddedMe\n\t\t\t\t\t\t\t\tadded_me={props.added_me}\n\t\t\t\t\t\t\t\tk={key}\n\t\t\t\t\t\t\t\tedit_friends={props.edit_friends}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</>\n\t\t\t}\n\t\t\t<h3 className=\"friend-head\">Friends ({Object.keys(props.friends).length - 1})</h3>\n\t\t\t<ul className=\"friend-list-container\">\n\t\t\t\t{Object.keys(props.friends).sort().map((key) => (\n\t\t\t\t\t<Friend\n\t\t\t\t\t\tfriends={props.friends}\n\t\t\t\t\t\tk={key}\n\t\t\t\t\t\tedit_friends={props.edit_friends}\n\t\t\t\t\t\temail={props.email}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t\t{Object.keys(props.friends).length - 1 === 0 ? \n\t\t\t\t<p>Add some friends!</p>\n\t\t\t\t: null\n\t\t\t}\n\t\t\t<h3 className=\"friend-head\">Everyone ({Object.keys(props.everyone).length})</h3>\n\t\t\t<ul className=\"friend-list-container\">\n\t\t\t\t{/* <h3>List: {Object.keys(props.strangers)}</h3> */}\n\t\t\t\t{Object.keys(props.everyone).sort().map((key) => (\n\t\t\t\t\t<Everyone\n\t\t\t\t\t\teveryone={props.everyone}\n\t\t\t\t\t\tk={key}\n\t\t\t\t\t\tedit_friends={props.edit_friends}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t\t<div className=\"footer\">\n\t\t\t\t{/* Placeholder */}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction Friend(props) {\n\tvar friends = props.friends;\n\tvar key = props.k;\n\treturn (\n\t\t<>\t\n\t\t\t{props.email === key ? null : \n\t\t\t\t<li className=\"item-container\">\n\t\t\t\t\t<div className=\"pic-info-mix\">\n\t\t\t\t\t\t<div className=\"pic-container\">\n\t\t\t\t\t\t\t<img className=\"friend-profile-pic\" src={friends[key].profile_pic_url}/>\n\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t<div className=\"friend-info\">\n\t\t\t\t\t\t\t<h2>{friends[key].name}</h2>\n\t\t\t\t\t\t\t<p style={{fontSize: \"0.9rem\"}}>{key}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"friend-button\">\n\t\t\t\t\t{props.email === key ?  null :\n\t\t\t\t\t\tfriends[key].status === \"pending\" ?\n\t\t\t\t\t\t\t<button onClick={() => props.edit_friends(\"remove pending\", key, friends[key])}>Remove Request</button> \n\t\t\t\t\t\t\t: <button onClick={() => props.edit_friends(\"remove\", key, friends[key])}>Remove</button>\t\n\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t}\n\t\t</>\n\t)\n}\n\nfunction AddedMe(props) {\n\tvar addedMe = props.added_me;\n\tvar key = props.k;\n\treturn (\n\t\t<>\n\t\t\t<li className=\"item-container\">\n\t\t\t\t<div className=\"pic-info-mix\">\n\t\t\t\t\t<div className=\"pic-container\">\n\t\t\t\t\t\t<img className=\"friend-profile-pic\" src={addedMe[key].profile_pic_url}/>\n\t\t\t\t\t</div>\t\n\t\t\t\t\t<div className=\"friend-info\">\n\t\t\t\t\t\t<h2>{addedMe[key].name}</h2>\n\t\t\t\t\t\t<p>{key}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"friend-button\">\n\t\t\t\t\t<button onClick={() => props.edit_friends(\"add\", key, addedMe[key])}><img className=\"add-friend-list-icon\" src={AddFriendIcon} />Add</button>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</>\n\t)\n}\n\nfunction Stranger(props) {\n\tvar strangers = props.strangers;\n\tvar key = props.k;\n\n\treturn (\n\t\t<>\n\t\t\t<li className=\"item-container\">\n\t\t\t\t<div className=\"pic-info-mix\">\n\t\t\t\t\t<div className=\"pic-container\">\n\t\t\t\t\t\t<img className=\"friend-profile-pic\" src={strangers[key].profile_pic_url}/>\n\t\t\t\t\t</div>\t\n\t\t\t\t\t<div className=\"friend-info\">\n\t\t\t\t\t\t<h2>{strangers[key].name}</h2>\n\t\t\t\t\t\t<p>{key}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"friend-button\">\n\t\t\t\t\t<button onClick={() => props.edit_friends(\"pending\", key, strangers[key])}><img className=\"add-friend-list-icon\" src={AddFriendIcon} />Add</button>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</>\n\t)\n}\n\nfunction Everyone(props) {\n\tvar everyone = props.everyone;\n\tvar key = props.k;\n\n\treturn (\n\t\t<>\n\t\t\t<li className=\"item-container\">\n\t\t\t\t<div className=\"pic-info-mix\">\n\t\t\t\t\t<div className=\"pic-container\">\n\t\t\t\t\t\t<img className=\"friend-profile-pic\" src={everyone[key].profile_pic_url}/>\n\t\t\t\t\t</div>\t\n\t\t\t\t\t<div className=\"friend-info\">\n\t\t\t\t\t\t<h2>{everyone[key].name}</h2>\n\t\t\t\t\t\t<p>{key}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"friend-button\">\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</>\n\t)\n}\n\nexport {NavBar, ProfileModal, AddFriend}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAj0lEQVRIie2UQQ7CMAwEB8rjCB/qkT6tFz5CHtIeUCRATfFathASK+US2zuWVgn8JegCVGAxngoUBaCYt3NXAG0otP+obODRTwDM4XszMIcfFfLLfXoGp84GVlUF5nlk5x2fbuFqHfiw6Gbh3TwUMKkDQf2uT1ACFB6BpgEUjdmAZwgAQwLgBhyAOcH7C1oBYN104vhSCtcAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/camera-icon.710fefb4.png\";","export default \"data:image/png;base64,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AHRIAACADgkAANAhAQAAOiQAAECHBAAA6JAAAAAdEgAAoEMCAAB0SAAAgA4JAADQIQEAADokAABAhwQAAOiQAAAAHRIAAKBDAgAAdEgAAIAOCQAA0CEBAAA6JAAAQIcEAADokAAAAB0SAACgQwIAAHRIAACADgkAANAhAQAAOiQAAECHBAAA6JAAAAAdEgAAoEMCAAB0SAAAgA4JAADQIQEAADokAABAhwQAAOiQAAAAHRIAAKBDAgAAdEgAAIAOCQAA0CEBAAA6JAAAQIcEAADokAAAAB0SAACgQwIAAHRIAACADgkAANAhAQAAOiQAAECHBAAA6JAAAAAdEgAAoEMCAAB0SAAAgA4JAADQIQEAADokAABAhwQAAOiQAAAAHRIAAKBDAgAAdEgAAIAOCQAA0CEBAAA6JAAAQIcEAADokAAAAB0SAACgQwIAAHRIAACADgkAANAhAQAAOiQAAECHBAAA6JAAAAAdEgAAoEMCAAB0SAAAgA4JAADQIQEAADokAABAhwQAAOiQAAAAHRIAAKBDAgAAdEgAAIAOCQAA0CEBAAA6JAAAQIcEAADokAAAAB0SAACgQwIAAHRIAACADgkAANAhAQAAOiQAAECHBAAA6JAAAAAdEgAAoEMCAAB0SAAAgA4JAADQIQEAADokAABAhwQAAOiQAAAAHRIAAKBDAgAAdEgAAIAOCQAA0CEBAAA6JAAAQIcEAADokAAAAB0SAACgQwIAAHRIAACADgkAANAhAQAAOiQAAECHBAAA6JAAAAAdEgAAoEMCAAB0SAAAgA4JAADQIQEAADokAABAhwQAAOiQAAAAHRIAAKBDAgAAdEgAAIAOCQAA0CEBAAA6JAAAQIcEAADokAAAAB0SAACgQwIAAHRIAACADgkAANAhAQAAOiQAAECHBAAA6JAAAAAdEgAAoEMCAAB0SAAAgA4JAADQIQEAADokAABAhwQAAOiQAAAAHRIAAKBDAgAAdEgAAIAOCQAA0CEBAAA6JAAAQIcEAADokAAAAB0SAACgQwIAAHRIAACADgkAANAhAQAAOiQAAECHBAAA6JAAAAAdEgAAoEMCAAB0SAAAgA4JAADQIQEAADokAABAhwQAAOiQAAAAHRIAAKBDAgAAdEgAAIAOCQAA0CEBAAA6JAAAQIcEAADokAAAAB0SAACgQwIAAHRIAACADgkAANAh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\"","import React from 'react'\nimport './Footer.css';\nimport CameraIcon from './images/camera-icon.png';\nimport ChatIcon from './images/chat.png';\n\n\nexport default function Footer(props) {\n  return (\n    <>\n\t\t<div className=\"footer app-foot\">\n\t\t\t<li className=\"footer-item\" onClick={() => props.changeToIndex(0)}>{props.index === 0 ? <img className=\"footer-chat-icon\" style={{backgroundColor: 'lightblue'}} src={ChatIcon} />  : <img className=\"footer-chat-icon\" src={ChatIcon} />}</li>\n\t\t\t<li className=\"footer-item\"  onClick={() => props.changeToIndex(1)}>{props.index === 1 ? <img className=\"footer-camera-icon\" style={{backgroundColor: 'yellow'}} src={CameraIcon} /> : <img className=\"footer-camera-icon\" src={CameraIcon} />}</li>\n\t\t</div>\n\t\t</>\n  )\n}\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport SwipeableViews from 'react-swipeable-views';\nimport { bindKeyboard } from 'react-swipeable-views-utils';\nimport {auth, db, provider} from './Firebase.js';\nimport firebase from 'firebase/app';\nimport './App.css';\nimport Messages from './Messages.js';\nimport {Camera} from './Camera.js';\nimport {NavBar} from './Navbar.js';\nimport Footer from './Footer.js';\n\n// All the firebase calls will occur here to minimize usage\n\nconst BindKeyboardSwipeableViews = bindKeyboard(SwipeableViews);\nvar default_pic = \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/2048px-Circle-icons-profile.svg.png\"\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // For swiping screen\n      index: 0,\n      height: window.innerHeight,\n      width: window.innerWidth,\n      orientation: \"Landscape\",\n      disable_swiping: false,\n      // Camera\n      faceMode: \"user\",\n      // Navbar\n      showNavbar: true,\n      showFooter: true,\n      // User Info\n      loggedIn: null,\n      email: null,\n      created:null,\n      friends: {},\n      name: null,\n      added_me: {},\n      pending: {},\n      pic: null,\n      streak_emoji: null,\n      received: null,\n      sent: null,\n      // Lists\n      strangers: {},\n      everyone: {},\n\n    }\n\n    this.check_user = this.check_user.bind(this);\n    window.addEventListener(\"resize\", this.update);\n    window.addEventListener(\"beforeunload\", this.end_snapshot);\n    window.addEventListener(\"onbeforeunload\", this.end_snapshot);\n  }\n\n  set_device = () => {\n    if (this.state.width > this.state.height) {\n      this.setState({\n        orientation: \"Landscape\"\n      })\n    } else {\n      this.setState({\n        orientation: \"Mobile\"\n      })\n    }\n  }\n  update = () => {\n    this.setState({\n      width: window.innerWidth,\n      height: window.innerHeight\n    },this.set_device)\n  };\n  handleChangeIndex = index => {\n    this.setState({\n      index,\n    });\n  };\n  changeToIndex(e) {\n    this.setState({\n      index: e,\n    })\n  }\n  setDisabledSwiping(e) {\n    this.setState({\n      disable_swiping: e,\n    })\n  }\n\n  \n  check_user = () => {\n\t\tfirebase.auth().onAuthStateChanged(function(user) {\n\t\t\tif (user) {\n        // Loading in known user\n        this.setState({\n          loggedIn: true,\n          name: user.displayName,\n          pic: user.photoURL,\n          email: user.email,\n        }, this.check_user_on_firebase)\n\t\t\t} else {\n        // Setting up guest account\n        var creation = new Date().toLocaleString();\n\t\t\t\tthis.setState({\n          loggedIn: false,\n          created: creation,\n          name: \"Guest\",\n          email: \"Guest@Guest.com\",\n          pic: default_pic,\n          streak_emoji:  \"\\u{1F525}\",\n          total_sent: 0,\n          total_received: 0,\n          added_me: {},\n          pending: {},\n          friends: {\n            [\"Guest@Guest.com\"]: {\n                created: creation,\n                profile_pic_url: default_pic,\n                name: \"Guest\",\n                status: \"new-friend\",\n                streak: 0,\n                streak_ref: null,\n                sent: 0,\n                received: 0,\n                last_time_stamp: null,\n                snaps: []\n            }\n          },\n          strangers: {\n            [\"Guest@Guest.com\"]: {\n                created: creation,\n                profile_pic_url: default_pic,\n                name: \"Guest\",\n                status: \"new-friend\",\n                streak: 0,\n                streak_ref: null,\n                sent: 0,\n                received: 0,\n                last_time_stamp: null,\n                snaps: []\n            }\n          },\n          everyone: {\n            [\"Guest@Guest.com\"]: {\n                created: creation,\n                profile_pic_url: default_pic,\n                name: \"Guest\",\n                status: \"new-friend\",\n                streak: 0,\n                streak_ref: null,\n                sent: 0,\n                received: 0,\n                last_time_stamp: null,\n                snaps: []\n            }\n          },\n        })\n\t\t\t}\n\t\t}.bind(this))\n\t}\n\n  check_user_on_firebase = () => {\n    const user_doc = db.collection(\"Users\").doc(this.state.email);\n    user_doc.get().then((doc) => {\n      if (!doc.exists) {\n        // New User\n        const c = new Date().toLocaleString();\n        user_doc.set({\n          created: c,\n          name: this.state.name,\n          profile_pic_url: this.state.pic,\n          streak_emoji:  \"\\u{1F525}\",\n          total_sent: 0,\n          total_received: 0,\n          added_me: {},\n          pending: {},\n          friends: {\n            [this.state.email]: {\n                created: c,\n                profile_pic_url: this.state.pic,\n                name: this.state.name,\n                status: \"new-friend\",\n                streak: 0,\n                streak_ref: null,\n                sent: 0,\n                received: 0,\n                last_time_stamp: null,\n                snaps: []\n            }\n          },\n        })\n        this.setState({\n          received: 0,\n          sent: 0,\n          streak_emoji: \"\\u{1F525}\",\n          added_me: {},\n          pending: {},\n          friends: {\n            [this.state.email]: {\n              created: c,\n              profile_pic_url: this.state.pic,\n              name: this.state.name,\n              status: \"new-friend\",\n              streak: 0,\n              streak_ref: null,\n              sent: 0,\n              received: 0,\n              last_time_stamp: null,\n              snaps: [],\n            }\n          },\n        }, this.start_snapshot)\n      } else {\n        // User has logged in before\n        this.setState({\n          name: doc.data()[\"name\"],\n          pic: doc.data()[\"profile_pic_url\"],\n          received: doc.data()[\"total_received\"],\n          sent: doc.data()[\"total_sent\"],\n          streak_emoji: doc.data()[\"streak_emoji\"],\n          created: doc.data()[\"created\"],\n          friends: doc.data()[\"friends\"],\n          pending: doc.data()[\"pending\"],\n          added_me: doc.data()[\"added_me\"],\n        }, this.start_snapshot)\n      }\n    })\n  }\n  start_snapshot = () => {\n    const user_doc = db.collection(\"Users\").doc(this.state.email);\n    if (this.state.loggedIn) {\n      user_doc.onSnapshot((doc) => {\n        this.setState({\n          name: doc.data()[\"name\"],\n          pic: doc.data()[\"profile_pic_url\"],\n          received: doc.data()[\"total_received\"],\n          sent: doc.data()[\"total_sent\"],\n          streak_emoji: doc.data()[\"streak_emoji\"],\n          created: doc.data()[\"created\"],\n          friends: doc.data()[\"friends\"],\n          pending: doc.data()[\"pending\"],\n          added_me: doc.data()[\"added_me\"],\n        })\n        console.log(\"snapshot created\");\n        this.update_people_list();\n      }, (error) => {\n        alert(\"Problem with real time firebase, cannot get live updates.\");\n        console.log(error);\n      })\n    }\n  }\n  end_snapshot = () => {\n    this.start_snapshot();\n    console.log(\"ended snapshot\");\n  }\n  // Updates user's Friends, Strangers, and Everyone list\n  update_people_list = () => {\n    if (this.state.loggedIn) {\n      var f = {}\n      var strangers = {}\n      var everyone = {}\n      var added_me = {}\n      db.collection(\"Users\").get().then((doc) => {\n        doc.docs.forEach((user) => {\n          // console.log(\"This.friends: \", this.state.friends, user.id);\n          if (!Object.keys(this.state.friends).includes(user.id)) {\n            strangers[user.id] = user.data()\n          } else {\n            f[user.id] = user.data()\n          }\n          everyone[user.id] = user.data();\n          \n          if (this.state.email == user.id) {\n            added_me = user.data()[\"added_me\"]\n            console.log(\"Added me\", user.data()[\"added_me\"])\n          }\n        })\n        // console.log(\"Friends: \", f)\n        // console.log(\"Strangers: \", strangers)\n        // console.log(\"Everyone: \", everyone)\n        \n        this.setState({\n          // friends: f,\n          added_me: added_me,\n          strangers: strangers,\n          everyone: everyone,\n        })\n      })\n    } \n  }\n  // Add or Remove Friend from this.state.friends\n  edit_friends = (action, friend, value) => {\n    // console.log(\"action\", action);\n    // console.log(\"friend\", friend);\n    // console.log(\"value\", value);\n    const user_doc = db.collection(\"Users\").doc(this.state.email);\n    const friend_doc = db.collection(\"Users\").doc(friend);\n    // New friends entire document in dictionary form\n    var friend_dict = {};\n    var dict = this.state.friends;\n    var pending = this.state.pending;\n    var added_me = this.state.added_me;\n\n    if (action == \"pending\" && this.state.loggedIn) {\n      // Check if potential friend still has user on their friend list (unfriended situation)\n      friend_doc.get().then((doc) => {\n        if (Object.keys(doc.data()[\"friends\"]).includes(this.state.email)) {\n          // add friend\n          var new_friend_entry = {\n            created: value.created,\n            profile_pic_url: value.profile_pic_url,\n            name: value.name,\n            status: \"new-friend\",\n            streak: 0,\n            streak_ref: null,\n            sent: 0,\n            received: 0,\n            last_time_stamp: null,\n            snaps: []\n          }\n          dict[friend] = new_friend_entry;\n          user_doc.update({friends: dict});\n\n          // Get pending friend's doc info\n          friend_doc.get().then((doc) => {\n            friend_dict = doc.data()\n            // Add user to pending friend's pending list\n            friend_dict[\"friends\"][this.state.email][\"status\"] = \"new-friend\";\n            friend_doc.update({\n              friends: friend_dict[\"friends\"],\n            })\n          })\n          // Update local added_me and friends list\n          this.setState({\n            friends: dict,\n          }, this.update_people_list)\n        } else {\n           // Add user's pending friend to user's friends list and change status to pending\n          var new_friend_entry = {\n            created: value.created,\n            profile_pic_url: value.profile_pic_url,\n            name: value.name,\n            status: \"pending\",\n            streak: null,\n            streak_ref: null,\n            sent: 0,\n            received: 0,\n            last_time_stamp: null,\n            snaps: []\n          }\n          dict[friend] = new_friend_entry;\n          user_doc.update({friends: dict})\n\n          // Get pending friend's doc info\n          friend_doc.get().then((doc) => {\n            friend_dict = doc.data()\n            // Add user to pending friend's pending list\n            friend_dict[\"added_me\"][this.state.email] = dict[this.state.email];\n            friend_doc.update({\n              added_me: friend_dict[\"added_me\"],\n            })\n          })\n          this.setState({\n            friends: dict,\n          }, this.update_people_list)\n        }\n      })\n    } else if (action === \"add\" && this.state.loggedIn) {\n\n      // Add a entry for new friend under user's friends\n      var new_friend_entry = {\n        created: value.created,\n        profile_pic_url: value.profile_pic_url,\n        name: value.name,\n        status: \"new-friend\",\n        streak: 0,\n        streak_ref: null,\n        sent: 0,\n        received: 0,\n        last_time_stamp: null,\n        snaps: []\n      }\n      dict[friend] = new_friend_entry;\n      // delete friend from added_me list\n      delete added_me[friend]\n      // Update added_me and friends list to firestore\n      user_doc.update({friends: dict, added_me: added_me})\n\n      // Update user on friend's friends list\n      friend_doc.get().then((doc) => {\n        friend_dict = doc.data();\n        friend_dict[\"friends\"][this.state.email][\"status\"] = \"new-friend\";\n        friend_dict[\"friends\"][this.state.email][\"streak\"] = 0;\n        friend_doc.update({friends: friend_dict[\"friends\"]})\n      })\n\n      // Update local added_me and friends list\n      this.setState({\n        friends: dict,\n      }, this.update_people_list)\n\n    } else if (action == \"remove pending\" && this.state.loggedIn) {\n      delete dict[friend]\n      user_doc.update({friends: dict})\n      friend_doc.get().then((doc) => {\n        friend_dict = doc.data();\n        delete friend_dict[\"added_me\"][this.state.email];\n        friend_doc.update({added_me: friend_dict[\"added_me\"]})\n      })\n    \n    }else if (action === \"remove\") {\n      delete dict[friend]\n      // update user dict\n      user_doc.update({friends: dict})\n      this.setState({\n        friends: dict,\n      }, this.update_people_list)\n\n      // update friend's dict\n      friend_doc.get().then((doc) => {\n        // Check if friend still has user on their list\n        friend_dict = doc.data();\n        if (Object.keys(friend_dict[\"friends\"]).includes(this.state.email)) {\n          friend_dict[\"friends\"][this.state.email][\"status\"] = \"not-friends\";\n          friend_dict[\"friends\"][this.state.email][\"streak\"] = null;\n          friend_doc.update({friends: friend_dict[\"friends\"]})\n        }\n        \n      })\n    }\n    this.update_people_list()\n  }\n\n  flipCamera = () => {\n    if (this.state.faceMode == \"user\") {\n      this.setState({\n        faceMode: \"environment\"\n      })\n      console.log(\"environemnt\")\n    } else {\n      this.setState({\n        faceMode: \"user\"\n      })\n      console.log(\"user\")\n    }\n  }\n\n  showNavbar = (status) => {\n    this.setState({showNavbar: status})\n  }\n  showFooter = (status) => {\n    this.setState({showFooter: status})\n  }\n  setLocalDict = (dict) => {\n    if (dict != null) {\n      this.setState({friends: dict})\n    }\n  }\n\n  login = () => {\n    auth.signInWithPopup(provider)\n    .then((result) => {\n      this.setState({\n        loggedIn: true,\n        name: result.user.displayName,\n        email: result.user.email,\n        pic: result.user.photoURL,\n      })\n    })\n  }\n\tlogout = () => {\n    firebase.auth().signOut()\n    this.setState({\n      loggedIn: false,\n      name: \"Guest\",\n      email: \"Guest@Guest.com\",\n      pic: default_pic,\n      sent: 0,\n      received: 0,\n      pending: {},\n      friends: [],\n      strangers: [],\n      everyone: [],\n    })\n  }\n\n  componentDidMount() {\n    console.log(\"Mounted\");\n    this.check_user()\n  }\n\n  render() {\n    const { index } = this.state;\n    return (\n      <>\n      {this.state.showNavbar ?\n        <NavBar\n          index={index}\n          // Functions\n          login={this.login.bind(this)}\n          logout={this.logout.bind(this)}\n          disable_swiping={this.setDisabledSwiping.bind(this)}\n          edit_friends={this.edit_friends.bind(this)}\n          flipCamera={this.flipCamera.bind(this)}\n          // User Info\n          loggedIn={this.state.loggedIn}\n          name={this.state.name}\n          email={this.state.email}\n          pic={this.state.pic}\n          received={this.state.received}\n          sent={this.state.sent}\n          created={this.state.created}\n          pending={this.state.pending}\n          added_me={this.state.added_me}\n          friends={this.state.friends}\n          strangers={this.state.strangers}\n          everyone={this.state.everyone}\n        />\n        : null\n      }\n      <BindKeyboardSwipeableViews disabled={this.state.disable_swiping} enableMouseEvents index={index} onChangeIndex={this.handleChangeIndex} style={Object.assign({width: this.state.width, height: this.state.height, position: 'absolute', top: '0%', left: '0%'})}>\n        <div style={Object.assign({backgroundColor: 'white', minHeight: '100vh', width: '100%'})}>\n          <Helmet>\n            <meta name=\"viewport\" content=\"height=device-height, width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\"></meta>\n          </Helmet>\n          <Messages\n            // User Info\n            loggedIn={this.state.loggedIn}\n            friends={this.state.friends}\n            streak_emoji={this.state.streak_emoji}\n            pic={this.state.pic}\n            email={this.state.email}\n            showNavbar={this.showNavbar.bind(this)}\n            showFooter={this.showFooter.bind(this)}\n            setLocalDict={this.setLocalDict.bind(this)}\n          />\n        </div>\n        <div style={Object.assign({backgroundColor: 'Plum'})} >\n          <Helmet>\n            <meta name=\"viewport\" content=\"height=device-height, width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes\"></meta>\n          </Helmet>\n          <Camera\n            index={index}\n            // Functions\n            changeToIndex={this.changeToIndex.bind(this)}\n            disable_swiping={this.setDisabledSwiping.bind(this)}\n            showNavbar={this.showNavbar.bind(this)}\n            showFooter={this.showFooter.bind(this)}\n            setLocalDict={this.setLocalDict.bind(this)}\n            // Camera\n            faceMode={this.state.faceMode}\n            // User Info\n            friends={this.state.friends}\n            email={this.state.email}\n            sent={this.state.sent}\n            emoji={this.state.streak_emoji}\n            // Increment this.sent\n            // Add person to pending list\n\n          />\n        </div>\n      </BindKeyboardSwipeableViews>\n      {this.state.showFooter ? \n        <Footer\n          index={index}\n          changeToIndex={this.changeToIndex.bind(this)}\n        />\n        : null\n      }\n      \n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Router, Route, Switch } from \"react-router\";\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 39;"],"sourceRoot":""}