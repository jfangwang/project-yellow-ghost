(this["webpackJsonpproject-yellow-ghost"]=this["webpackJsonpproject-yellow-ghost"]||[]).push([[0],{119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=123},124:function(e,t){},125:function(e,t,n){},129:function(e,t,n){},210:function(e,t,n){},213:function(e,t){},214:function(e,t){},215:function(e,t){},216:function(e,t){},217:function(e,t){},218:function(e,t){},219:function(e,t,n){},222:function(e,t,n){},283:function(e,t,n){"use strict";n.r(t);for(var s=n(3),i=n.n(s),c=n(98),a=n.n(c),r=n(6),o=n(38),d=n(39),l=n(9),u=n(40),h=n(42),g=n(15),j=(n(171),n(285),n(173),n(151),n(284),n(286),g.a.initializeApp({apiKey:"AIzaSyAzNigqy7stltnVUU8cAollxCxvW0CNBTE",authDomain:"ghost-f8b34.firebaseapp.com",projectId:"ghost-f8b34",storageBucket:"ghost-f8b34.appspot.com",messagingSenderId:"838623299070",appId:"1:838623299070:web:b73429fee525b7c01cacaf",measurementId:"G-85ZG5FVKQ4"}).firestore()),b=g.a.auth(),m=g.a.storage(),f=new g.a.auth.GoogleAuthProvider,p=n(58),A=n.n(p),O=n(70),x=n(41),I=n(160),C=n.n(I),v=(n(119),n(8)),E=(n(120),n(102)),B=n.n(E),k=n(157),y=n.n(k),S=n(156),w=n.n(S),Q=n(106),N=n.n(Q),G=n(155),D=n.n(G),R=(n(210),n(1)),F=(Object(O.bindKeyboard)(A.a),[]),U=0;U<200;U++)F.push(Object(R.jsx)("h1",{children:"filler"}));var Y=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).updateDimensions=function(){s.setState({width:window.innerWidth,height:window.innerHeight})},s.state={height:window.innerHeight,width:window.innerWidth,index:0,top:!0,bgColor:"transparent",hide:!0},s.updateDimensions=s.updateDimensions.bind(Object(l.a)(s)),s.changeToIndex=s.changeToIndex.bind(Object(l.a)(s)),s.handleScroll=s.handleScroll.bind(Object(l.a)(s)),s.changeOnSwitch=s.changeOnSwitch.bind(Object(l.a)(s)),s.checkIndex=s.checkIndex.bind(Object(l.a)(s)),s.closeMenu=s.closeMenu.bind(Object(l.a)(s)),s}return Object(d.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions),window.addEventListener("scroll",this.handleScroll,!0)}},{key:"componentDidUpdate",value:function(e){var t=this;e.open!==this.props.open&&(!0===this.props.open&&(this.setState({hide:!1},(function(){return setTimeout((function(){return t.changeToIndex(1)}),0)})),this.setState({top:!0})),!1===this.props.open&&this.changeToIndex(0))}},{key:"changeToIndex",value:function(e){this.setState({index:e}),this.setState({bgColor:"transparent"})}},{key:"handleScroll",value:function(e){var t=e.target;"y"===this.props.axis&&(t.scrollTop<=0?this.setState({top:!0}):this.setState({top:!1}))}},{key:"changeOnSwitch",value:function(){this.setState({bgColor:"transparent"})}},{key:"closeMenu",value:function(){this.changeToIndex(0)}},{key:"checkIndex",value:function(){0===this.state.index&&(this.setState({hide:!0}),!0===this.props.open&&this.props.close()),this.state.index>=1&&this.setState({bgColor:"white"})}},{key:"render",value:function(){var e=this.state,t=e.height,n=e.width,s=e.index,i=e.top,c=e.hide,a=e.bgColor,r=this.props,o=r.children,d=r.title,l=r.axis,u=r.disabled,h=(R.Fragment,!c&&(this.changeOnSwitch,this.changeToIndex,this.checkIndex,this.handleScroll,this.closeMenu),Object(R.jsx)(R.Fragment,{children:!c&&Object(R.jsx)("div",{className:"sliding-menu",style:{height:t,width:n,backgroundColor:a},children:Object(R.jsxs)(A.a,{containerStyle:{height:t,width:n},axis:l,disabled:!i||u,onSwitching:this.changeOnSwitch,onChangeIndex:this.changeToIndex,onTransitionEnd:this.checkIndex,index:s,enableMouseEvents:!0,children:[Object(R.jsx)("div",{style:{height:t,width:n}}),Object(R.jsx)("div",{onScroll:this.handleScroll,style:{backgroundColor:"white",height:t,width:n},children:Object(R.jsxs)("div",{style:{backgroundColor:"white"},children:[Object(R.jsx)($,{position:"fixed",hidden:!1,Parenttitle:d,close:this.closeMenu,axis:l}),o]})})]})})}));return Object(R.jsx)(R.Fragment,{children:h})}}]),n}(s.Component);Y.defaultProps={title:"",axis:"y",disabled:!1,keyboard:!0};var T=Y,L=n(104),M=n.n(L),_=n(154),H=n.n(_),J=(n(121),n(122),n(212),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).signOut=s.signOut.bind(Object(l.a)(s)),s.signIn=s.signIn.bind(Object(l.a)(s)),s}return Object(d.a)(n,[{key:"signOut",value:function(){this.props.GsignOut(),this.props.close()}},{key:"signIn",value:function(){this.props.GsignIn(),this.props.close()}},{key:"render",value:function(){var e=this.props.userDoc;return Object(R.jsxs)("main",{className:"main",children:[Object(R.jsxs)("div",{className:"section info",children:[Object(R.jsxs)("div",{className:"row ",children:[Object(R.jsx)("div",{className:"pic-container",children:Object(R.jsx)("img",{src:e.profile_pic_url,style:{borderRadius:"1rem"},alt:""})}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("h1",{children:e.name}),Object(R.jsx)("i",{children:Object(R.jsx)("h5",{children:e.username})})]})]}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsxs)("h5",{children:["Total: ",e.sent+e.received]}),Object(R.jsxs)("h5",{children:["Sent: ",e.sent]}),Object(R.jsxs)("h5",{children:["Received: ",e.received]})]})]}),0===Object.keys(e.friends).filter((function(t){return t!==e.email})).length?null:Object(R.jsxs)("div",{className:"section",children:[Object(R.jsx)("h1",{children:"Friends"}),Object(R.jsx)("div",{className:"col"})]}),Object(R.jsxs)("div",{className:"section snapMap",children:[Object(R.jsx)("h1",{children:"Snap Map"}),Object(R.jsx)("img",{src:"https://media.npr.org/assets/img/2017/06/30/snapchat-world_custom-7763b62a81588d5def16ef6335a573d94e0dc908.jpg"})]}),Object(R.jsx)("div",{className:"section",children:"N/A"!==e.created&&Object(R.jsxs)("h3",{children:["Joined Snapchat Clone on ",e.created]})}),Object(R.jsx)("div",{className:"section",children:"Guest"===e.name?Object(R.jsx)("button",{onClick:this.signIn,className:"login",children:Object(R.jsx)("h2",{children:"Login"})}):Object(R.jsx)("button",{onClick:this.signOut,className:"logout",children:Object(R.jsx)("h2",{children:"Logout"})})})]})}}]),n}(s.Component)),Z="data:image/png;base64,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",V=(n(219),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.peopleList,n=e.userDoc,s=e.edit_friends;return Object(R.jsx)("main",{className:"main",children:Object(R.jsx)(P,{friends:n.friends,pending:n.pending,strangers:t.strangers,everyone:t.everyone,edit_friends:s,email:n.email,added_me:n.added_me})})}}]),n}(s.Component));function P(e){var t=e.strangers;return Object.keys(e.added_me).forEach((function(e){delete t[e]})),Object(R.jsxs)("div",{className:"screen",children:[Object(R.jsxs)("h3",{className:"friend-head",children:["Quick Add (",Object.keys(e.strangers).length,")"]}),Object(R.jsx)("ul",{className:"friend-list-container",children:Object.keys(t).sort().map((function(n){return Object(R.jsx)(K,{strangers:t,k:n,edit_friends:e.edit_friends})}))}),0===Object.keys(t).length?Object(R.jsx)("p",{children:"You are friends with everyone"}):null,0===Object.keys(e.added_me).length?null:Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("h3",{className:"friend-head",children:["Added Me (",Object.keys(e.added_me).length,")"]}),Object(R.jsx)("ul",{className:"friend-list-container",children:Object.keys(e.added_me).sort().map((function(t){return Object(R.jsx)(W,{added_me:e.added_me,k:t,edit_friends:e.edit_friends})}))})]}),Object(R.jsxs)("h3",{className:"friend-head",children:["Friends (",Object.keys(e.friends).length-1,")"]}),Object(R.jsx)("ul",{className:"friend-list-container",children:Object.keys(e.friends).sort().map((function(t){return Object(R.jsx)(z,{friends:e.friends,k:t,edit_friends:e.edit_friends,email:e.email})}))}),Object.keys(e.friends).length-1===0?Object(R.jsx)("p",{children:"Add some friends!"}):null,Object(R.jsxs)("h3",{className:"friend-head",children:["Everyone (",Object.keys(e.everyone).length,")"]}),Object(R.jsx)("ul",{className:"friend-list-container",children:Object.keys(e.everyone).sort().map((function(t){return Object(R.jsx)(X,{everyone:e.everyone,k:t})}))}),Object(R.jsx)("div",{className:"footer"})]})}function z(e){var t=e.friends,n=e.k;return Object(R.jsx)(R.Fragment,{children:e.email===n?null:Object(R.jsxs)("li",{className:"item-container",children:[Object(R.jsxs)("div",{className:"pic-info-mix",children:[Object(R.jsx)("div",{className:"pic-container",children:Object(R.jsx)("img",{className:"friend-profile-pic",src:t[n].profile_pic_url,alt:""})}),Object(R.jsxs)("div",{className:"friend-info",children:[Object(R.jsx)("h2",{children:t[n].name}),Object(R.jsx)("p",{style:{fontSize:"0.9rem"},children:t[n].username})]})]}),Object(R.jsx)("div",{className:"friend-button",children:e.email===n?null:"pending"===t[n].status?Object(R.jsx)("button",{onClick:function(){return e.edit_friends("remove request",n,t[n])},children:"Remove Request"}):Object(R.jsx)("button",{onClick:function(){return e.edit_friends("remove",n,t[n])},children:"Remove"})})]})})}function W(e){var t=e.added_me,n=e.k;return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("li",{className:"item-container",children:[Object(R.jsxs)("div",{className:"pic-info-mix",children:[Object(R.jsx)("div",{className:"pic-container",children:Object(R.jsx)("img",{className:"friend-profile-pic",src:t[n].profile_pic_url,alt:""})}),Object(R.jsxs)("div",{className:"friend-info",children:[Object(R.jsx)("h2",{children:t[n].name}),Object(R.jsx)("p",{style:{fontSize:"0.9rem"},children:t[n].username})]})]}),Object(R.jsx)("div",{className:"friend-button",children:Object(R.jsxs)("button",{onClick:function(){return e.edit_friends("accept request",n,t[n])},children:[Object(R.jsx)("img",{alt:"add friend",className:"add-friend-list-icon",src:Z}),"Add"]})})]})})}function K(e){var t=e.strangers,n=e.k;return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("li",{className:"item-container",children:[Object(R.jsxs)("div",{className:"pic-info-mix",children:[Object(R.jsx)("div",{className:"pic-container",children:Object(R.jsx)("img",{className:"friend-profile-pic",src:t[n].profile_pic_url,alt:""})}),Object(R.jsxs)("div",{className:"friend-info",children:[Object(R.jsx)("h2",{children:t[n].name}),Object(R.jsx)("p",{style:{fontSize:"0.9rem"},children:t[n].username})]})]}),Object(R.jsx)("div",{className:"friend-button",children:Object(R.jsxs)("button",{onClick:function(){return e.edit_friends("add",n,t[n])},children:[Object(R.jsx)("img",{className:"add-friend-list-icon",src:Z,alt:"add friend list icon"}),"Add"]})})]})})}function X(e){var t=e.everyone,n=e.k;return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("li",{className:"item-container",children:[Object(R.jsxs)("div",{className:"pic-info-mix",children:[Object(R.jsx)("div",{className:"pic-container",children:Object(R.jsx)("img",{className:"friend-profile-pic",src:t[n].profile_pic_url,alt:""})}),Object(R.jsxs)("div",{className:"friend-info",children:[Object(R.jsx)("h2",{children:t[n].name}),Object(R.jsx)("p",{style:{fontSize:"0.9rem"},children:t[n].username})]})]}),Object(R.jsx)("div",{className:"friend-button"})]})})}function q(e){var t=e.position,n=e.index,i=e.incFlipCam,c=e.close,a=e.Parenttitle,r=e.axis,o=e.hidden,d=e.GsignIn,l=e.GsignOut,u=e.userDoc,h=e.peopleList,g=e.edit_friends,j="",b=Object(R.jsx)(M.a,{});"x"===r?b=Object(R.jsx)(H.a,{}):"y"===r&&(b=Object(R.jsx)(M.a,{}));var m=Object(s.useState)(!1),f=Object(v.a)(m,2),p=f[0],A=f[1],O=Object(s.useState)(!1),x=Object(v.a)(O,2),I=x[0],C=x[1],E=Object(s.useState)(!1),k=Object(v.a)(E,2),S=k[0],Q=k[1],G=Object(s.useState)(!1),F=Object(v.a)(G,2),U=F[0],Y=F[1],L=function(){Y(!U)},_=Object(R.jsx)("button",{onClick:L,children:Object(R.jsx)(D.a,{})}),Z={shawdow:{backgroundColor:"white",boxShadow:"0 0.1rem 1rem black"},transparent:{backgroundColor:"transparent",boxShadow:"0 0rem 0rem black"}};0===n&&(j="Chat"),1===n&&(_=Object(R.jsx)("button",{onClick:i,children:Object(R.jsx)(w.a,{})})),2===n&&(j="Discover");var P=function(){A(!p)},z=function(){C(!I)},W=function(){Q(!S)};return"fixed"===t?Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("ul",{className:"main-navbar "+(o?"ghost":"navbar-fixed"),children:[Object(R.jsx)("li",{children:Object(R.jsx)("ul",{children:Object(R.jsx)("li",{children:Object(R.jsx)("button",{onClick:c,children:b})})})}),Object(R.jsx)("li",{children:Object(R.jsx)("h1",{children:a})}),Object(R.jsx)("li",{children:Object(R.jsx)("ul",{children:Object(R.jsx)("li",{style:{opacity:0},children:Object(R.jsx)("button",{children:Object(R.jsx)(N.a,{})})})})})]})}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("ul",{className:"main-navbar "+(o?"ghost":"floating-navbar"),style:1===n?Z.transparent:Z.shawdow,children:[Object(R.jsx)("li",{children:Object(R.jsxs)("ul",{children:[Object(R.jsx)("li",{children:Object(R.jsx)("button",{onClick:P,children:Object(R.jsx)(B.a,{})})}),Object(R.jsx)("li",{children:Object(R.jsx)("button",{onClick:W,children:Object(R.jsx)(y.a,{})})})]})}),Object(R.jsx)("li",{children:Object(R.jsx)("h1",{children:j})}),Object(R.jsx)("li",{children:Object(R.jsxs)("ul",{children:[Object(R.jsx)("li",{children:Object(R.jsx)("button",{onClick:z,children:Object(R.jsx)(N.a,{})})}),Object(R.jsx)("li",{children:_})]})})]}),!o&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(T,{open:p,close:P,title:"Account",axis:"x",children:[Object(R.jsx)(q,{position:"fixed"}),Object(R.jsx)(J,{close:P,GsignIn:d,GsignOut:l,userDoc:u})]}),Object(R.jsxs)(T,{open:S,close:W,title:"Search",children:[Object(R.jsx)(q,{position:"fixed"}),Object(R.jsx)("h1",{children:"Searchs"})]}),Object(R.jsxs)(T,{open:I,close:z,title:"Add Friends",children:[Object(R.jsx)(q,{position:"fixed"}),Object(R.jsx)(V,{userDoc:u,peopleList:h,edit_friends:g})]}),Object(R.jsxs)(T,{open:U,close:L,title:"Extra",children:[Object(R.jsx)(q,{position:"fixed"}),Object(R.jsx)("h1",{children:"Extra"})]})]})]})}q.defaultProps={hidden:!0};var $=q,ee=(n(125),n(60)),te=n.n(ee),ne=n(107),se=n.n(ne),ie=n(108),ce=n.n(ie);function ae(e){var t,n=e.index,s=e.changeToIndex;return t="relative"===e.type?Object(R.jsx)("ul",{className:"main-footer relative-footer",children:Object(R.jsx)("li",{children:0===n?Object(R.jsx)("button",{disabled:!0,onClick:function(){return s(0)},style:{backgroundColor:"lightblue"},children:Object(R.jsx)(te.a,{})}):Object(R.jsx)("button",{onClick:function(){return s(0)},children:Object(R.jsx)(te.a,{})})})}):Object(R.jsxs)("ul",{className:"main-footer floating-footer",children:[Object(R.jsx)("li",{children:0===n?Object(R.jsx)("button",{onClick:function(){return s(0)},style:{backgroundColor:"lightblue"},children:Object(R.jsx)(te.a,{})}):Object(R.jsx)("button",{onClick:function(){return s(0)},children:Object(R.jsx)(te.a,{})})}),Object(R.jsx)("li",{children:1===n?Object(R.jsx)("button",{onClick:function(){return s(1)},style:{backgroundColor:"yellow"},children:Object(R.jsx)(se.a,{})}):Object(R.jsx)("button",{onClick:function(){return s(1)},children:Object(R.jsx)(se.a,{})})}),Object(R.jsx)("li",{children:2===n?Object(R.jsx)("button",{onClick:function(){return s(2)},style:{backgroundColor:"mediumSlateBlue"},children:Object(R.jsx)(ce.a,{})}):Object(R.jsx)("button",{onClick:function(){return s(2)},children:Object(R.jsx)(ce.a,{})})})]}),Object(R.jsx)(R.Fragment,{children:t})}n(222);var re=n(12),oe=n.n(re),de="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAMgCAMAAADsrvZaAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkVEOTkwN0NENkM4QTExRTU4NkE2RkNFRjEyMjIxMkVFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkVEOTkwN0NFNkM4QTExRTU4NkE2RkNFRjEyMjIxMkVFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RUQ5OTA3Q0I2QzhBMTFFNTg2QTZGQ0VGMTIyMjEyRUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RUQ5OTA3Q0M2QzhBMTFFNTg2QTZGQ0VGMTIyMjEyRUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6Xrs8sAAAAMFBMVEWIiIjDw8Nb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",le=n(162);function ue(e){var t,n=e.friend,i=e.streak_emoji,c=e.disableNavFootSlide,a=e.userDoc,o=e.height,d=e.width,l=e.loggedIn,u=Object(s.useState)(9/16),h=Object(v.a)(u,2),b=(h[0],h[1]),f=Object(s.useState)([]),p=Object(v.a)(f,2),A=(p[0],p[1],Object(s.useState)(null)),O=Object(v.a)(A,2),I=O[0],C=O[1],E=Object(s.useState)(null),B=Object(v.a)(E,2),k=B[0],y=B[1],S=Object(s.useState)(!1),w=Object(v.a)(S,2),Q=w[0],N=w[1],G="message-"+n.status,D={"new-friend":"New Friend!",new:"New Snap",received:"Received",sent:"Sent",opened:"Opened",pending:"Pending","not-friends":"Unfriended You",blocked:"Blocked"}[n.status];t={"not-friends":"\ud83d\udc94",blocked:"\u26d4",pending:"\u23f3"}[n.status];var F=function(){if(l)if(Object.keys(n.snaps).length>0){var e,t=n.snaps[Object.keys(n.snaps)[0]].id;y(t),j.collection("Photos").doc(t).get().then((function(e){C(e.data().image_url),c(!0)}));var s=a,i=Object.keys(n.snaps)[0];delete s.friends[n.id].snaps[i],j.collection("Users").doc(a.id).update((e={},Object(r.a)(e,"friends.".concat(n.id,".snaps"),s.friends[n.id].snaps),Object(r.a)(e,"received",g.a.firestore.FieldValue.increment(1)),e)).then((function(){if(Object.keys(s.friends[n.id].snaps).length<=0){var e,t,i=(new Date).toLocaleString();j.collection("Users").doc(n.id).update((e={},Object(r.a)(e,"friends.".concat(a.id,".status"),"opened"),Object(r.a)(e,"friends.".concat(a.id,".last_time_stamp"),i),Object(r.a)(e,"friends.".concat(a.id,".streakRef"),i),e)),j.collection("Users").doc(a.id).update((t={},Object(r.a)(t,"friends.".concat(n.id,".status"),"received"),Object(r.a)(t,"friends.".concat(n.id,".last_time_stamp"),i),Object(r.a)(t,"friends.".concat(n.id,".snaps"),[]),Object(r.a)(t,"friends.".concat(n.id,".streakRef"),i),t))}})),j.collection("Photos").doc(t).get().then((function(e){e.data().sent.length<=1?(N(!0),j.collection("Users").doc(a.id).update({deleteSnaps:g.a.firestore.FieldValue.arrayUnion(t)})):(N(!1),j.collection("Photos").doc(t).update({sent:g.a.firestore.FieldValue.arrayRemove(a.id)}))}))}else{var o;(new Date).toLocaleString();j.collection("Users").doc(a.id).update((o={},Object(r.a)(o,"friends.".concat(n.id,".status"),"received"),Object(r.a)(o,"friends.".concat(n.id,".snaps"),[]),o))}else{var d=Object.keys(n.snaps).sort()[0];C(n.snaps[d].src),c(!0),a.received+=1}},U=function(e){j.collection("Photos").doc(e).delete(),m.ref("posts/".concat(e)).delete()};return Object(s.useEffect)((function(){b(9/16),I&&(!1===x.isMobile?window.innerHeight/window.innerWidth>16/9?(document.getElementById("receivedImg").style.height="auto",document.getElementById("receivedImg").style.width="100%"):(document.getElementById("receivedImg").style.height="100%",document.getElementById("receivedImg").style.width="auto"):null!==document.getElementById("receivedImg")&&(o>d?(b(o/d),document.getElementById("receivedImg").style.height="100%",document.getElementById("receivedImg").style.width="auto"):(b(o/d*1.7),document.getElementById("receivedImg").style.height="100%",document.getElementById("receivedImg").style.width="auto")))}),[o,d,I]),Object(R.jsx)(R.Fragment,{children:I?Object(R.jsx)("div",{className:"img-overlay",style:{height:o,width:d},onClick:function(){if(l)k&&Q&&(U(k),j.collection("Users").doc(a.id).update({deleteSnaps:g.a.firestore.FieldValue.arrayRemove(k)})),Object.keys(n.snaps).length<=0?(C(null),c(!1)):F();else{var e=Object.keys(n.snaps).sort()[0];delete n.snaps[e],Object.keys(n.snaps).length>0?F():(n.status="received",C(null),c(!1))}},children:Object(R.jsx)("img",{id:"receivedImg",src:I})}):Object(R.jsxs)("li",{className:"message-main row",onClick:"new"===n.status?F:null,children:[Object(R.jsx)("div",{className:"row",children:Object(R.jsx)("img",{className:"friend-profile-pic",src:null===n.profile_pic_url?de:n.profile_pic_url,alt:""})}),Object(R.jsxs)("div",{className:"col",children:[Object(R.jsx)("h3",{children:n.name}),Object(R.jsxs)("div",{className:"message-info",children:[Object(R.jsxs)("div",{className:"message-info-container",children:[t?Object(R.jsx)("p",{children:t}):Object(R.jsx)("div",{className:G}),Object(R.jsx)("h5",{children:D})]}),Object(R.jsx)("h5",{className:"time-stamp",children:n.last_time_stamp&&"not-friends"!==n.status?Object(R.jsxs)(R.Fragment,{children:[" ",Object(R.jsx)("div",{className:"separator"})," ",Object(R.jsx)(le.a,{date:n.last_time_stamp})," "]}):null}),Object(R.jsx)("div",{className:"row",children:null===n.streak?null:Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:"separator",style:{marginRight:"0.3rem"}}),Object(R.jsx)("h5",{children:n.streak}),Object(R.jsx)("h5",{children:a.streak_emoji?a.streak_emoji:i})]})})]})]})]})})}ue.defaultProps={friend:{created:"today",profile_pic_url:de,name:"Guest",status:"new-friend",streak:0,sent:0,received:0,last_time_stamp:null,snaps:[]},streak_emoji:"\ud83d\udd25",pic:"Guest",email:"Guest@Guest.com,",key:"Guest@Guest.com,"},ue.requiredProps={friend:oe.a.shape({created:oe.a.string,profile_pic_url:oe.a.string,name:oe.a.string,status:oe.a.string,streak:oe.a.number,sent:oe.a.number,received:oe.a.number,last_time_stamp:oe.a.string,snaps:oe.a.arrayOf(oe.a.string)}),streak_emoji:oe.a.string,pic:oe.a.string,email:oe.a.string,key:oe.a.string};for(var he=[],ge=0;ge<30;ge+=1)he.push(Object(R.jsx)(ue,{}));for(var je=function(e){var t=e.userDoc,n=e.disableNavFootSlide,s=e.height,i=e.width,c=e.loggedIn;return Object(R.jsx)("ul",{className:"messages-container",children:Object.keys(t.friends).sort().map((function(e){return Object(R.jsx)(ue,{disableNavFootSlide:n,friend:t.friends[e],userDoc:t,height:s,width:i,loggedIn:c})}))})},be=n(51),me=n(52),fe=n.n(me),pe=n(158),Ae=n(61),Oe=n.n(Ae),xe=n.p+"static/media/snapchat-background.44a04fe5.gif",Ie=(n(92),n(129),n(159)),Ce=n.n(Ie),ve=n.p+"static/media/black-checkmark.d8439ac6.png",Ee=(n.p,n(312)),Be=n(313),ke=n(308),ye=n(309),Se=n(310),we=[],Qe=0;Qe<40;Qe++)we.push(Object(R.jsx)("h1",{children:"filler"}));function Ne(e){var t=e.height,n=e.width,c=e.img,a=e.close,o=(e.backToCapture,e.userDoc),d=e.setUserDoc,l=e.toggleSwipe,u=i.a.useState(!1),h=Object(v.a)(u,2),b=h[0],f=h[1],p=i.a.useState(!1),A=Object(v.a)(p,2),O=(A[0],A[1]),x=(i.a.useRef(),Object(s.useState)([])),I=Object(v.a)(x,2),C=I[0],E=I[1],B=Object(s.useState)(!1),k=Object(v.a)(B,2),y=k[0],S=k[1],w=Object(s.useState)(!1),Q=Object(v.a)(w,2),N=Q[0],G=Q[1],D=Object(Se.a)(),F=(new Date).toLocaleString();Object(s.useEffect)((function(){y&&(console.log("uploaded"),O(!0),f(!1),l(!1),setTimeout((function(){return a()}),100))}),[y]);var U=function(){G(!0),T(D)},Y=function(){var e=o;C.map((function(t){if(void 0!==e.friends[t])if(e.friends[t].last_time_stamp=(new Date).toLocaleString(),e.friends[t].status="sent",e.sent+=1,t===o.email){e.friends[t].status="new",e.friends[t].sent+=1,e.friends[t].received+=1;var n={id:D,type:"picture",src:c};e.friends[t].snaps[F]=n}else e.friends[t].sent=e.friends[t].sent+1})),d(e),S(!0)},T=function(e){S(!1);var t=m.ref("posts/".concat(e)).putString(c,"data_url");t.on("state_changed",(function(e){e.bytesTransferred,e.totalBytes}),(function(e){console.log("Could not upload to storage")}),(function(){t.snapshot.ref.getDownloadURL().then((function(t){L(e,t)}))}))},L=function(e,t){j.collection("Photos").doc(e).set({image_url:t,opened:[],sender:o.id,sent:C,time_stamp:F}).then((function(){M()})).catch((function(e){console.error("Error writing document: ",e)}))},M=function(){var e=j.collection("Users").doc(o.id),t=o;C.forEach((function(e){t.friends[e].status="sent",t.friends[e].sent=t.friends[e].sent+1,t.friends[e].last_time_stamp=F})),e.update({friends:t.friends,sent:g.a.firestore.FieldValue.increment(C.length)}).then((function(){_()}))},_=function(){C.forEach((function(e){var t;j.collection("Users").doc(e).update((t={},Object(r.a)(t,"friends.".concat(o.id,".status"),"new"),Object(r.a)(t,"friends.".concat(o.id,".snaps.").concat(F.replace(/\//g,"-")),{id:D,type:"picture"}),Object(r.a)(t,"friends.".concat(o.id,".received"),g.a.firestore.FieldValue.increment(1)),Object(r.a)(t,"friends.".concat(o.id,".last_time_stamp"),F),Object(r.a)(t,"friends.".concat(o.id,".streakRef"),g.a.firestore.FieldValue.arrayUnion(F)),t))})),S(!0),console.log("done: ",y)},H=function(e){var t=[];e.forEach((function(e){t.push(e)})),E(t)};return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("div",{className:"send-screen",style:{height:t,width:n},children:[Object(R.jsx)($,{}),Object(R.jsx)("div",{className:"send-section",style:{style:"relative",maxHeight:"100%",width:"100%",overflow:"auto"},children:Object.keys(o.friends).map((function(e){return Object(R.jsx)(Ge,{friend:o.friends[e],id:e,sendList:C,handleSendList:H})}))}),C.length>0&&Object(R.jsxs)("div",{className:"send-footer main-footer",children:[Object(R.jsx)("div",{style:{width:"50%",display:"flex",position:"relative",overflow:"hidden"},children:Object(R.jsxs)("h2",{children:["Selected: ",C.length]})}),Object(R.jsxs)(Ee.a,{sx:{m:1,position:"relative"},children:[Object(R.jsx)(ye.a,{variant:"contained",disabled:N,onClick:function(){b||("N/A"===o.created&&"Guest@Guest.com"===o.email?Y():U(),l(!0),O(!1),f(!0))},children:"Send"}),b&&Object(R.jsx)(Be.a,{size:24,sx:{color:ke.a[500],position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]})]})]})})}function Ge(e){var t,n=e.friend,i=e.sendList,c=e.id,a=e.handleSendList,r=Object(s.useState)(!1),o=Object(v.a)(r,2),d=o[0],l=o[1],u=i;return Object(R.jsxs)("button",{className:"item-container",onClick:function(){!1===d?(u.push(c),a(u)):(t=u.filter((function(e){return e!==c})),a(t)),l(!d)},disabled:"pending"===n.status||"not-friends"===n.status,children:[Object(R.jsxs)("div",{className:"row",children:[Object(R.jsx)("img",{src:n.profile_pic_url,className:"profile-pic"}),d?Object(R.jsx)("h1",{style:{color:"rgb(31, 168, 247)"},children:n.name}):Object(R.jsx)("h1",{style:{color:"black"},children:n.name}),("pending"===n.status||"not-friends"===n.status)&&Object(R.jsx)("p",{style:{marginLeft:"1rem",color:"red"},children:Object(R.jsx)("i",{children:n.status})})]}),Object(R.jsx)("div",{children:d?Object(R.jsx)("div",{className:"selected-circle",children:Object(R.jsx)("img",{className:"checkmark",src:ve,alt:"U+2713"})}):Object(R.jsx)("div",{className:"unselected-circle",children:Object(R.jsx)("img",{className:"checkmark",src:ve,alt:"U+2713"})})})]})}function De(e){var t=e.width,n=e.height,i=e.close,c=e.img,a=(e.changedToSend,e.save),r=e.backToCapture,o=e.userDoc,d=e.setUserDoc,l=Object(s.useState)(!1),u=Object(v.a)(l,2),h=u[0],g=u[1],j=Object(s.useState)(!1),b=Object(v.a)(j,2),m=b[0],f=b[1],p=function(){g(!h)};return Object(s.useEffect)((function(){!1===x.isMobile?n/t>16/9?(document.getElementById("capturedImg").style.height="auto",document.getElementById("capturedImg").style.width="100%"):(document.getElementById("capturedImg").style.height="100%",document.getElementById("capturedImg").style.width="auto"):null!==document.getElementById("capturedImg")&&(document.getElementById("capturedImg").style.height="100%",document.getElementById("capturedImg").style.width="auto")}),[n,t]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",{className:"captured-screen",style:{height:n,width:t},children:[Object(R.jsxs)("div",{className:"floating-navbar main-navbar capture-navbar",style:{backgroundColor:"transparent",zIndex:1},children:[Object(R.jsx)("button",{className:"closeButton shadow",onClick:i,children:Object(R.jsx)(Ce.a,{className:"closeIcon",style:{height:"2.5rem",width:"2.5rem"}})}),Object(R.jsx)("ul",{})]}),Object(R.jsxs)("div",{className:"captured-footer main-footer",children:[Object(R.jsx)("button",{onClick:a,children:"Save"}),Object(R.jsx)("button",{onClick:p,children:"Send To"})]}),Object(R.jsx)("img",{id:"capturedImg",src:c})]}),Object(R.jsx)(T,{open:h,close:p,title:"Send",disabled:m,keyboard:!1,children:Object(R.jsx)(Ne,{height:n,width:t,img:c,close:i,backToCapture:r,userDoc:o,setUserDoc:d,toggleSwipe:function(e){!1===e&&f(e),!0===e&&f(e)}})})]})}Ge.defaultProps={sendList:[],id:"Guest@Guest.com",friend:{"Guest@Guest.com":{created:(new Date).toLocaleString(),profile_pic_url:de,name:"Guest",status:"new-friend",streak:0,sent:0,received:0,last_time_stamp:null,snaps:[]}}};var Re=function(e){e.index;var t=e.height,n=e.width,c=e.flipCamCounter,a=e.disableNavFootSlide,r=e.userDoc,o=e.setUserDoc,d=Object(s.useState)(9/16),l=Object(v.a)(d,2),u=l[0],h=l[1],g=Object(s.useState)(null),j=Object(v.a)(g,2),b=j[0],m=j[1],f=Object(s.useState)("environment"),p=Object(v.a)(f,2),A=p[0],O=p[1],I=Object(s.useRef)(null),C=Object(s.useRef)(null),E=Object(s.useState)("camera"),B=Object(v.a)(E,2),k=B[0],y=B[1],S=Object(pe.useDoubleTap)((function(){O("user"===A?"environment":"user"),I&&I.current.toggle()})),w=i.a.useCallback((function(){m(C.current.getScreenshot()),y("captured"),a(!0)}),[C]);function Q(){m(null),y("camera"),a(!1)}return Object(s.useEffect)((function(){O("user"===A?"environment":"user"),I&&I.current.toggle()}),[c]),Object(s.useEffect)((function(){h(9/16),!1===x.isMobile?window.innerHeight/window.innerWidth>16/9?(document.getElementById("webcam").style.height="auto",document.getElementById("webcam").style.width="100%",document.getElementById("webcam2").style.height="auto",document.getElementById("webcam2").style.width="100%"):(document.getElementById("webcam").style.height="100%",document.getElementById("webcam").style.width="auto",document.getElementById("webcam2").style.height="100%",document.getElementById("webcam2").style.width="auto"):null!==document.getElementById("webcam")&&(t>n?(h(t/n),document.getElementById("webcam").style.height="100%",document.getElementById("webcam").style.width="auto"):(h(t/n*1.7),document.getElementById("webcam").style.height="100%",document.getElementById("webcam").style.width="auto"))}),[t,n]),Object(R.jsxs)("div",{className:"webcam-screen",style:{height:t,width:n},children:[Object(R.jsx)(fe.a,Object(be.a)(Object(be.a)({flipOnHover:!1,flipOnClick:!1,flipDirection:"horizontal",ref:I,style:{height:window.innerHeight,width:n}},S),{},{children:x.isMobile?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(me.FrontSide,{id:"flip1",style:{backgroundImage:"url(".concat(xe,")")},children:"environment"===A&&Object(R.jsx)(Oe.a,{id:"webcam",ref:C,audio:!1,forceScreenshotSourceSize:!1,screenshotFormat:"image/png",screenshotQuality:1,videoConstraints:{facingMode:A,aspectRatio:u}})}),Object(R.jsx)(me.BackSide,{id:"flip2",style:{backgroundImage:"url(".concat(xe,")")},children:"user"===A&&Object(R.jsx)(Oe.a,{id:"webcam",ref:C,audio:!1,mirrored:!0,forceScreenshotSourceSize:!1,screenshotFormat:"image/png",screenshotQuality:1,videoConstraints:{facingMode:A,aspectRatio:u}})})]}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(me.FrontSide,{id:"flip1",style:{backgroundImage:"url(".concat(xe,")")},children:Object(R.jsx)(Oe.a,{id:"webcam",ref:C,audio:!1,forceScreenshotSourceSize:!1,screenshotFormat:"image/png",screenshotQuality:1,videoConstraints:{facingMode:"environment",aspectRatio:u}})}),Object(R.jsx)(me.BackSide,{id:"flip2",style:{backgroundImage:"url(".concat(xe,")")},children:Object(R.jsx)(Oe.a,{id:"webcam2",ref:C,audio:!1,mirrored:!0,forceScreenshotSourceSize:!1,screenshotFormat:"image/png",screenshotQuality:1,videoConstraints:{facingMode:"user",aspectRatio:u}})})]})})),"camera"===k&&Object(R.jsxs)("div",{className:"cam-footer",children:[Object(R.jsx)("button",{className:"capture-button",onClick:w}),Object(R.jsx)(ae,{type:"relative"})]}),"captured"===k&&Object(R.jsx)(De,{height:t,width:n,img:b,close:Q,changedToSend:function(){y("send")},save:function(){Q()},backToCapture:function(){y("captured")},userDoc:r,setUserDoc:o}),"send"===k&&null]})};for(var Fe=n.p+"static/media/rick-profile-pic.81f18d45.jpg",Ue=n.p+"static/media/morty-profile-pic.17136706.jpg",Ye=(new Date).toLocaleString(),Te={id:"Guest@Guest.com",created:"N/A",name:"Guest",email:"Guest@Guest.com",username:"Guest123",profile_pic_url:de,streak_emoji:"\ud83d\udd25",phoneNumber:null,sent:0,received:0,added_me:{},pending:{},friends:{"Guest@Guest.com":{created:Ye,profile_pic_url:de,name:"Guest",status:"new-friend",streak:0,sent:0,received:0,last_time_stamp:null,snaps:{}}}},Le={"Rick@Guest.com":{id:"Rick@Guest.com",created:"N/A",profile_pic_url:Fe,name:"Rick",status:"new-friend",streak:0,streak_ref:null,sent:0,received:0,last_time_stamp:null,snaps:{}},"Morty@Guest.com":{id:"Morty@Guest.com",created:"N/A",profile_pic_url:Ue,name:"Morty",status:"new-friend",streak:0,streak_ref:null,sent:0,received:0,last_time_stamp:null,snaps:{}}},Me={"Guest@Guest.com":{id:"Guest@Guest.com",created:"N/A",profile_pic_url:de,name:"Guest",status:"new-friend",streak:0,streak_ref:null,sent:0,received:0,last_time_stamp:null,snaps:{}},"Rick@Guest.com":{id:"Rick@Guest.com",created:"N/A",profile_pic_url:Fe,name:"Rick",status:"new-friend",streak:0,streak_ref:null,sent:0,received:0,last_time_stamp:null,snaps:{}},"Morty@Guest.com":{id:"Morty@Guest.com",created:"N/A",profile_pic_url:Ue,name:"Morty",status:"new-friend",streak:0,streak_ref:null,sent:0,received:0,last_time_stamp:null,snaps:{}}},_e=(n(226),[]),He=0;He<30;He+=1)_e.push(Object(R.jsx)("div",{children:"item n\xb0".concat(He+1)},He));var Je,Ze,Ve=Object(O.bindKeyboard)(A.a),Pe=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).GoogleSignIn=function(){b.signInWithPopup(f)},s.GoogleSignOut=function(){g.a.auth().signOut(),console.log("sign out")},s.state={height:window.innerHeight,width:window.innerWidth,index:1,flipCamCounter:0,loggedIn:!1,userDoc:Te,disable_swiping:!1,showFooter:!0,showNavbar:!0,updateCounter:0,peopleList:{friends:Te.friends,strangers:Le,everyone:Me}},s.changeToIndex=s.changeToIndex.bind(Object(l.a)(s)),s.updateDimensions=s.updateDimensions.bind(Object(l.a)(s)),s.changeToIndex=s.changeToIndex.bind(Object(l.a)(s)),s.incFlipCam=s.incFlipCam.bind(Object(l.a)(s)),s.disable_swiping=s.disable_swiping.bind(Object(l.a)(s)),s.toggleNavbar=s.toggleNavbar.bind(Object(l.a)(s)),s.toggleFooter=s.toggleFooter.bind(Object(l.a)(s)),s.disableNavFootSlide=s.disableNavFootSlide.bind(Object(l.a)(s)),s.checkCurrentUser=s.checkCurrentUser.bind(Object(l.a)(s)),s.GoogleSignIn=s.GoogleSignIn.bind(Object(l.a)(s)),s.GoogleSignOut=s.GoogleSignOut.bind(Object(l.a)(s)),s.startSnapShot=s.startSnapShot.bind(Object(l.a)(s)),s.endSnapShot=s.endSnapShot.bind(Object(l.a)(s)),s.getUserOnFirebase=s.getUserOnFirebase.bind(Object(l.a)(s)),s.createUserOnFirebase=s.createUserOnFirebase.bind(Object(l.a)(s)),s.edit_friends=s.edit_friends.bind(Object(l.a)(s)),s.updatePeopleList=s.updatePeopleList.bind(Object(l.a)(s)),s.setUserDoc=s.setUserDoc.bind(Object(l.a)(s)),s.startEveryoneSS=s.startEveryoneSS.bind(Object(l.a)(s)),s.endEveryoneSS=s.endEveryoneSS.bind(Object(l.a)(s)),s.updateRelatedSnaps=s.updateRelatedSnaps.bind(Object(l.a)(s)),s.incUpdateCount=s.incUpdateCount.bind(Object(l.a)(s)),s}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.checkCurrentUser(),window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){this.endSnapShot(),this.endEveryoneSS()}},{key:"updateDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"componentDidUpdate",value:function(e,t){t.userDoc!==this.state.userDoc&&t.userDoc&&Object.keys(t.userDoc.added_me).length!==Object.keys(this.state.userDoc.added_me).length&&this.updatePeopleList()}},{key:"changeToIndex",value:function(e){this.setState({index:e})}},{key:"incFlipCam",value:function(){this.setState({flipCamCounter:this.state.flipCamCounter+1})}},{key:"disable_swiping",value:function(e){this.setState({disable_swiping:e})}},{key:"toggleNavbar",value:function(e){!0===e||!1===e?this.setState({showNavbar:!e}):this.setState({showNavbar:!this.state.showNavbar})}},{key:"toggleFooter",value:function(e){!0===e||!1===e?this.setState({showFooter:!e}):this.setState({showFooter:!this.state.showFooter})}},{key:"disableNavFootSlide",value:function(e){this.disable_swiping(e),this.toggleFooter(e),this.toggleNavbar(e)}},{key:"setUserDoc",value:function(e){this.setState({userDoc:e})}},{key:"incUpdateCount",value:function(){var e=this.state.updateCounter;this.setState({updateCounter:e+1})}},{key:"checkCurrentUser",value:function(){var e=this;g.a.auth().onAuthStateChanged((function(t){t?(e.setState({loggedIn:!0}),e.getUserOnFirebase(t)):(e.endSnapShot(),e.endEveryoneSS(),e.setState({loggedIn:!1,userDoc:Te,peopleList:{friends:Te.friends,strangers:Le,everyone:Me}}),console.log("user signed out"))}))}},{key:"getUserOnFirebase",value:function(e){var t=this;j.collection("Users").doc(e.uid).get().then((function(n){n.exists?(t.startSnapShot(e),t.startEveryoneSS()):t.createUserOnFirebase(e)}))}},{key:"createUserOnFirebase",value:function(e){var t=this;console.log("new user incoming");var n=(new Date).toLocaleString();j.collection("Users").doc(e.uid).set({created:n,name:e.displayName,email:e.email,friendship:n,id:e.uid,username:e.email,profile_pic_url:e.photoURL,phoneNumber:e.phoneNumber,received:0,sent:0,streak_emoji:"\ud83d\udd25",brokeup:{},added_me:{},pending:{},deleteSnaps:[],friends:Object(r.a)({},e.uid,{id:e.uid,created:n,email:e.email,name:e.displayName,phoneNumber:e.phoneNumber,profile_pic_url:e.photoURL,username:e.email,nickname:null,status:"new-friend",streak:0,streakRef:[],sent:0,received:0,last_time_stamp:null,snaps:{}})}).then((function(){j.collection("Users").doc("Everyone").update(Object(r.a)({},"all_users.".concat(e.uid),{created:n,name:e.displayName,email:e.email,username:e.email,profile_pic_url:e.photoURL,phoneNumber:e.phoneNumber})).then((function(){console.log("Everyone Doc Updated"),t.startSnapShot(e),t.startEveryoneSS()})).catch((function(){j.collection("Users").doc("Everyone").set({all_users:Object(r.a)({},"".concat(e.uid),{created:n,name:e.displayName,email:e.email,username:e.email,profile_pic_url:e.photoURL,phoneNumber:e.phoneNumber})}).then((function(){console.log("Everyone Doc Created"),t.startSnapShot(e),t.startEveryoneSS()})).catch((function(e){return console.log("Error: ",e)}))}))}))}},{key:"startSnapShot",value:function(e){var t=this;console.log("Starting snapshot"),Je=j.collection("Users").doc(e.uid).onSnapshot({includeMetadataChanges:!1},(function(e){t.incUpdateCount(),console.log("user snapshot updated. Update Count: ",t.state.updateCounter),t.setState({userDoc:e.data()}),Object.keys(t.state.peopleList.friends).sort()!==Object.keys(e.data().friends).sort()&&t.updatePeopleList(),1===t.state.updateCounter&&t.state.userDoc.deleteSnaps.length>0&&(t.state.userDoc.deleteSnaps.forEach((function(e){j.collection("Photos").doc(e).delete(),m.ref("posts/".concat(e)).delete()})),j.collection("Users").doc(t.state.userDoc.id).update({deleteSnaps:[]}),console.log("Deleted trashed snaps"))}),(function(e){return console.log("error: ",e)}))}},{key:"endSnapShot",value:function(){void 0!==Je&&(console.log("Ending userSnapshot"),Je())}},{key:"startEveryoneSS",value:function(){var e=this;console.log("Starting Everyone SS"),Ze=j.collection("Users").doc("Everyone").onSnapshot({includeMetadataChanges:!1},(function(t){console.log("everyone snapshot changed");var n=e.state.peopleList;n.everyone=t.data().all_users,e.setState({peopleList:n}),e.updatePeopleList()}),(function(e){return console.log("error: ",e)}))}},{key:"endEveryoneSS",value:function(){void 0!==Ze&&(console.log("Ending Everyone SS"),Ze(),this.updatePeopleList())}},{key:"updatePeopleList",value:function(){var e=this.state.userDoc.friends,t={},n=this.state.peopleList.everyone;Object.keys(n).filter((function(t){return-1==Object.keys(e).indexOf(t)})).forEach((function(e){t[e]=n[e]})),this.setState({peopleList:{friends:e,strangers:t,everyone:n}})}},{key:"updateRelatedSnaps",value:function(e,t){var n=j.collection("Photos"),s=[],i=[],c=[];n.where("sender","==",e).where("sent","array-contains",t).get().then((function(e){e.docs.forEach((function(e){1==e.data().sent.length?s.push(e.id):i.push(e.id)}))})).then((function(){n.where("sender","==",t).where("sent","array-contains",e).get().then((function(e){e.docs.forEach((function(e){1==e.data().sent.length?s.push(e.id):c.push(e.id)}))})).then((function(){s.forEach((function(e){n.doc(e).delete().catch((function(){})),m.ref("posts/".concat(e)).delete().catch((function(){}))})),i.forEach((function(e){n.doc(e).update({sent:g.a.firestore.FieldValue.arrayRemove(t)})})),c.forEach((function(t){n.doc(t).update({sent:g.a.firestore.FieldValue.arrayRemove(e)})}))}))}))}},{key:"edit_friends",value:function(e,t){var n,s=this,i=this.state.peopleList,c=this.state.userDoc,a={},o={},d={},l=j.collection("Users").doc(t),u=j.collection("Users").doc(c.id);j.collection("Photos");if(this.state.loggedIn)if(o={id:c.id,created:c.created,friendship:null,profile_pic_url:c.profile_pic_url,name:c.name,username:c.username,phoneNumber:c.phoneNumber,status:"pending",streak:0,sent:0,received:0,last_time_stamp:null,snaps:[]},"add"===e)if(Object.keys(c.brokeup).includes(t)){delete i.strangers[t],n=c.brokeup[t],delete c.brokeup[t],c.friends[t]=n;var h="new-friend";"sent"===c.friends[t].status?h="new":"opened"===c.friends[t].status?h="received":"received"===c.friends[t].status?h="opened":"new"===c.friends[t].status&&(h="sent"),l.update(Object(r.a)({},"friends.".concat(c.id,".status"),h)).catch((function(e){return console.log("err: ",e)})),u.update({brokeup:c.brokeup,friends:c.friends}).catch((function(e){return console.log("err: ",e)}))}else t!==c.id?l.get().then((function(e){e.exists&&(d={id:e.data().id,created:e.data().created,friendship:null,profile_pic_url:e.data().profile_pic_url,name:e.data().name,username:e.data().username,phoneNumber:e.data().phoneNumber,status:"pending",streak:0,sent:0,received:0,last_time_stamp:null,snaps:[]},u.set({friends:Object(r.a)({},"".concat(t),d)},{merge:!0}).then((function(){delete i.strangers[t],l.set({added_me:Object(r.a)({},"".concat(c.id),o)},{merge:!0}).catch((function(e){return console.log("err: ",e)}))})).catch((function(e){return console.log("err: ",e)})))})).catch((function(e){return console.log("err: ",e)})):console.log("Cannot add yourself");else if("remove"===e)l.get().then((function(e){a=e.data()})).then((function(){Object.keys(a.brokeup).includes(c.id)?(i.strangers[t]=c.friends[t],l.update(Object(r.a)({},"brokeup.".concat(c.id),g.a.firestore.FieldValue.delete())).catch((function(e){return console.log("err: ",e)})),u.update(Object(r.a)({},"friends.".concat(t),g.a.firestore.FieldValue.delete())).catch((function(e){return console.log("err: ",e)})),s.updateRelatedSnaps(t,c.id)):t!==c.id?(l.update(Object(r.a)({},"friends.".concat(c.id,".status"),"not-friends")).catch((function(e){return console.log("err: ",e)})),i.strangers[t]=c.friends[t],n=c.friends[t],delete c.friends[t],c.brokeup[t]=n,u.update({brokeup:c.brokeup,friends:c.friends}).catch((function(e){return console.log("err: ",e)}))):console.log("Cannot remove yourself")})).catch((function(e){return console.log("err: ",e)}));else if("accept request"===e){var b,m=(new Date).toLocaleString();l.update((b={},Object(r.a)(b,"friends.".concat(c.id,".status"),"new-friend"),Object(r.a)(b,"friends.".concat(c.id,".friendship"),m),b)).catch((function(e){return console.log("err: ",e)})),n=c.added_me[t],delete c.added_me[t],c.friends[t]=n,c.friends[t].status="new-friend",u.update(Object(r.a)({added_me:c.added_me,friends:c.friends},"friends.".concat(t,".friendship"),m)).catch((function(e){return console.log("err: ",e)}))}else"remove request"===e?(l.update(Object(r.a)({},"added_me.".concat(c.id),g.a.firestore.FieldValue.delete())).catch((function(e){return console.log("err: ",e)})),i.strangers[t]=c.friends[t],delete c.friends[t],u.update({friends:c.friends}).catch((function(e){return console.log("err: ",e)}))):console.log("action unknown: ",e);else"add"===e?(n=i.strangers[t],delete i.strangers[t],c.friends[t]=n):"remove"===e&&(n=c.friends[t],delete c.friends[t],i.strangers[t]=n),this.setState({userDoc:c,peopleList:i})}},{key:"render",value:function(){var e=this.state,t=e.index,n=e.height,s=e.width,i=e.flipCamCounter,c=e.loggedIn,a=e.userDoc,r=e.disable_swiping,o=e.showNavbar,d=e.showFooter,l=e.peopleList;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(C.a,{children:Object(R.jsx)("title",{children:"Yellow Ghost"})}),o&&Object(R.jsx)($,{index:t,incFlipCam:this.incFlipCam,hidden:!1,GsignIn:this.GoogleSignIn,GsignOut:this.GoogleSignOut,userDoc:a,peopleList:l,edit_friends:this.edit_friends}),Object(R.jsxs)(Ve,{className:"slide_container",index:t,onChangeIndex:this.changeToIndex,disabled:r,containerStyle:{height:this.state.height,WebkitOverflowScrolling:"touch"},enableMouseEvents:!0,children:[Object(R.jsxs)("div",{className:"slide slide1",children:[Object(R.jsx)($,{}),Object(R.jsx)(je,{userDoc:a,disableNavFootSlide:this.disableNavFootSlide,height:n,width:s,loggedIn:c})]}),Object(R.jsx)("div",{className:"slide slide2",children:Object(R.jsx)(Re,{index:t,height:n,width:s,flipCamCounter:i,userDoc:a,disableNavFootSlide:this.disableNavFootSlide,setUserDoc:this.setUserDoc})}),Object(R.jsxs)("div",{className:"slide slide3",children:[Object(R.jsx)($,{}),Object(R.jsx)("h1",{children:"Discover"})]})]}),d?Object(R.jsx)(ae,{index:t,changeToIndex:this.changeToIndex}):null]})}}]),n}(s.Component);a.a.render(Object(R.jsx)(Pe,{}),document.getElementById("root"))},92:function(e,t,n){}},[[283,1,2]]]);
//# sourceMappingURL=main.b87e4327.chunk.js.map