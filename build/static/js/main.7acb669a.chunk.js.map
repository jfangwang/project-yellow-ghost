{"version":3,"sources":["../node_modules/typescript/lib sync","components/slidingMenu/SlidingMenu.js","utils/Firebase.js","screens/account/Account.js","assets/images/add-friend-icon.png","screens/friends/Friends.js","components/navbar/Navbar.js","components/footer/Footer.js","assets/images/guest-profile-pic.png","screens/messages/Message.js","screens/messages/Messages.js","screens/camera/Send.js","assets/images/snapchat-background.gif","assets/images/black-checkmark.png","assets/images/sent-img-icon.png","screens/camera/Capture.js","screens/camera/Camera.js","app/App.js","assets/images/rick-profile-pic.jpg","assets/images/morty-profile-pic.jpg","app/GuestInfo.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","provider","GoogleAuthProvider","list","bindKeyboard","SwipeableViews","i","push","SlidingMenu","props","updateDimensions","setState","width","window","innerWidth","height","innerHeight","state","index","top","bgColor","hide","bind","changeToIndex","handleScroll","changeOnSwitch","checkIndex","closeMenu","addEventListener","this","prevProps","open","setTimeout","target","axis","scrollTop","close","children","title","disabled","view2","className","style","backgroundColor","containerStyle","onSwitching","onChangeIndex","onTransitionEnd","enableMouseEvents","onScroll","position","hidden","Parenttitle","Component","defaultProps","keyboard","Account","signOut","signIn","GsignOut","GsignIn","userDoc","src","borderRadius","alt","name","username","sent","received","Object","friends","filter","item","length","created","onClick","Friends","peopleList","edit_friends","AddFriend","pending","strangers","everyone","email","added_me","filtered_strangers","forEach","sort","map","key","Stranger","k","AddedMe","Friend","Everyone","profile_pic_url","fontSize","status","addedMe","AddFriendIcon","Navbar","incFlipCam","buttonDir","useState","showAccount","setAccount","showFriends","setFriends","showSearch","setSearch","showExtra","setExtra","toggleExtra","dynamic","styles","shawdow","boxShadow","transparent","toggleAccount","toggleFriends","toggleSearch","opacity","Footer","footer","type","Message","emoji","friend","streak_emoji","disableNavFootSlide","loggedIn","toggleSnapShot","setar","img","setImg","snapId","setsnapId","lastUser","setLU","icon_class","new","opened","blocked","snaps","firstSnapId","collection","doc","get","then","data","temp","update","FieldValue","increment","ts","Date","toLocaleString","deleteSnaps","arrayUnion","arrayRemove","deletePhoto","delete","ref","useEffect","isMobile","document","getElementById","Guest","date","marginRight","streak","last_time_stamp","pic","requiredProps","PropTypes","shape","string","number","arrayOf","Messages","test","Send","backToCapture","setUserDoc","toggleSwipe","React","loading","setLoading","setSuccess","useRef","sendList","setSendList","uploadComplete","setuploadComplete","sendPressed","setSendPressed","imgId","uuid","timeStamp","console","log","sendToFirebase","send","changeGuestDoc","newUserDoc","undefined","newEntry","upload","putString","on","snapshot","bytesTransferred","totalBytes","error","getDownloadURL","downloadURL","addPhotoToFireStore","set","image_url","sender","time_stamp","updateUserDoc","catch","userRef","newDoc","updateFriendDoc","replace","handleSendList","arr","maxHeight","overflow","Receiver","display","Box","sx","m","Button","variant","CircularProgress","size","color","yellow","left","marginTop","marginLeft","selected","setSelect","newArr","checkmark","Capture","save","changedToSend","toggle","setToggle","swipe","setSwipe","toggleSend","zIndex","GuestPic","Camera","flipCamCounter","ar","faceMode","setFaceMode","flippy","webcamRef","screen","setScreen","double_tap","useDoubleTap","current","capture","useCallback","getScreenshot","flipOnHover","flipOnClick","flipDirection","backgroundImage","logo","audio","forceScreenshotSourceSize","screenshotFormat","screenshotQuality","videoConstraints","facingMode","aspectRatio","mirrored","c","phoneNumber","Strangers","RickPic","streak_ref","MortyPic","userSnapshot","everyoneSnapshot","BindKeyboardSwipeableViews","App","GoogleSignIn","signInWithPopup","GoogleSignOut","disable_swiping","showFooter","showNavbar","updateCounter","toggleNavbar","toggleFooter","checkCurrentUser","startSnapShot","endSnapShot","getUserOnFirebase","createUserOnFirebase","updatePeopleList","startEveryoneSS","endEveryoneSS","updateRelatedSnaps","incUpdateCount","prevState","num","onAuthStateChanged","user","uid","exists","displayName","friendship","photoURL","brokeup","nickname","streakRef","all_users","d","onSnapshot","includeMetadataChanges","err","obj","indexOf","person","photoRef","trash","SentByUser","SentByPerson","where","docs","photo","action","friendDoc","userEntry","personEntry","friendRef","includes","merge","WebkitOverflowScrolling","ReactDOM","render"],"mappings":"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","file":"static/js/main.7acb669a.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 123;","import React, { Component } from 'react';\nimport SwipeableViews from 'react-swipeable-views'\nimport { bindKeyboard } from 'react-swipeable-views-utils'\nimport Navbar from '../navbar/Navbar';\nimport PropTypes from 'prop-types';\nimport './SlidingMenu.css'\n\nconst BindKeyboardSwipeableViews = bindKeyboard(SwipeableViews);\nlet list = [];\nfor (var i = 0; i < 200; i++) {\n\tlist.push(<h1>filler</h1>)\n}\n\nclass SlidingMenu extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\theight: window.innerHeight,\n\t\t\twidth: window.innerWidth,\n\t\t\tindex: 0,\n\t\t\ttop: true,\n\t\t\tbgColor: 'transparent',\n\t\t\thide: true\n\t\t}\n\t\tthis.updateDimensions = this.updateDimensions.bind(this);\n\t\tthis.changeToIndex = this.changeToIndex.bind(this);\n\t\tthis.handleScroll = this.handleScroll.bind(this);\n\t\tthis.changeOnSwitch = this.changeOnSwitch.bind(this);\n\t\tthis.checkIndex = this.checkIndex.bind(this);\n\t\tthis.closeMenu = this.closeMenu.bind(this);\n\t}\n\tupdateDimensions = () => {\n\t\tthis.setState({ width: window.innerWidth, height: window.innerHeight });\n\t};\n\tcomponentDidMount() {\n\t\twindow.addEventListener('resize', this.updateDimensions);\n\t\twindow.addEventListener('scroll', this.handleScroll, true);\n\t}\n\tcomponentDidUpdate(prevProps) {\n\t\tif (prevProps.open !== this.props.open) {\n\t\t\tif (this.props.open === true) {\n\t\t\t\tthis.setState({ hide: false }, () => setTimeout(() => this.changeToIndex(1), 0));\n\t\t\t\tthis.setState({ top: true })\n\t\t\t}\n\t\t\tif (this.props.open === false) {\n\t\t\t\tthis.changeToIndex(0);\n\t\t\t}\n\t\t}\n\t}\n\tchangeToIndex(e) {\n\t\tthis.setState({\n\t\t\tindex: e,\n\t\t})\n\t\tthis.setState({ bgColor: 'transparent' });\n\t}\n\thandleScroll(e) {\n\t\tconst target = e.target;\n\t\tif (this.props.axis === 'y') {\n\t\t\tif (target.scrollTop <= 0) {\n\t\t\t\tthis.setState({ top: true })\n\t\t\t} else {\n\t\t\t\tthis.setState({ top: false })\n\t\t\t}\n\t\t}\n\t}\n\tchangeOnSwitch() {\n\t\tthis.setState({ bgColor: 'transparent' });\n\t}\n\tcloseMenu() {\n\t\tthis.changeToIndex(0);\n\t}\n\tcheckIndex() {\n\t\tif (this.state.index === 0) {\n\t\t\tthis.setState({ hide: true });\n\t\t\tif (this.props.open === true) {\n\t\t\t\tthis.props.close();\n\t\t\t}\n\t\t}\n\t\tif (this.state.index >= 1) {\n\t\t\tthis.setState({ bgColor: 'white' });\n\t\t}\n\t}\n\trender() {\n\t\tconst { height, width, index, top, hide, bgColor } = this.state;\n\t\tconst { children, title, axis, disabled } = this.props;\n\n\t\tlet view = <>\n\t\t\t{!hide &&\n\t\t\t\t(\n\t\t\t\t\t<div className=\"sliding-menu\" style={{ height: height, width: width, backgroundColor: bgColor }}>\n\t\t\t\t\t\t<BindKeyboardSwipeableViews\n\t\t\t\t\t\t\tcontainerStyle={{ height: height, width: width }}\n\t\t\t\t\t\t\taxis={axis}\n\t\t\t\t\t\t\tdisabled={!top || disabled}\n\t\t\t\t\t\t\tonSwitching={this.changeOnSwitch}\n\t\t\t\t\t\t\tonChangeIndex={this.changeToIndex}\n\t\t\t\t\t\t\tonTransitionEnd={this.checkIndex}\n\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\tenableMouseEvents\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div style={{ height: height, width: width }}></div>\n\t\t\t\t\t\t\t<div onScroll={this.handleScroll} style={{ backgroundColor: 'white', height: height, width: width }}>\n\t\t\t\t\t\t\t\t<div style={{ backgroundColor: 'white' }}>\n\t\t\t\t\t\t\t\t\t<Navbar position=\"fixed\" hidden={false} Parenttitle={title} close={this.closeMenu} axis={axis} />\n\t\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t\t\t{/* {list} */}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</BindKeyboardSwipeableViews>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t</>\n\t\tlet view2 = <>\n\t\t{!hide &&\n\t\t\t(\n\t\t\t\t<div className=\"sliding-menu\" style={{ height: height, width: width, backgroundColor: bgColor }}>\n\t\t\t\t\t<SwipeableViews\n\t\t\t\t\t\tcontainerStyle={{ height: height, width: width }}\n\t\t\t\t\t\taxis={axis}\n\t\t\t\t\t\tdisabled={!top || disabled}\n\t\t\t\t\t\tonSwitching={this.changeOnSwitch}\n\t\t\t\t\t\tonChangeIndex={this.changeToIndex}\n\t\t\t\t\t\tonTransitionEnd={this.checkIndex}\n\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\tenableMouseEvents\n\t\t\t\t\t>\n\t\t\t\t\t\t<div style={{ height: height, width: width }}></div>\n\t\t\t\t\t\t<div onScroll={this.handleScroll} style={{ backgroundColor: 'white', height: height, width: width }}>\n\t\t\t\t\t\t\t<div style={{ backgroundColor: 'white' }}>\n\t\t\t\t\t\t\t\t<Navbar position=\"fixed\" hidden={false} Parenttitle={title} close={this.closeMenu} axis={axis} />\n\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t\t{/* {list} */}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</SwipeableViews>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t</>\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{view2}\n\t\t\t</>\n\t\t);\n\t}\n}\n\nSlidingMenu.propTypes = {\n\ttitle: PropTypes.string,\n\topen: PropTypes.bool,\n\taxis: PropTypes.string,\n\tdisabled: PropTypes.bool,\n\tkeyboard: PropTypes.bool,\n}\nSlidingMenu.defaultProps = {\n\ttitle: \"\",\n\taxis: 'y',\n\tdisabled: false,\n\tkeyboard: true\n}\n\nexport default SlidingMenu;","import firebase from 'firebase/app';\nimport 'firebase/auth';        // for authentication\nimport 'firebase/storage';     // for storage\nimport 'firebase/database';    // for realtime database\nimport 'firebase/firestore';   // for cloud firestore\nimport 'firebase/messaging';   // for cloud messaging\nimport 'firebase/functions';   // for cloud functions\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAzNigqy7stltnVUU8cAollxCxvW0CNBTE\",\n  authDomain: \"ghost-f8b34.firebaseapp.com\",\n  projectId: \"ghost-f8b34\",\n  storageBucket: \"ghost-f8b34.appspot.com\",\n  messagingSenderId: \"838623299070\",\n  appId: \"1:838623299070:web:b73429fee525b7c01cacaf\",\n  measurementId: \"G-85ZG5FVKQ4\"\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\nconst db = firebaseApp.firestore();\nconst auth = firebase.auth();\nconst storage = firebase.storage();\n// Google auth as a provider for this app, the popup\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nexport { db, auth, storage, provider };","import React, { Component } from 'react';\nimport './Account.css';\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\nimport '../messages/Message.css'\nimport { updateSourceFile } from 'typescript';\n\nexport default class Account extends Component {\n  constructor(props) {\n    super(props);\n    this.signOut = this.signOut.bind(this);\n    this.signIn = this.signIn.bind(this);\n  }\n  signOut() {\n    this.props.GsignOut();\n    this.props.close();\n  }\n  signIn() {\n    this.props.GsignIn();\n    this.props.close();\n  }\n\n  render() {\n    const { userDoc } = this.props\n\n    return (\n      <main className=\"main\">\n        <div className=\"section info\">\n          <div className=\"row \">\n            <div className=\"pic-container\">\n              <img src={userDoc['profile_pic_url']} style={{borderRadius: '1rem'}} alt=\"\" />\n            </div>\n            <div className=\"col\">\n              <h1>{userDoc.name}</h1>\n              <i><h5>{userDoc.username}</h5></i>\n            </div>\n          </div>\n          <div className=\"col\">\n            <h5>Total: {userDoc.sent + userDoc.received}</h5>\n            <h5>Sent: {userDoc.sent}</h5>\n            <h5>Received: {userDoc.received}</h5>\n          </div>\n        </div>\n        {Object.keys(userDoc.friends).filter(item => item !== userDoc['email']).length === 0 ? null :\n          <div className=\"section\">\n            <h1>Friends</h1>\n            <div className=\"col\">\n              {/* {Object.keys(userDoc.friends).filter(item => item !== userDoc['email']).sort().map((key) => (\n                <h3>{userDoc.friends[key]['name']}</h3>\n              ))} */}\n            </div>\n          </div>\n        }\n        <div className=\"section snapMap\">\n          <h1>Snap Map</h1>\n          <img src=\"https://media.npr.org/assets/img/2017/06/30/snapchat-world_custom-7763b62a81588d5def16ef6335a573d94e0dc908.jpg\" />\n        </div>\n        <div className=\"section\">\n          {userDoc.created !== 'N/A' && <h3>Joined Snapchat Clone on {userDoc['created']}</h3>}\n        </div>\n        <div className=\"section\">\n          {userDoc['name'] === 'Guest' ?\n            <button onClick={this.signIn} className=\"login\"><h2>Login</h2></button>\n            :\n            <button onClick={this.signOut} className=\"logout\"><h2>Logout</h2></button>\n          }\n        </div>\n      </main>\n    )\n  }\n}\n","export default \"data:image/png;base64,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\"","import React, { Component } from 'react'\nimport '../account/Account.css';\nimport AddFriendIcon from '../../assets/images/add-friend-icon.png';\nimport './Friends.css';\n\nexport default class Friends extends Component {\n  render() {\n    const { peopleList, userDoc, edit_friends } = this.props;\n    return (\n      <main className=\"main\">\n        <AddFriend\n          friends={userDoc.friends}\n          pending={userDoc.pending}\n          strangers={peopleList.strangers}\n          everyone={peopleList.everyone}\n          edit_friends={edit_friends}\n          email={userDoc.email}\n          added_me={userDoc.added_me}\n        />\n      </main>\n    )\n  }\n}\nfunction AddFriend(props) {\n  var filtered_strangers = props.strangers;\n  Object.keys(props.added_me).forEach(item => {\n    delete filtered_strangers[item];\n  })\n\n  return (\n    <div className=\"screen\">\n      {/* <input type=\"search\" placeholder=\"Find Friends\" className=\"friend-search\" /> */}\n      <h3 className=\"friend-head\">Quick Add ({Object.keys(props.strangers).length})</h3>\n      <ul className=\"friend-list-container\">\n        {Object.keys(filtered_strangers).sort().map((key) => (\n          <Stranger\n            strangers={filtered_strangers}\n            k={key}\n            edit_friends={props.edit_friends}\n          />\n        ))}\n      </ul>\n      {Object.keys(filtered_strangers).length === 0 ?\n        <p>You are friends with everyone</p>\n        : null\n      }\n      {Object.keys(props.added_me).length === 0 ? null :\n        <>\n          <h3 className=\"friend-head\">Added Me ({Object.keys(props.added_me).length})</h3>\n          <ul className=\"friend-list-container\">\n            {Object.keys(props.added_me).sort().map((key) => (\n              <AddedMe\n                added_me={props.added_me}\n                k={key}\n                edit_friends={props.edit_friends}\n              />\n            ))}\n          </ul>\n        </>\n      }\n      <h3 className=\"friend-head\">Friends ({Object.keys(props.friends).length - 1})</h3>\n      <ul className=\"friend-list-container\">\n        {Object.keys(props.friends).sort().map((key) => (\n          <Friend\n            friends={props.friends}\n            k={key}\n            edit_friends={props.edit_friends}\n            email={props.email}\n          />\n        ))}\n      </ul>\n      {Object.keys(props.friends).length - 1 === 0 ?\n        <p>Add some friends!</p>\n        : null\n      }\n      <h3 className=\"friend-head\">Everyone ({Object.keys(props.everyone).length})</h3>\n      <ul className=\"friend-list-container\">\n        {Object.keys(props.everyone).sort().map((key) => (\n          <Everyone\n            everyone={props.everyone}\n            k={key}\n          />\n        ))}\n      </ul>\n      <div className=\"footer\">\n        {/* Placeholder */}\n      </div>\n    </div>\n  )\n}\n\nfunction Friend(props) {\n  var friends = props.friends;\n  var key = props.k;\n  return (\n    <>\n      {props.email === key ? null :\n        <li className=\"item-container\">\n          <div className=\"pic-info-mix\">\n            <div className=\"pic-container\">\n              <img className=\"friend-profile-pic\" src={friends[key].profile_pic_url} alt=\"\" />\n            </div>\n            <div className=\"friend-info\">\n              <h2>{friends[key].name}</h2>\n              <p style={{ fontSize: \"0.9rem\" }}>{friends[key].username}</p>\n            </div>\n          </div>\n          <div className=\"friend-button\">\n            {props.email === key ? null :\n              friends[key].status === \"pending\" ?\n                <button onClick={() => props.edit_friends(\"remove request\", key, friends[key])}>Remove Request</button>\n                : <button onClick={() => props.edit_friends(\"remove\", key, friends[key])}>Remove</button>\n            }\n          </div>\n        </li>\n      }\n    </>\n  )\n}\n\nfunction AddedMe(props) {\n  var addedMe = props.added_me;\n  var key = props.k;\n  return (\n    <>\n      <li className=\"item-container\">\n        <div className=\"pic-info-mix\">\n          <div className=\"pic-container\">\n            <img className=\"friend-profile-pic\" src={addedMe[key].profile_pic_url} alt=\"\" />\n          </div>\n          <div className=\"friend-info\">\n            <h2>{addedMe[key].name}</h2>\n            <p style={{ fontSize: \"0.9rem\" }}>{addedMe[key].username}</p>\n          </div>\n        </div>\n        <div className=\"friend-button\">\n          <button onClick={() => props.edit_friends(\"accept request\", key, addedMe[key])}><img alt=\"add friend\" className=\"add-friend-list-icon\" src={AddFriendIcon} />Add</button>\n        </div>\n      </li>\n    </>\n  )\n}\n\nfunction Stranger(props) {\n  var strangers = props.strangers;\n  var key = props.k;\n  return (\n    <>\n      <li className=\"item-container\">\n        <div className=\"pic-info-mix\">\n          <div className=\"pic-container\">\n            <img className=\"friend-profile-pic\" src={strangers[key].profile_pic_url} alt=\"\" />\n          </div>\n          <div className=\"friend-info\">\n            <h2>{strangers[key].name}</h2>\n            <p style={{ fontSize: \"0.9rem\" }}>{strangers[key].username}</p>\n          </div>\n        </div>\n        <div className=\"friend-button\">\n          <button onClick={() => props.edit_friends(\"add\", key, strangers[key])}><img className=\"add-friend-list-icon\" src={AddFriendIcon} alt=\"add friend list icon\" />Add</button>\n        </div>\n      </li>\n    </>\n  )\n}\n\nfunction Everyone(props) {\n  var everyone = props.everyone;\n  var key = props.k;\n\n  return (\n    <>\n      <li className=\"item-container\">\n        <div className=\"pic-info-mix\">\n          <div className=\"pic-container\">\n            <img className=\"friend-profile-pic\" src={everyone[key].profile_pic_url} alt=\"\" />\n          </div>\n          <div className=\"friend-info\">\n            <h2>{everyone[key].name}</h2>\n            <p style={{ fontSize: \"0.9rem\" }}>{everyone[key].username}</p>\n          </div>\n        </div>\n        <div className=\"friend-button\">\n        </div>\n      </li>\n    </>\n  )\n}","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport './Navbar.css'\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\nimport SearchIcon from '@mui/icons-material/Search';\nimport FlipCameraIosIcon from '@mui/icons-material/FlipCameraIos';\nimport PersonAddIcon from '@mui/icons-material/PersonAdd';\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz';\nimport SlidingMenu from '../slidingMenu/SlidingMenu';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport Account from '../../screens/account/Account';\nimport Friends from '../../screens/friends/Friends';\nimport '../../app/App.css';\n\nfunction Navbar({ position, index, incFlipCam, close, Parenttitle, axis, hidden, GsignIn, GsignOut, userDoc, peopleList, edit_friends }) {\n\tlet title = \"\";\n\tlet buttonDir = <KeyboardArrowDownIcon />\n\tif (axis === \"x\") {\n\t\tbuttonDir = <ChevronRightIcon />\n\t} else if (axis === \"y\") {\n\t\tbuttonDir = <KeyboardArrowDownIcon />\n\t}\n\tconst [showAccount, setAccount] = useState(false)\n\tconst [showFriends, setFriends] = useState(false)\n\tconst [showSearch, setSearch] = useState(false)\n\tconst [showExtra, setExtra] = useState(false)\n\tconst toggleExtra = () => {\n\t\tsetExtra(!showExtra);\n\t}\n\tlet dynamic = <button onClick={toggleExtra}><MoreHorizIcon /></button>;\n\tconst styles = {\n\t\tshawdow: {\n\t\t\tbackgroundColor: 'white',\n\t\t\tboxShadow: \"0 0.1rem 1rem black\"\n\t\t},\n\t\ttransparent: {\n\t\t\tbackgroundColor: 'transparent',\n\t\t\tboxShadow: \"0 0rem 0rem black\"\n\t\t}\n\t}\n\tif (index === 0) {\n\t\ttitle = \"Chat\";\n\t}\n\tif (index === 1) {\n\t\tdynamic = <button onClick={incFlipCam}><FlipCameraIosIcon /></button>;\n\t}\n\tif (index === 2) {\n\t\ttitle = \"Discover\";\n\t}\n\tconst toggleAccount = () => {\n\t\tsetAccount(!showAccount);\n\t}\n\tconst toggleFriends = () => {\n\t\tsetFriends(!showFriends);\n\t}\n\tconst toggleSearch = () => {\n\t\tsetSearch(!showSearch);\n\t}\n\tif (position === \"fixed\") {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<ul className={\"main-navbar \" + (hidden ? \"ghost\" : \"navbar-fixed\")} >\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li><button onClick={close}>{buttonDir}</button></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li><h1>{Parenttitle}</h1></li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li style={{ opacity: 0 }}><button><PersonAddIcon /></button></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</>\n\t\t)\n\t} else {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<ul \n\t\t\t\t\tclassName={\"main-navbar \" + (hidden ? \"ghost\" : \"floating-navbar\")}\n\t\t\t\t\tstyle={index === 1 ? styles.transparent : styles.shawdow}\n\t\t\t\t>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li><button onClick={toggleAccount}><AccountCircleIcon /></button></li>\n\t\t\t\t\t\t\t<li><button onClick={toggleSearch}><SearchIcon /></button></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li><h1>{title}</h1></li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li><button onClick={toggleFriends}><PersonAddIcon /></button></li>\n\t\t\t\t\t\t\t<li>{dynamic}</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t{!hidden && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<SlidingMenu open={showAccount} close={toggleAccount} title=\"Account\" axis=\"x\">\n\t\t\t\t\t\t\t<Navbar position=\"fixed\"/>\n\t\t\t\t\t\t\t<Account close={toggleAccount} GsignIn={GsignIn} GsignOut={GsignOut} userDoc={userDoc}/>\n\t\t\t\t\t\t</SlidingMenu>\n\t\t\t\t\t\t<SlidingMenu open={showSearch} close={toggleSearch} title=\"Search\">\n\t\t\t\t\t\t\t<Navbar position=\"fixed\"/>\n\t\t\t\t\t\t\t<h1>Searchs</h1>\n\t\t\t\t\t\t</SlidingMenu>\n\t\t\t\t\t\t<SlidingMenu open={showFriends} close={toggleFriends} title=\"Add Friends\">\n\t\t\t\t\t\t\t<Navbar position=\"fixed\"/>\n\t\t\t\t\t\t\t<Friends userDoc={userDoc} peopleList={peopleList} edit_friends={edit_friends}/>\n\t\t\t\t\t\t</SlidingMenu>\n\t\t\t\t\t\t<SlidingMenu open={showExtra} close={toggleExtra} title=\"Extra\">\n\t\t\t\t\t\t\t<Navbar position=\"fixed\"/>\n\t\t\t\t\t\t\t<h1>Extra</h1>\n\t\t\t\t\t\t</SlidingMenu>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</>\n\t\t)\n\t}\n}\n\nNavbar.propTypes = {\n\tposition: PropTypes.string,\n\thidden: PropTypes.bool,\n}\nNavbar.defaultProps = {\n\thidden: true\n}\n\nexport default Navbar;","import React from 'react'\nimport './Footer.css'\nimport ModeCommentOutlinedIcon from '@mui/icons-material/ModeCommentOutlined';\nimport CameraAltOutlinedIcon from '@mui/icons-material/CameraAltOutlined';\nimport GroupIcon from '@mui/icons-material/Group';\n\nexport default function Footer({index, changeToIndex, type}) {\n  let footer;\n  if (type === \"relative\") {\n    footer = (<ul className=\"main-footer relative-footer\">\n    <li>{index === 0 ? <button disabled onClick={() => changeToIndex(0)} style={{backgroundColor: 'lightblue'}}><ModeCommentOutlinedIcon/></button> : <button onClick={() => changeToIndex(0)}><ModeCommentOutlinedIcon/></button>}</li>\n    </ul>)\n  } else {\n    footer = (<ul className=\"main-footer floating-footer\">\n    <li>{index === 0 ? <button onClick={() => changeToIndex(0)} style={{backgroundColor: 'lightblue'}}><ModeCommentOutlinedIcon/></button> : <button onClick={() => changeToIndex(0)}><ModeCommentOutlinedIcon/></button>}</li>\n    <li>{index === 1 ? <button onClick={() => changeToIndex(1)} style={{backgroundColor: 'yellow'}}><CameraAltOutlinedIcon/></button> : <button onClick={() => changeToIndex(1)}><CameraAltOutlinedIcon/></button>}</li>\n    <li>{index === 2 ? <button onClick={() => changeToIndex(2)} style={{backgroundColor: 'mediumSlateBlue'}}><GroupIcon/></button> : <button onClick={() => changeToIndex(2)}><GroupIcon/></button>}</li>\n    </ul>)\n  }\n  return (\n    <>\n      {footer}\n    </>\n  )\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAMgCAMAAADsrvZaAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkVEOTkwN0NENkM4QTExRTU4NkE2RkNFRjEyMjIxMkVFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkVEOTkwN0NFNkM4QTExRTU4NkE2RkNFRjEyMjIxMkVFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RUQ5OTA3Q0I2QzhBMTFFNTg2QTZGQ0VGMTIyMjEyRUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RUQ5OTA3Q0M2QzhBMTFFNTg2QTZGQ0VGMTIyMjEyRUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6Xrs8sAAAAMFBMVEWIiIjDw8Nb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\"","import React, { useEffect, useState } from 'react';\nimport './Message.css';\nimport { auth, db, provider, storage } from '../../utils/Firebase';\nimport PropTypes from 'prop-types';\nimport Guest from '../../assets/images/guest-profile-pic.png';\nimport ReactTimeago from 'react-timeago';\nimport { isMobile } from 'react-device-detect';\nimport firebase from 'firebase/app';\nimport { Store } from '@mui/icons-material';\n\nexport default function Message({ friend, streak_emoji, disableNavFootSlide, userDoc, height, width, loggedIn, toggleSnapShot }) {\n\tconst [ar, setar] = useState(9 / 16);\n\tconst [opened, setOpened] = useState([]);\n\tconst [img, setImg] = useState(null);\n\tconst [snapId, setsnapId] = useState(null);\n\tconst [lastUser, setLU] = useState(false);\n\tvar icon_class = \"message-\" + friend[\"status\"]\n\tvar emoji = null;\n\tvar status_dict = {\n\t\t\"new-friend\": \"New Friend!\",\n\t\tnew: \"New Snap\",\n\t\treceived: \"Received\",\n\t\tsent: \"Sent\",\n\t\topened: \"Opened\",\n\t\tpending: \"Pending\",\n\t\t\"not-friends\": \"Unfriended You\",\n\t\tblocked: \"Blocked\",\n\t}\n\tvar emoji_dict = {\n\t\t\"not-friends\": \"\\u{1F494}\",\n\t\tblocked: \"\\u{26D4}\",\n\t\tpending: \"\\u{23F3}\"\n\t}\n\tvar status = status_dict[friend[\"status\"]]\n\temoji = emoji_dict[friend[\"status\"]]\n\n\tconst open = () => {\n\t\tif (loggedIn) {\n\t\t\ttoggleSnapShot(false);\n\t\t\tif (Object.keys(friend.snaps).length > 0) {\n\t\t\t\tlet firstSnapId = friend.snaps[Object.keys(friend.snaps)[0]].id;\n\t\t\t\tsetsnapId(firstSnapId);\n\t\t\t\t// Get Image\n\t\t\t\tdb.collection(\"Photos\").doc(firstSnapId).get().then((doc) => {\n\t\t\t\t\tsetImg(doc.data()['image_url'])\n\t\t\t\t\tdisableNavFootSlide(true);\n\t\t\t\t})\n\t\t\t\t// Delete snap from userdoc\n\t\t\t\tlet temp = userDoc;\n\t\t\t\tlet key = Object.keys(friend.snaps)[0];\n\t\t\t\tdelete temp['friends'][friend['id']]['snaps'][key]\n\t\t\t\tdb.collection(\"Users\").doc(userDoc['id']).update({\n\t\t\t\t\t[`friends.${friend['id']}.snaps`]: temp['friends'][friend['id']]['snaps'],\n\t\t\t\t\treceived: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t}).then(() => {\n\t\t\t\t\tif (Object.keys(temp['friends'][friend['id']]['snaps']).length <= 0) {\n\t\t\t\t\t\tconst ts = new Date().toLocaleString();\n\t\t\t\t\t\t// Update Friend and User Doc if user is on last snap\n\t\t\t\t\t\tdb.collection(\"Users\").doc(friend['id']).update({\n\t\t\t\t\t\t\t[`friends.${userDoc['id']}.status`]: 'opened',\n\t\t\t\t\t\t\t[`friends.${userDoc['id']}.last_time_stamp`]: ts,\n\t\t\t\t\t\t\t[`friends.${userDoc['id']}.streakRef`]: ts,\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\t// Update User Doc\n\t\t\t\t\t\tdb.collection(\"Users\").doc(userDoc['id']).update({\n\t\t\t\t\t\t\t[`friends.${friend['id']}.status`]: 'received',\n\t\t\t\t\t\t\t[`friends.${friend['id']}.last_time_stamp`]: ts,\n\t\t\t\t\t\t\t[`friends.${friend['id']}.snaps`]: [],\n\t\t\t\t\t\t\t[`friends.${friend['id']}.streakRef`]: ts,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// Update Photo Doc\n\t\t\t\tdb.collection(\"Photos\").doc(firstSnapId).get().then((doc) => {\n\t\t\t\t\tif (doc.data()['sent'].length <= 1) {\n\t\t\t\t\t\tsetLU(true)\n\t\t\t\t\t\t// Move Photo id to deleteSnaps for pending delete\n\t\t\t\t\t\tdb.collection(\"Users\").doc(userDoc['id']).update({\n\t\t\t\t\t\t\tdeleteSnaps: firebase.firestore.FieldValue.arrayUnion(firstSnapId),\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetLU(false)\n\t\t\t\t\t\t// Update Photo Doc\n\t\t\t\t\t\tdb.collection(\"Photos\").doc(firstSnapId).update({\n\t\t\t\t\t\t\tsent: firebase.firestore.FieldValue.arrayRemove(userDoc['id']),\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tconst ts = new Date().toLocaleString();\n\t\t\t\tdb.collection(\"Users\").doc(userDoc['id']).update({\n\t\t\t\t\t[`friends.${friend['id']}.status`]: 'received',\n\t\t\t\t\t[`friends.${friend['id']}.snaps`]: [],\n\t\t\t\t})\n\t\t\t}\n\t\t} else {\n\t\t\t// Guest Account\n\t\t\tlet k = Object.keys(friend['snaps']).sort()[0];\n\t\t\tsetImg(friend['snaps'][k]['src'])\n\t\t\tdisableNavFootSlide(true);\n\t\t\tuserDoc[\"received\"] += 1;\n\t\t}\n\t}\n\tconst close = () => {\n\t\tif (loggedIn) {\n\t\t\tif (snapId && lastUser) {\n\t\t\t\tdeletePhoto(snapId)\n\t\t\t\tdb.collection(\"Users\").doc(userDoc['id']).update({\n\t\t\t\t\tdeleteSnaps: firebase.firestore.FieldValue.arrayRemove(snapId),\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (Object.keys(friend.snaps).length <= 0) {\n\t\t\t\ttoggleSnapShot(true);\n\t\t\t\tsetImg(null);\n\t\t\t\tdisableNavFootSlide(false);\n\t\t\t} else {\n\t\t\t\topen()\n\t\t\t}\n\t\t} else {\n\t\t\t// Guest Account\n\t\t\tlet k = Object.keys(friend['snaps']).sort()[0];\n\t\t\tdelete friend['snaps'][k]\n\t\t\tif (Object.keys(friend['snaps']).length > 0) {\n\t\t\t\topen();\n\t\t\t} else {\n\t\t\t\tfriend['status'] = 'received'\n\t\t\t\tsetImg(null);\n\t\t\t\tdisableNavFootSlide(false);\n\t\t\t}\n\t\t}\n\t}\n\tconst deletePhoto = (id) => {\n\t\tdb.collection(\"Photos\").doc(id).delete();\n\t\tstorage.ref(`posts/${id}`).delete();\n\t}\n\n\tuseEffect(() => {\n\t\tsetar(9 / 16);\n\t\tif (img) {\n\t\t\tif (isMobile === false) {\n\t\t\t\t// setbh(null);\n\t\t\t\t// setbw(null);\n\t\t\t\t// console.log(window.innerHeight/window.innerWidth, 16/9)\n\t\t\t\tif (window.innerHeight / window.innerWidth > 16 / 9) {\n\t\t\t\t\tdocument.getElementById('receivedImg').style.height = 'auto';\n\t\t\t\t\tdocument.getElementById('receivedImg').style.width = '100%';\n\t\t\t\t} else {\n\t\t\t\t\tdocument.getElementById('receivedImg').style.height = '100%';\n\t\t\t\t\tdocument.getElementById('receivedImg').style.width = 'auto';\n\t\t\t\t}\n\t\t\t} else if (document.getElementById('receivedImg') !== null) {\n\t\t\t\tif (height > width) {\n\t\t\t\t\tsetar(height / width);\n\t\t\t\t\tdocument.getElementById('receivedImg').style.height = '100%';\n\t\t\t\t\tdocument.getElementById('receivedImg').style.width = 'auto';\n\t\t\t\t} else {\n\t\t\t\t\tsetar(height / width * 1.7);\n\t\t\t\t\tdocument.getElementById('receivedImg').style.height = '100%';\n\t\t\t\t\tdocument.getElementById('receivedImg').style.width = 'auto';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [height, width, img])\n\n\treturn (\n\t\t<>\n\t\t\t{img ?\n\t\t\t\t<div className=\"img-overlay\" style={{ height: height, width: width }} onClick={close}>\n\t\t\t\t\t<img id=\"receivedImg\" src={img} />\n\t\t\t\t</div>\n\t\t\t\t:\n\t\t\t\t<li className=\"message-main row\" onClick={friend[\"status\"] === \"new\" ? open : null}>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<img className=\"friend-profile-pic\" src={friend[\"profile_pic_url\"] === null ? Guest : friend[\"profile_pic_url\"]} alt=\"\"></img>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t<h3>{friend[\"name\"]}</h3>\n\t\t\t\t\t\t<div className=\"message-info\">\n\t\t\t\t\t\t\t<div className=\"message-info-container\">\n\t\t\t\t\t\t\t\t{emoji ? <p>{emoji}</p> : <div className={icon_class}></div>}\n\t\t\t\t\t\t\t\t<h5>{status}</h5>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h5 className=\"time-stamp\">{friend[\"last_time_stamp\"] && friend['status'] !== 'not-friends' ? <> <div className=\"separator\"></div> <ReactTimeago date={friend[\"last_time_stamp\"]} /> </> : null}</h5>\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t{friend[\"streak\"] === null ? null : <>\n\t\t\t\t\t\t\t\t\t<div className=\"separator\" style={{ marginRight: \"0.3rem\" }}></div>\n\t\t\t\t\t\t\t\t\t<h5>{friend[\"streak\"]}</h5>\n\t\t\t\t\t\t\t\t\t<h5>{userDoc.streak_emoji ? userDoc.streak_emoji : streak_emoji}</h5>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t}\n\t\t</>\n\t)\n}\nMessage.defaultProps = {\n\tfriend: {\n\t\tcreated: \"today\",\n\t\tprofile_pic_url: Guest,\n\t\tname: \"Guest\",\n\t\tstatus: \"new-friend\",\n\t\tstreak: 0,\n\t\tsent: 0,\n\t\treceived: 0,\n\t\tlast_time_stamp: null,\n\t\tsnaps: [],\n\t},\n\tstreak_emoji: \"\\u{1F525}\",\n\tpic: \"Guest\",\n\temail: \"Guest@Guest.com,\",\n\tkey: \"Guest@Guest.com,\"\n\n\n}\nMessage.requiredProps = {\n\tfriend: PropTypes.shape({\n\t\tcreated: PropTypes.string,\n\t\tprofile_pic_url: PropTypes.string,\n\t\tname: PropTypes.string,\n\t\tstatus: PropTypes.string,\n\t\tstreak: PropTypes.number,\n\t\tsent: PropTypes.number,\n\t\treceived: PropTypes.number,\n\t\tlast_time_stamp: PropTypes.string,\n\t\tsnaps: PropTypes.arrayOf(PropTypes.string)\n\t}),\n\tstreak_emoji: PropTypes.string,\n\tpic: PropTypes.string,\n\temail: PropTypes.string,\n\tkey: PropTypes.string\n}","import React, { useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport './Messages.css'\nimport Message from './Message'\n\nconst list = [];\n\nfor (let i = 0; i < 30; i += 1) {\n  list.push(<Message />);\n}\n\nfunction Messages({ userDoc, disableNavFootSlide, height, width, loggedIn, toggleSnapShot }) {\n  return (\n    <>\n      <ul className=\"messages-container\">\n        {!loggedIn &&\n          <li className=\"guest_message\">\n            <h4>\n              Welcome to Project Yellow Ghost, a web app version of SnapChat. \n              Right now, you are on a local guest account for you to try out. \n              Feel free to sign in at the top if you want to start using this product. \n              Happy Snapping!\n              </h4>\n          </li>\n        }\n        {Object.keys(userDoc.friends).sort().map((key) => (\n          <Message\n            disableNavFootSlide={disableNavFootSlide}\n            friend={userDoc.friends[key]}\n            userDoc={userDoc}\n            height={height}\n            width={width}\n            loggedIn={loggedIn}\n            toggleSnapShot={toggleSnapShot}\n          />\n        ))}\n        {/* {list} */}\n      </ul>\n    </>\n  )\n}\n\nMessages.propTypes = {}\n\nexport default Messages\n","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport Navbar from '../../components/navbar/Navbar'\nimport checkmark from '../../assets/images/black-checkmark.png';\nimport sentImg from '../../assets/images/sent-img-icon.png';\nimport GuestPic from '../../assets/images/guest-profile-pic.png';\nimport firebase from 'firebase/app';\nimport { auth, db, provider, storage } from '../../utils/Firebase';\nimport Box from '@mui/material/Box';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport { yellow, green } from '@mui/material/colors';\nimport Button from '@mui/material/Button';\nimport { v4 as uuid } from \"uuid\";\nimport './Camera.css'\nimport './Send.css'\n\nlet test = [];\n\nfor (var i = 0; i < 40; i++) {\n  test.push(<h1>filler</h1>)\n}\n\nexport default function Send({ height, width, img, close, backToCapture, userDoc, setUserDoc, toggleSwipe, sent, toggleSnapShot }) {\n  const [loading, setLoading] = React.useState(false);\n  const [success, setSuccess] = React.useState(false);\n  const timer = React.useRef();\n  const [sendList, setSendList] = useState([]);\n  const [uploadComplete, setuploadComplete] = useState(false);\n  const [sendPressed, setSendPressed] = useState(false);\n  const imgId = uuid();\n  const timeStamp = new Date().toLocaleString();\n\n  const handleButtonClick = () => {\n    if (!loading) {\n      if (userDoc['created'] === 'N/A' && userDoc['email'] === 'Guest@Guest.com') {\n        changeGuestDoc();\n      } else {\n        sendToFirebase()\n        toggleSnapShot(false);\n      }\n      toggleSwipe(true);\n      setSuccess(false);\n      setLoading(true);\n    }\n  };\n\n  useEffect(() => {\n    if (uploadComplete) {\n      console.log(\"uploaded\")\n      setSuccess(true);\n      setLoading(false);\n      toggleSwipe(false);\n      if (userDoc['created'] !== 'N/A' && userDoc['email'] !== 'Guest@Guest.com') {\n        toggleSnapShot(true);\n      }\n      setTimeout(() => sent(), 100);\n    }\n  }, [uploadComplete])\n\n  const sendToFirebase = () => {\n    setSendPressed(true);\n    send(imgId)\n  }\n  const changeGuestDoc = () => {\n    let newUserDoc = userDoc;\n    sendList.map((friend) => {\n      if (newUserDoc['friends'][friend] !== undefined) {\n        newUserDoc['friends'][friend]['last_time_stamp'] = new Date().toLocaleString();\n        newUserDoc['friends'][friend]['status'] = \"sent\";\n        newUserDoc[\"sent\"] += 1;\n        if (friend === userDoc['email']) {\n          newUserDoc['friends'][friend]['status'] = \"new\";\n          newUserDoc['friends'][friend]['sent'] += 1;\n          newUserDoc['friends'][friend]['received'] += 1;\n          let newEntry = {\n            id: imgId,\n            type: \"picture\",\n            src: img,\n          }\n          newUserDoc['friends'][friend]['snaps'][timeStamp] = newEntry;\n        } else {\n          newUserDoc['friends'][friend]['sent'] = newUserDoc['friends'][friend]['sent'] + 1;\n        }\n      }\n    })\n    setUserDoc(newUserDoc);\n    setuploadComplete(true);\n  }\n  const send = (id) => {\n    // Upload to Storage\n    setuploadComplete(false);\n    const upload = storage.ref(`posts/${id}`).putString(img, 'data_url');\n    upload.on('state_changed',\n      (snapshot) => {\n        let progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n        // console.log('Upload is ' + progress + '% done');\n      },\n      (error) => {\n        console.log(\"Could not upload to storage\");\n      },\n      () => {\n        upload.snapshot.ref.getDownloadURL().then((downloadURL) => {\n          addPhotoToFireStore(id, downloadURL);\n          // console.log(\"Uploaded to Storage\");\n        });\n      }\n    );\n  }\n  const addPhotoToFireStore = (id, downloadURL) => {\n    db.collection(\"Photos\").doc(id).set({\n      image_url: downloadURL,\n      opened: [],\n      sender: userDoc['id'],\n      sent: sendList,\n      time_stamp: timeStamp,\n    })\n      .then(() => {\n        // console.log(\"Uploaded to Firestore\");\n        updateUserDoc();\n      })\n      .catch((error) => {\n        console.error(\"Error writing document: \", error);\n      });\n  }\n  const updateUserDoc = () => {\n    let userRef = db.collection(\"Users\").doc(userDoc['id']);\n    let newDoc = userDoc;\n    sendList.forEach((id) => {\n      newDoc['friends'][id]['status'] = \"sent\";\n      newDoc['friends'][id]['sent'] = newDoc['friends'][id]['sent'] + 1;\n      newDoc['friends'][id]['last_time_stamp'] = timeStamp;\n    })\n    // console.log(newDoc);\n    userRef.update({ \"friends\": newDoc['friends'], \"sent\": firebase.firestore.FieldValue.increment(sendList.length) }).then(() => {\n      updateFriendDoc();\n    })\n  }\n  const updateFriendDoc = () => {\n    let friendRef;\n    sendList.forEach((id) => {\n      friendRef = db.collection(\"Users\").doc(id);\n      friendRef.update({\n        [`friends.${userDoc['id']}.status`]: \"new\",\n        [`friends.${userDoc['id']}.snaps.${timeStamp.replace(/\\//g, \"-\")}`]: { id: imgId, type: \"picture\" },\n        [`friends.${userDoc['id']}.received`]: firebase.firestore.FieldValue.increment(1),\n        [`friends.${userDoc['id']}.last_time_stamp`]: timeStamp,\n        [`friends.${userDoc['id']}.streakRef`]: firebase.firestore.FieldValue.arrayUnion(timeStamp),\n      });\n    })\n    setuploadComplete(true);\n  }\n\n  const handleSendList = (e) => {\n    let arr = []\n    e.forEach((item) => {\n      arr.push(item);\n    })\n    setSendList(arr);\n  }\n\n  return (\n    <>\n      <div className=\"send-screen\" style={{ height: height, width: width }}>\n        <Navbar />\n        {/* <div className=\"floating-navbar main-navbar\">\n          <ul><li><button onClick={backToCapture}>Back</button></li></ul>\n          <h1>Send</h1>\n          <ul style={{ opacity: 0 }}><li><button disabled>Back</button></li></ul>\n        </div> */}\n        <div className=\"send-section\" style={{ style: 'relative', maxHeight: '100%', width: '100%', overflow: 'auto' }}>\n          {Object.keys(userDoc['friends']).map((key) => (\n            <Receiver friend={userDoc['friends'][key]} id={key} sendList={sendList} handleSendList={handleSendList} />\n          ))}\n          {/* {test} */}\n        </div>\n        {sendList.length > 0 && (\n          <div className=\"send-footer main-footer\">\n            <div style={{ width: '50%', display: 'flex', position: 'relative', overflow: 'hidden' }}>\n              <h2>Selected: {sendList.length}</h2>\n            </div>\n            <Box sx={{ m: 1, position: 'relative' }}>\n              <Button\n                variant=\"contained\"\n                disabled={sendPressed}\n                onClick={handleButtonClick}\n              >\n                Send\n              </Button>\n              {loading && (\n                <CircularProgress\n                  size={24}\n                  sx={{\n                    color: yellow[500],\n                    position: 'absolute',\n                    top: '50%',\n                    left: '50%',\n                    marginTop: '-12px',\n                    marginLeft: '-12px',\n                  }}\n                />\n              )}\n            </Box>\n          </div>\n        )}\n      </div>\n    </>\n  )\n}\n\nfunction Receiver({ friend, sendList, id, handleSendList }) {\n  const [selected, setSelect] = useState(false);\n  let newArr = sendList;\n  let temp;\n\n  const toggle = () => {\n    if (selected === false) {\n      newArr.push(id)\n      handleSendList(newArr)\n    } else {\n      temp = newArr.filter((item) => item !== id)\n      handleSendList(temp)\n    }\n    setSelect(!selected);\n  }\n\n  return (\n    <button className=\"item-container\" onClick={toggle} disabled={friend['status'] === \"pending\" || friend['status'] === \"not-friends\"}>\n      <div className=\"row\">\n        <img src={friend['profile_pic_url']} className=\"profile-pic\" />\n        {selected ? <h1 style={{ color: 'rgb(31, 168, 247)' }}>{friend['name']}</h1> : <h1 style={{ color: 'black' }}>{friend['name']}</h1>}\n        {(friend['status'] === \"pending\" || friend['status'] === \"not-friends\") && <p style={{ marginLeft: '1rem', color: 'red' }}><i>{friend['status']}</i></p>}\n      </div>\n      <div>\n        {selected ? <div className=\"selected-circle\"><img className=\"checkmark\" src={checkmark} alt=\"U+2713\" ></img></div>\n          : <div className=\"unselected-circle\"><img className=\"checkmark\" src={checkmark} alt=\"U+2713\"></img></div>}\n      </div>\n    </button>\n  )\n}\n\nReceiver.propTypes = {\n  friend: PropTypes.shape({\n    color: PropTypes.string,\n    fontSize: PropTypes.number\n  }),\n  id: PropTypes.string,\n  handleSendList: PropTypes.func,\n  sendList: PropTypes.array,\n}\nReceiver.defaultProps = {\n  sendList: [],\n  id: \"Guest@Guest.com\",\n  friend: {\n    \"Guest@Guest.com\": {\n      created: new Date().toLocaleString(),\n      profile_pic_url: GuestPic,\n      name: \"Guest\",\n      status: \"new-friend\",\n      streak: 0,\n      sent: 0,\n      received: 0,\n      last_time_stamp: null,\n      snaps: []\n    },\n  },\n};","export default __webpack_public_path__ + \"static/media/snapchat-background.44a04fe5.gif\";","export default __webpack_public_path__ + \"static/media/black-checkmark.d8439ac6.png\";","export default __webpack_public_path__ + \"static/media/sent-img-icon.fee1337a.png\";","import React, { useEffect, useState } from 'react';\nimport Footer from '../../components/footer/Footer';\nimport { isMobile } from 'react-device-detect';\nimport CloseRoundedIcon from '@mui/icons-material/CloseRounded';\nimport SlidingMenu from '../../components/slidingMenu/SlidingMenu';\nimport CloseIcon from '../../assets/images/close.png'\nimport Send from './Send';\nimport Navbar from '../../components/navbar/Navbar';\nimport './Camera.css';\nimport '../../components/navbar/Navbar.css'\nimport '../../components/footer/Footer.css'\nimport zIndex from '@mui/material/styles/zIndex';\n\nexport default function Capture({ width, height, close, img, changedToSend, save, backToCapture, userDoc, setUserDoc, sent, toggleSnapShot }) {\n\tconst [toggle, setToggle] = useState(false);\n\tconst [swipe, setSwipe] = useState(false);\n\tconst toggleSend = () => {\n\t\tsetToggle(!toggle);\n\t}\n\tconst toggleSwipe = (e) => {\n\t\tif (e === false) {\n\t\t\tsetSwipe(e);\n\t\t}\n\t\tif (e === true) {\n\t\t\tsetSwipe(e);\n\t\t}\n\t}\n\tuseEffect(() => {\n\t\tif (isMobile === false) {\n\t\t\tif (height / width > 16 / 9) {\n\t\t\t\tdocument.getElementById('capturedImg').style.height = 'auto';\n\t\t\t\tdocument.getElementById('capturedImg').style.width = '100%';\n\t\t\t} else {\n\t\t\t\tdocument.getElementById('capturedImg').style.height = '100%';\n\t\t\t\tdocument.getElementById('capturedImg').style.width = 'auto';\n\t\t\t}\n\t\t} else if (document.getElementById('capturedImg') !== null) {\n\t\t\tif (height > width) {\n\t\t\t\tdocument.getElementById('capturedImg').style.height = '100%';\n\t\t\t\tdocument.getElementById('capturedImg').style.width = 'auto';\n\t\t\t} else {\n\t\t\t\tdocument.getElementById('capturedImg').style.height = '100%';\n\t\t\t\tdocument.getElementById('capturedImg').style.width = 'auto';\n\t\t\t}\n\t\t}\n\t}, [height, width])\n\treturn (\n\t\t<>\n\t\t\t<div className=\"captured-screen\" style={{ height: height, width: width }}>\n\t\t\t\t<div className=\"floating-navbar main-navbar capture-navbar\" style={{ backgroundColor: 'transparent', zIndex: 1 }}>\n\t\t\t\t\t<button className=\"closeButton shadow\" onClick={close}><CloseRoundedIcon className=\"closeIcon\" style={{height: '2.5rem', width: '2.5rem'}} /></button>\n\t\t\t\t\t<ul></ul>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"captured-footer main-footer\">\n\t\t\t\t\t<button onClick={save}>Save</button>\n\t\t\t\t\t{/* <ul><li><button onClick={changedToSend}>Send</button></li></ul> */}\n\t\t\t\t\t{img ? <button onClick={toggleSend}>Send To</button> : <button style={{backgroundColor: 'lightcoral'}}>Cannot Send</button>}\n\t\t\t\t</div>\n\t\t\t\t{ img ? <img id=\"capturedImg\" src={img} /> : <><h3 style={{height:'auto', width:'auto'}}>Invalid Image. Allow camera access to send pictures.</h3><div id=\"capturedImg\"/></>}\n\t\t\t</div>\n\t\t\t<SlidingMenu open={toggle} close={toggleSend} title=\"Send\" disabled={swipe} keyboard={false}>\n\t\t\t\t<Send height={height} width={width} img={img} close={close} backToCapture={backToCapture} userDoc={userDoc} setUserDoc={setUserDoc} toggleSwipe={toggleSwipe} sent={sent} toggleSnapShot={toggleSnapShot}/>\n\t\t\t</SlidingMenu>\n\t\t</>\n\t)\n}\n","import React, { useState, useEffect, useRef} from 'react';\nimport PropTypes from 'prop-types';\nimport { isMobile } from 'react-device-detect';\nimport Flippy, { FrontSide, BackSide } from 'react-flippy';\nimport { useDoubleTap } from 'use-double-tap';\nimport Webcam from 'react-webcam';\nimport logo from '../../assets/images/snapchat-background.gif';\nimport './Camera.css';\nimport './Send.css';\nimport Footer from '../../components/footer/Footer'\nimport Capture from './Capture';\nimport Send from './Send';\n\n\nfunction Camera({index, height, width, flipCamCounter, disableNavFootSlide, userDoc, setUserDoc, changeToIndex, toggleSnapShot}) {\n\tconst [ar, setar] = useState(9/16);\n\tconst [img, setImg] = useState(null);\n\tconst [faceMode, setFaceMode] = useState('environment');\n\tconst flippy = useRef(null);\n\tconst webcamRef = useRef(null);\n\tconst [screen, setScreen] = useState(\"camera\");\n\n\tconst double_tap = useDoubleTap(() => {\n\t\tif (faceMode === 'user') {\n\t\t\tsetFaceMode('environment')\n\t\t} else {\n\t\t\tsetFaceMode('user')\n\t\t}\n\t\tif (flippy) {\n\t\t\tflippy.current.toggle();\n\t\t}\n\t});\n\n\tconst capture = React.useCallback(\n\t\t() => {\n\t\t\t// document.getElementById(\"capture-audio\").play()\n\t\t\tsetImg(webcamRef.current.getScreenshot());\n\t\t\tsetScreen('captured');\n\t\t\tdisableNavFootSlide(true);\n\t\t},\n\t\t[webcamRef]\n\t);\n\tfunction changedToSend() { setScreen('send') }\n\tfunction backToCapture() { setScreen('captured') }\n\tfunction save() { close() }\n\tfunction close() {\n\t\tsetImg(null);\n\t\tsetScreen('camera');\n\t\tdisableNavFootSlide(false);\n\t}\n\tfunction sent() {\n\t\tsetImg(null);\n\t\tsetScreen('camera');\n\t\tdisableNavFootSlide(false);\n\t\tchangeToIndex(0);\n\t}\n\n\tuseEffect(() => {\n\t\tif (faceMode === 'user') {\n\t\t\tsetFaceMode('environment')\n\t\t} else {\n\t\t\tsetFaceMode('user')\n\t\t}\n\t\tif (flippy) {\n\t\t\tflippy.current.toggle();\n\t\t}\n\t\t\n\t}, [flipCamCounter]);\n\n\tuseEffect(() => {\n\t\tsetar(9/16);\n\t\tif (isMobile === false) {\n\t\t\t// setbh(null);\n\t\t\t// setbw(null);\n\t\t\t// console.log(window.innerHeight/window.innerWidth, 16/9)\n\t\t\tif (window.innerHeight/window.innerWidth > 16/9) {\n\t\t\t\tdocument.getElementById('webcam').style.height = 'auto';\n\t\t\t\tdocument.getElementById('webcam').style.width = '100%';\n\t\t\t\tdocument.getElementById('webcam2').style.height = 'auto';\n\t\t\t\tdocument.getElementById('webcam2').style.width = '100%';\n\t\t\t} else {\n\t\t\t\tdocument.getElementById('webcam').style.height = '100%';\n\t\t\t\tdocument.getElementById('webcam').style.width = 'auto';\n\t\t\t\tdocument.getElementById('webcam2').style.height = '100%';\n\t\t\t\tdocument.getElementById('webcam2').style.width = 'auto';\n\t\t\t}\n\t\t} else if (document.getElementById('webcam') !== null) {\n\t\t\tif (height > width) {\n\t\t\t\tsetar(height/width);\n\t\t\t\tdocument.getElementById('webcam').style.height = '100%';\n\t\t\t\tdocument.getElementById('webcam').style.width = 'auto';\n\t\t\t} else {\n\t\t\t\tsetar(height/width * 1.7);\n\t\t\t\tdocument.getElementById('webcam').style.height = '100%';\n\t\t\t\tdocument.getElementById('webcam').style.width = 'auto';\n\t\t\t}\n\t\t}\n\t}, [height, width])\n\n  return (\n\t<div className='webcam-screen' style={{height:height, width:width}}>\n\t\t{/* <div id=\"webcam\"></div><div id=\"webcam2\"></div> */}\n\t\t\t<Flippy\n\t\t\t\tflipOnHover={false} // default false\n\t\t\t\tflipOnClick={false} // default false\n\t\t\t\tflipDirection=\"horizontal\" // horizontal or vertical\n\t\t\t\tref={flippy}\n\t\t\t\tstyle={{height:window.innerHeight, width: width}} /// these are optional style, it is not necessary\n\t\t\t\t{...double_tap}\n\t\t\t>\n\t\t\t\t{isMobile ?\n\t\t\t\t<>\n\t\t\t\t<FrontSide id=\"flip1\" style={{backgroundImage: `url(${logo})`}} >\n\t\t\t\t\t{faceMode === \"environment\" &&\n\t\t\t\t\t\t<Webcam\n\t\t\t\t\t\tid=\"webcam\"\n\t\t\t\t\t\tref={webcamRef}\n\t\t\t\t\t\taudio={false}\n\t\t\t\t\t\tforceScreenshotSourceSize={false}\n\t\t\t\t\t\tscreenshotFormat=\"image/png\"\n\t\t\t\t\t\tscreenshotQuality={1}\n\t\t\t\t\t\tvideoConstraints={{facingMode: faceMode, aspectRatio: ar}}\n\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t</FrontSide>\n\t\t\t\t<BackSide id=\"flip2\" style={{backgroundImage: `url(${logo})`}}>\n\t\t\t\t\t{faceMode === \"user\" &&\n\t\t\t\t\t\t<Webcam\n\t\t\t\t\t\t\tid=\"webcam\"\n\t\t\t\t\t\t\tref={webcamRef}\n\t\t\t\t\t\t\taudio={false}\n\t\t\t\t\t\t\tmirrored={true}\n\t\t\t\t\t\t\tforceScreenshotSourceSize={false}\n\t\t\t\t\t\t\tscreenshotFormat=\"image/png\"\n\t\t\t\t\t\t\tscreenshotQuality={1}\n\t\t\t\t\t\t\tvideoConstraints={{facingMode: faceMode, aspectRatio: ar}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t</BackSide>\n\t\t\t\t</>\n\t\t\t\t:\n\t\t\t\t<>\n\t\t\t\t<FrontSide id=\"flip1\" style={{backgroundImage: `url(${logo})`}} >\n\t\t\t\t\t\t<Webcam\n\t\t\t\t\t\t\tid=\"webcam\"\n\t\t\t\t\t\t\tref={webcamRef}\n\t\t\t\t\t\t\taudio={false}\n\t\t\t\t\t\t\tforceScreenshotSourceSize={false}\n\t\t\t\t\t\t\tscreenshotFormat=\"image/png\"\n\t\t\t\t\t\t\tscreenshotQuality={1}\n\t\t\t\t\t\t\tvideoConstraints={{facingMode: \"environment\", aspectRatio: ar}}\n\t\t\t\t\t\t/>\n\t\t\t\t</FrontSide>\n\t\t\t\t<BackSide id=\"flip2\" style={{backgroundImage: `url(${logo})`}}>\n\t\t\t\t\t\t<Webcam\n\t\t\t\t\t\t\tid=\"webcam2\"\n\t\t\t\t\t\t\tref={webcamRef}\n\t\t\t\t\t\t\taudio={false}\n\t\t\t\t\t\t\tmirrored={true}\n\t\t\t\t\t\t\tforceScreenshotSourceSize={false}\n\t\t\t\t\t\t\tscreenshotFormat=\"image/png\"\n\t\t\t\t\t\t\tscreenshotQuality={1}\n\t\t\t\t\t\t\tvideoConstraints={{facingMode: \"user\", aspectRatio: ar}}\n\t\t\t\t\t\t/>\n\t\t\t\t</BackSide>\n\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</Flippy>\n\t\t{screen === \"camera\" &&\n\t\t\t<div className=\"cam-footer\">\n\t\t\t\t<button className=\"capture-button\" onClick={capture}></button>\n\t\t\t\t<Footer type=\"relative\"/>\n\t\t\t</div>\n\t\t}\n\t\t{screen === \"captured\" &&\n\t\t\t<Capture\n\t\t\t\theight={height}\n\t\t\t\twidth={width}\n\t\t\t\timg={img}\n\t\t\t\tclose={close}\n\t\t\t\tchangedToSend={changedToSend}\n\t\t\t\tsave={save}\n\t\t\t\tbackToCapture={backToCapture}\n\t\t\t\tuserDoc={userDoc}\n\t\t\t\tsetUserDoc={setUserDoc}\n\t\t\t\tsent={sent}\n\t\t\t\ttoggleSnapShot={toggleSnapShot}\n\t\t\t/>\n\t\t}\n\t\t{screen === \"send\" && (null)\n\t\t\t// <Send height={height} width={width} img={img} close={close} backToCapture={backToCapture} userDoc={userDoc}/>\n\t\t}\n\t</div>\n  )\n}\n\nCamera.propTypes = {}\n\nexport default Camera;\n","import React, { Component, useEffect } from 'react';\nimport { auth, db, provider, storage } from '../utils/Firebase';\nimport firebase from 'firebase/app';\nimport { collection, onSnapshot } from \"firebase/firestore\";\nimport SwipeableViews from 'react-swipeable-views';\nimport { bindKeyboard } from 'react-swipeable-views-utils';\nimport { isMobile } from 'react-device-detect';\nimport MetaTags from 'react-meta-tags';\nimport './App.css';\nimport Navbar from '../components/navbar/Navbar';\nimport Footer from '../components/footer/Footer';\nimport Messages from '../screens/messages/Messages';\nimport Camera from '../screens/camera/Camera';\nimport Discover from '../screens/discover/Discover';\nimport { Guest, Strangers, Everyone } from './GuestInfo';\nimport { objectMethod } from '@babel/types';\n\n\nconst list = [];\n\nfor (let i = 0; i < 30; i += 1) {\n  list.push(<div key={i}>{`item n°${i + 1}`}</div>);\n}\n\nconst BindKeyboardSwipeableViews = bindKeyboard(SwipeableViews);\n\nlet userSnapshot;\nlet everyoneSnapshot;\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      height: window.innerHeight,\n      width: window.innerWidth,\n      index: 1,\n      flipCamCounter: 0,\n      loggedIn: false,\n      userDoc: Guest,\n      disable_swiping: false,\n      showFooter: true,\n      showNavbar: true,\n      updateCounter: 0,\n      peopleList: {\n        friends: Guest.friends,\n        strangers: Strangers,\n        everyone: Everyone,\n      }\n    }\n    this.changeToIndex = this.changeToIndex.bind(this);\n    this.updateDimensions = this.updateDimensions.bind(this);\n    this.incFlipCam = this.incFlipCam.bind(this);\n    this.disable_swiping = this.disable_swiping.bind(this);\n    this.toggleNavbar = this.toggleNavbar.bind(this);\n    this.toggleFooter = this.toggleFooter.bind(this);\n    this.disableNavFootSlide = this.disableNavFootSlide.bind(this);\n    this.checkCurrentUser = this.checkCurrentUser.bind(this);\n    this.GoogleSignIn = this.GoogleSignIn.bind(this);\n    this.GoogleSignOut = this.GoogleSignOut.bind(this);\n    this.startSnapShot = this.startSnapShot.bind(this);\n    this.endSnapShot = this.endSnapShot.bind(this);\n    this.getUserOnFirebase = this.getUserOnFirebase.bind(this);\n    this.createUserOnFirebase = this.createUserOnFirebase.bind(this);\n    this.edit_friends = this.edit_friends.bind(this);\n    this.updatePeopleList = this.updatePeopleList.bind(this);\n    this.setUserDoc = this.setUserDoc.bind(this);\n    this.startEveryoneSS = this.startEveryoneSS.bind(this);\n    this.endEveryoneSS = this.endEveryoneSS.bind(this);\n    this.updateRelatedSnaps = this.updateRelatedSnaps.bind(this);\n    this.incUpdateCount = this.incUpdateCount.bind(this);\n    this.toggleSnapShot = this.toggleSnapShot.bind(this);\n  }\n  componentDidMount() {\n    this.checkCurrentUser()\n    window.addEventListener('resize', this.updateDimensions);\n  }\n  componentWillUnmount() {\n    this.endSnapShot();\n    this.endEveryoneSS();\n  }\n  updateDimensions() {\n    this.setState({ width: window.innerWidth, height: window.innerHeight });\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.userDoc !== this.state.userDoc) {\n      if (prevState.userDoc && ((Object.keys(prevState.userDoc['added_me']).length) !== (Object.keys(this.state.userDoc['added_me']).length))) {\n        this.updatePeopleList();\n      }\n    }\n  }\n  changeToIndex(e) {\n    this.setState({\n      index: e,\n    })\n  }\n  incFlipCam() {\n    this.setState({ flipCamCounter: this.state.flipCamCounter + 1 })\n  }\n  disable_swiping(e) {\n    this.setState({ disable_swiping: e });\n  }\n  toggleNavbar(e) {\n    if (e === true || e === false) {\n      this.setState({ showNavbar: !e });\n    } else {\n      this.setState({ showNavbar: !this.state.showNavbar });\n    }\n  }\n  toggleFooter(e) {\n    if (e === true || e === false) {\n      this.setState({ showFooter: !e });\n    } else {\n      this.setState({ showFooter: !this.state.showFooter });\n    }\n  }\n  disableNavFootSlide(e) {\n    this.disable_swiping(e)\n    this.toggleFooter(e);\n    this.toggleNavbar(e);\n  }\n  setUserDoc(e) {\n    this.setState({\n      userDoc: e\n    })\n  }\n  incUpdateCount() {\n    const num = this.state.updateCounter;\n    this.setState({ updateCounter: num + 1 })\n  }\n\n  // Firebase Functions\n  checkCurrentUser() {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({\n          loggedIn: true,\n        })\n        this.getUserOnFirebase(user);\n      } else {\n        this.endSnapShot();\n        this.endEveryoneSS();\n        this.setState({\n          loggedIn: false,\n          userDoc: Guest,\n          peopleList: {\n            friends: Guest.friends,\n            strangers: Strangers,\n            everyone: Everyone,\n          }\n        })\n        console.log('user signed out');\n      }\n    });\n  }\n  getUserOnFirebase(user) {\n    let query = db.collection(\"Users\").doc(user.uid);\n    query.get().then((doc) => {\n      if (!doc.exists) {\n        this.createUserOnFirebase(user)\n      } else {\n        this.startSnapShot(user);\n        this.startEveryoneSS();\n      }\n    })\n  }\n  createUserOnFirebase(user) {\n    console.log(\"new user incoming\")\n    const c = new Date().toLocaleString()\n    db.collection(\"Users\").doc(user.uid).set({\n      created: c,\n      name: user.displayName,\n      email: user.email,\n      friendship: c,\n      id: user.uid,\n      username: user.email,\n      profile_pic_url: user.photoURL,\n      phoneNumber: user.phoneNumber,\n      received: 0,\n      sent: 0,\n      streak_emoji: \"\\u{1F525}\",\n      brokeup: {},\n      added_me: {},\n      pending: {},\n      deleteSnaps: [],\n      friends: {\n        [user.uid]: {\n          id: user.uid,\n          created: c,\n          email: user.email,\n          name: user.displayName,\n          phoneNumber: user.phoneNumber,\n          profile_pic_url: user.photoURL,\n          username: user.email,\n          nickname: null,\n          status: \"new-friend\",\n          streak: 0,\n          streakRef: [],\n          sent: 0,\n          received: 0,\n          last_time_stamp: null,\n          snaps: {},\n        }\n      },\n    })\n      .then(() => {\n        db.collection(\"Users\").doc(\"Everyone\").update({\n          [`all_users.${user.uid}`]: {\n            created: c,\n            name: user.displayName,\n            email: user.email,\n            username: user.email,\n            profile_pic_url: user.photoURL,\n            phoneNumber: user.phoneNumber,\n          },\n        }).then(() => {\n          console.log(\"Everyone Doc Updated\");\n          this.startSnapShot(user)\n          this.startEveryoneSS();\n        })\n          .catch(() => {\n            db.collection(\"Users\").doc(\"Everyone\").set({\n              all_users: {\n                [`${user.uid}`]: {\n                  created: c,\n                  name: user.displayName,\n                  email: user.email,\n                  username: user.email,\n                  profile_pic_url: user.photoURL,\n                  phoneNumber: user.phoneNumber,\n                },\n              }\n            }).then(() => {\n              console.log(\"Everyone Doc Created\")\n              this.startSnapShot(user)\n              this.startEveryoneSS();\n            })\n              .catch((error) => console.log(\"Error: \", error))\n          })\n      })\n  }\n  toggleSnapShot(e) {\n    let d = {\n      uid: this.state.userDoc['id']\n    }\n    if (e === true) {\n      this.startSnapShot(d);\n    } else if (e === false) {\n      this.endSnapShot();\n    }\n  }\n  startSnapShot(user) {\n    console.log(\"Starting snapshot\");\n    userSnapshot = db.collection(\"Users\").doc(user.uid).onSnapshot(\n      { includeMetadataChanges: false },\n      (doc) => {\n        this.incUpdateCount();\n        console.log('user snapshot updated. Update Count: ', this.state.updateCounter);\n        this.setState({ userDoc: doc.data() })\n        if ((Object.keys(this.state.peopleList['friends']).sort() !== Object.keys(doc.data()['friends']).sort())) {\n          this.updatePeopleList();\n        }\n        if (this.state.updateCounter === 1 && this.state.userDoc['deleteSnaps'].length > 0) {\n          this.state.userDoc['deleteSnaps'].forEach((id) => {\n            db.collection(\"Photos\").doc(id).delete();\n            storage.ref(`posts/${id}`).delete();\n          })\n          db.collection(\"Users\").doc(this.state.userDoc['id']).update({\n            deleteSnaps: [],\n          })\n          console.log(\"Deleted trashed snaps\")\n        }\n      }, (err) => console.log(\"error: \", err))\n  }\n  endSnapShot() {\n    if (userSnapshot !== undefined) {\n      console.log(\"Ending userSnapshot\");\n      userSnapshot();\n    }\n  }\n  startEveryoneSS() {\n    console.log(\"Starting Everyone SS\");\n    everyoneSnapshot = db.collection(\"Users\").doc(\"Everyone\").onSnapshot(\n      { includeMetadataChanges: false },\n      (doc) => {\n        console.log('everyone snapshot changed');\n        let temp = this.state.peopleList;\n        temp['everyone'] = doc.data()['all_users'];\n        this.setState({ peopleList: temp });\n        this.updatePeopleList();\n      },\n      (err) => console.log(\"error: \", err)\n    )\n  }\n  endEveryoneSS() {\n    if (everyoneSnapshot !== undefined) {\n      console.log(\"Ending Everyone SS\");\n      everyoneSnapshot();\n      this.updatePeopleList()\n    }\n  }\n  GoogleSignIn = () => {\n    auth.signInWithPopup(provider)\n  }\n  GoogleSignOut = () => {\n    firebase.auth().signOut();\n    console.log(\"sign out\");\n  }\n  // Firestore Functions\n  updatePeopleList() {\n    // Make Strangers and Everyone List\n    let friends = this.state.userDoc.friends;\n    let strangers = {};\n    let everyone = this.state.peopleList.everyone;\n    let s_keys = Object.keys(everyone).filter(function (obj) { return Object.keys(friends).indexOf(obj) == -1; });\n    s_keys.forEach((id) => {\n      strangers[id] = everyone[id];\n    })\n    this.setState({\n      peopleList: {\n        friends: friends,\n        strangers: strangers,\n        everyone: everyone,\n      }\n    })\n    // console.log(\"updated people list\");\n  }\n  updateRelatedSnaps(user, person) {\n    // Delete and/or update any snaps between id1 and id2\n    const photoRef = db.collection(\"Photos\");\n    let trash = [];\n    let SentByUser = [];\n    let SentByPerson = [];\n    photoRef.where(\"sender\", '==', user).where(\"sent\", \"array-contains\", person).get().then((doc) => {\n      doc.docs.forEach((photo) => {\n        if (photo.data()['sent'].length == 1) {\n          trash.push(photo.id);\n        } else {\n          SentByUser.push(photo.id);\n        }\n      })\n    }).then(() => {\n      photoRef.where(\"sender\", '==', person).where(\"sent\", \"array-contains\", user).get().then((doc) => {\n        doc.docs.forEach((photo) => {\n          if (photo.data()['sent'].length == 1) {\n            trash.push(photo.id);\n          } else {\n            SentByPerson.push(photo.id);\n          }\n        })\n      }).then(() => {\n        trash.forEach((item) => {\n          photoRef.doc(item).delete().catch(() => { });\n          storage.ref(`posts/${item}`).delete().catch(() => { })\n        })\n        SentByUser.forEach((item) => {\n          photoRef.doc(item).update({\n            sent: firebase.firestore.FieldValue.arrayRemove(person)\n          })\n        })\n        SentByPerson.forEach((item) => {\n          photoRef.doc(item).update({\n            sent: firebase.firestore.FieldValue.arrayRemove(user)\n          })\n        })\n      })\n    })\n  }\n  edit_friends(action, person) {\n    let peopleList = this.state.peopleList;\n    let userDoc = this.state.userDoc;\n    let friendDoc = {};\n    let userEntry = {};\n    let personEntry = {};\n    let temp;\n    const friendRef = db.collection(\"Users\").doc(person);\n    const userRef = db.collection(\"Users\").doc(userDoc['id']);\n    const photoRef = db.collection(\"Photos\")\n    if (!this.state.loggedIn) {\n      // Guest Account\n\n      if (action === \"add\") {\n        temp = peopleList['strangers'][person];\n        delete peopleList['strangers'][person];\n        userDoc['friends'][person] = temp;\n      } else if (action === \"remove\") {\n        temp = userDoc['friends'][person];\n        delete userDoc['friends'][person];\n        peopleList['strangers'][person] = temp;\n      }\n      this.setState({\n        userDoc: userDoc,\n        peopleList: peopleList,\n      })\n    } else {\n      // On Firebase\n      userEntry = {\n        id: userDoc['id'],\n        created: userDoc['created'],\n        friendship: null,\n        profile_pic_url: userDoc['profile_pic_url'],\n        name: userDoc['name'],\n        username: userDoc['username'],\n        phoneNumber: userDoc['phoneNumber'],\n        status: \"pending\",\n        streak: 0,\n        sent: 0,\n        received: 0,\n        last_time_stamp: null,\n        snaps: []\n      };\n      if (action === \"add\") {\n        if (Object.keys(userDoc['brokeup']).includes(person)) {\n          // Restore old friend\n          delete peopleList['strangers'][person];\n          temp = userDoc['brokeup'][person];\n          delete userDoc['brokeup'][person];\n          userDoc['friends'][person] = temp;\n          let status = 'new-friend';\n          if (userDoc['friends'][person]['status'] === 'sent') {\n            status = 'new';\n          } else if (userDoc['friends'][person]['status'] === 'opened') {\n            status = 'received';\n          } else if (userDoc['friends'][person]['status'] === 'received') {\n            status = 'opened';\n          } else if (userDoc['friends'][person]['status'] === 'new') {\n            status = 'sent';\n          }\n          friendRef.update({ [`friends.${userDoc['id']}.status`]: status }).catch((e) => console.log(\"err: \", e))\n          userRef.update({ brokeup: userDoc['brokeup'], friends: userDoc['friends'] }).catch((e) => console.log(\"err: \", e))\n        } else {\n          // Send Friend Request\n          if (person !== userDoc['id']) {\n            friendRef.get().then((doc) => {\n              if (doc.exists) {\n                personEntry = {\n                  id: doc.data()['id'],\n                  created: doc.data()['created'],\n                  friendship: null,\n                  profile_pic_url: doc.data()['profile_pic_url'],\n                  name: doc.data()['name'],\n                  username: doc.data()['username'],\n                  phoneNumber: doc.data()['phoneNumber'],\n                  status: \"pending\",\n                  streak: 0,\n                  sent: 0,\n                  received: 0,\n                  last_time_stamp: null,\n                  snaps: []\n                };\n                userRef.set({ \"friends\": { [`${person}`]: personEntry } }, { merge: true }).then(() => {\n                  delete peopleList['strangers'][person];\n                  friendRef.set({ \"added_me\": { [`${userDoc['id']}`]: userEntry } }, { merge: true }).catch((e) => console.log(\"err: \", e))\n                }).catch((e) => console.log(\"err: \", e))\n              }\n            }).catch((e) => console.log(\"err: \", e))\n          } else {\n            console.log(\"Cannot add yourself\");\n          }\n        }\n      } else if (action === \"remove\") {\n        friendRef.get().then((doc) => { friendDoc = doc.data() }).then(() => {\n          if (Object.keys(friendDoc['brokeup']).includes(userDoc['id'])) {\n            // Friend Initiated Breakup\n            peopleList['strangers'][person] = userDoc['friends'][person];\n            friendRef.update({ [`brokeup.${userDoc['id']}`]: firebase.firestore.FieldValue.delete() }).catch((e) => console.log(\"err: \", e));\n            userRef.update({ [`friends.${person}`]: firebase.firestore.FieldValue.delete() }).catch((e) => console.log(\"err: \", e))\n            this.updateRelatedSnaps(person, userDoc['id']);\n          } else {\n            // Initiating Breakup\n            if (person !== userDoc['id']) {\n              friendRef.update({ [`friends.${userDoc['id']}.status`]: 'not-friends' }).catch((e) => console.log(\"err: \", e))\n              peopleList['strangers'][person] = userDoc['friends'][person];\n              temp = userDoc['friends'][person];\n              delete userDoc['friends'][person];\n              userDoc['brokeup'][person] = temp;\n              userRef.update({ brokeup: userDoc['brokeup'], friends: userDoc['friends'] }).catch((e) => console.log(\"err: \", e))\n            } else {\n              console.log(\"Cannot remove yourself\")\n            }\n          }\n        }).catch((e) => console.log(\"err: \", e))\n      } else if (action === \"accept request\") {\n        // Accept Friend Request\n        let ts = new Date().toLocaleString()\n        friendRef.update({ [`friends.${userDoc['id']}.status`]: 'new-friend', [`friends.${userDoc['id']}.friendship`]: ts }).catch((e) => console.log(\"err: \", e))\n        temp = userDoc['added_me'][person];\n        delete userDoc['added_me'][person];\n        userDoc['friends'][person] = temp;\n        userDoc['friends'][person]['status'] = 'new-friend';\n        userRef.update({ added_me: userDoc['added_me'], friends: userDoc['friends'], [`friends.${person}.friendship`]: ts }).catch((e) => console.log(\"err: \", e))\n      } else if (action === \"remove request\") {\n        // Remove Friend Request\n        friendRef.update({ [`added_me.${userDoc['id']}`]: firebase.firestore.FieldValue.delete() }).catch((e) => console.log(\"err: \", e))\n        peopleList['strangers'][person] = userDoc['friends'][person];\n        delete userDoc['friends'][person];\n        userRef.update({ friends: userDoc['friends'] }).catch((e) => console.log(\"err: \", e))\n      } else {\n        console.log(\"action unknown: \", action)\n      }\n    }\n  }\n  render() {\n    const { index, height, width, flipCamCounter, loggedIn, userDoc, disable_swiping, showNavbar, showFooter, peopleList } = this.state;\n    return (\n      <>\n        <MetaTags>\n          <title>Yellow Ghost</title>\n        </MetaTags>\n        {showNavbar && (<Navbar\n          index={index}\n          incFlipCam={this.incFlipCam}\n          hidden={false}\n          GsignIn={this.GoogleSignIn}\n          GsignOut={this.GoogleSignOut}\n          userDoc={userDoc}\n          peopleList={peopleList}\n          edit_friends={this.edit_friends}\n        />)}\n        <BindKeyboardSwipeableViews\n          className=\"slide_container\"\n          index={index}\n          onChangeIndex={this.changeToIndex}\n          disabled={disable_swiping}\n          containerStyle={{ height: this.state.height, WebkitOverflowScrolling: 'touch' }}\n          enableMouseEvents\n        >\n          <div className=\"slide slide1\">\n            <Navbar />\n            <Messages\n              userDoc={userDoc}\n              disableNavFootSlide={this.disableNavFootSlide}\n              height={height}\n              width={width}\n              loggedIn={loggedIn}\n              toggleSnapShot={this.toggleSnapShot}\n            />\n          </div>\n          <div className=\"slide slide2\">\n            <Camera\n              index={index}\n              height={height}\n              width={width}\n              flipCamCounter={flipCamCounter}\n              userDoc={userDoc}\n              disableNavFootSlide={this.disableNavFootSlide}\n              setUserDoc={this.setUserDoc}\n              changeToIndex={this.changeToIndex}\n              toggleSnapShot={this.toggleSnapShot}\n            />\n          </div>\n          <div className=\"slide slide3\">\n            <Navbar />\n            <h1>Discover</h1>\n          </div>\n        </BindKeyboardSwipeableViews>\n        {showFooter ? <Footer index={index} changeToIndex={this.changeToIndex} /> : null}\n      </>\n    );\n  }\n}\n","export default __webpack_public_path__ + \"static/media/rick-profile-pic.81f18d45.jpg\";","export default __webpack_public_path__ + \"static/media/morty-profile-pic.17136706.jpg\";","import GuestPic from '../assets/images/guest-profile-pic.png';\nimport RickPic from '../assets/images/rick-profile-pic.jpg';\nimport MortyPic from '../assets/images/morty-profile-pic.jpg';\n\nconst c = new Date().toLocaleString()\n\nexport const Guest = {\n  id: \"Guest@Guest.com\",\n  created: \"N/A\",\n  name: \"Guest\",\n  email: \"Guest@Guest.com\",\n  username: \"Guest123\",\n  profile_pic_url: GuestPic,\n  streak_emoji: \"\\u{1F525}\",\n  phoneNumber: null,\n  sent: 0,\n  received: 0,\n  added_me: {},\n  pending: {},\n  friends: {\n    \"Guest@Guest.com\": {\n      created: c,\n      profile_pic_url: GuestPic,\n      name: \"Guest\",\n      status: \"new-friend\",\n      streak: 0,\n      sent: 0,\n      received: 0,\n      last_time_stamp: null,\n      snaps: {}\n    },\n  },\n}\nexport const Strangers = {\n  \"Rick@Guest.com\": {\n    id: \"Rick@Guest.com\",\n    created: \"N/A\",\n    profile_pic_url: RickPic,\n    name: \"Rick\",\n    status: \"new-friend\",\n    streak: 0,\n    streak_ref: null,\n    sent: 0,\n    received: 0,\n    last_time_stamp: null,\n    snaps: {}\n  },\n  \"Morty@Guest.com\": {\n    id: \"Morty@Guest.com\",\n    created: \"N/A\",\n    profile_pic_url: MortyPic,\n    name: \"Morty\",\n    status: \"new-friend\",\n    streak: 0,\n    streak_ref: null,\n    sent: 0,\n    received: 0,\n    last_time_stamp: null,\n    snaps: {}\n  },\n}\nexport const Everyone = {\n  \"Guest@Guest.com\": {\n    id: \"Guest@Guest.com\",\n    created: \"N/A\",\n    profile_pic_url: GuestPic,\n    name: \"Guest\",\n    status: \"new-friend\",\n    streak: 0,\n    streak_ref: null,\n    sent: 0,\n    received: 0,\n    last_time_stamp: null,\n    snaps: {}\n  },\n  \"Rick@Guest.com\": {\n    id: \"Rick@Guest.com\",\n    created: \"N/A\",\n    profile_pic_url: RickPic,\n    name: \"Rick\",\n    status: \"new-friend\",\n    streak: 0,\n    streak_ref: null,\n    sent: 0,\n    received: 0,\n    last_time_stamp: null,\n    snaps: {}\n  },\n  \"Morty@Guest.com\": {\n    id: \"Morty@Guest.com\",\n    created: \"N/A\",\n    profile_pic_url: MortyPic,\n    name: \"Morty\",\n    status: \"new-friend\",\n    streak: 0,\n    streak_ref: null,\n    sent: 0,\n    received: 0,\n    last_time_stamp: null,\n    snaps: {}\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}