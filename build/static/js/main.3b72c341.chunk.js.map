{"version":3,"sources":["components/slidingMenu/SlidingMenu.js","utils/Firebase.js","screens/account/Account.js","assets/images/add-friend-icon.png","screens/friends/Friends.js","components/navbar/Navbar.js","components/footer/Footer.js","assets/images/guest-profile-pic.png","screens/messages/Message.js","screens/messages/Messages.js","screens/camera/Send.js","assets/images/snapchat-background.gif","assets/images/black-checkmark.png","assets/images/sent-img-icon.png","screens/camera/Capture.js","screens/camera/Camera.js","app/App.js","assets/images/rick-profile-pic.jpg","assets/images/morty-profile-pic.jpg","app/GuestInfo.js","index.js","../node_modules/typescript/lib sync"],"names":["db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","provider","GoogleAuthProvider","BindKeyboardSwipeableViews","bindKeyboard","SwipeableViews","list","i","push","SlidingMenu","props","updateDimensions","setState","width","window","innerWidth","height","innerHeight","state","index","top","bgColor","hide","bind","changeToIndex","handleScroll","changeOnSwitch","checkIndex","closeMenu","addEventListener","this","prevProps","open","setTimeout","e","target","axis","scrollTop","close","children","title","className","style","backgroundColor","containerStyle","disabled","onSwitching","onChangeIndex","onTransitionEnd","enableMouseEvents","onScroll","position","hidden","Parenttitle","Component","defaultProps","Account","signOut","signIn","GsignOut","GsignIn","userDoc","src","borderRadius","alt","name","username","sent","received","Object","keys","friends","filter","item","length","created","onClick","Friends","peopleList","edit_friends","AddFriend","pending","strangers","everyone","email","added_me","filtered_strangers","forEach","sort","map","key","Stranger","k","AddedMe","Friend","Everyone","profile_pic_url","fontSize","status","addedMe","AddFriendIcon","Navbar","incFlipCam","buttonDir","useState","showAccount","setAccount","showFriends","setFriends","showSearch","setSearch","showExtra","setExtra","toggleExtra","dynamic","styles","shawdow","boxShadow","transparent","toggleAccount","toggleFriends","toggleSearch","opacity","Footer","footer","type","Message","emoji","friend","streak_emoji","disableNavFootSlide","loggedIn","setar","img","setImg","snapId","setsnapId","lastUser","setLU","icon_class","new","opened","blocked","snaps","firstSnapId","id","collection","doc","get","then","data","temp","update","FieldValue","increment","ts","Date","toLocaleString","deleteSnaps","arrayUnion","arrayRemove","deletePhoto","delete","ref","useEffect","isMobile","document","getElementById","Guest","date","marginRight","streak","last_time_stamp","pic","requiredProps","PropTypes","shape","string","number","arrayOf","Messages","test","Send","backToCapture","setUserDoc","sendList","setSendList","setuploadComplete","imgId","uuid","timeStamp","changeGuestDoc","newUserDoc","undefined","newEntry","send","upload","putString","on","snapshot","bytesTransferred","totalBytes","error","console","log","getDownloadURL","downloadURL","addPhotoToFireStore","set","image_url","sender","time_stamp","updateUserDoc","catch","userRef","newDoc","updateFriendDoc","replace","handleSendList","arr","maxHeight","overflow","Receiver","display","sentImg","marginLeft","selected","setSelect","newArr","color","checkmark","Capture","save","changedToSend","toggle","setToggle","toggleSend","zIndex","GuestPic","Camera","flipCamCounter","ar","faceMode","setFaceMode","flippy","useRef","webcamRef","screen","setScreen","double_tap","useDoubleTap","current","capture","React","useCallback","getScreenshot","flipOnHover","flipOnClick","flipDirection","backgroundImage","logo","audio","forceScreenshotSourceSize","screenshotFormat","screenshotQuality","videoConstraints","facingMode","aspectRatio","mirrored","c","phoneNumber","Strangers","RickPic","streak_ref","MortyPic","userSnapshot","everyoneSnapshot","App","GoogleSignIn","signInWithPopup","GoogleSignOut","disable_swiping","showFooter","showNavbar","updateCounter","toggleNavbar","toggleFooter","checkCurrentUser","startSnapShot","endSnapShot","getUserOnFirebase","createUserOnFirebase","updatePeopleList","startEveryoneSS","endEveryoneSS","updateRelatedSnaps","incUpdateCount","prevState","num","onAuthStateChanged","user","uid","exists","displayName","friendship","photoURL","brokeup","nickname","streakRef","all_users","onSnapshot","includeMetadataChanges","err","obj","indexOf","person","photoRef","trash","SentByUser","SentByPerson","where","docs","photo","action","friendDoc","userEntry","personEntry","friendRef","includes","merge","WebkitOverflowScrolling","ReactDOM","render","webpackEmptyContext","req","Error","code","resolve","module","exports"],"mappings":"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","file":"static/js/main.3b72c341.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport SwipeableViews from 'react-swipeable-views'\nimport { bindKeyboard } from 'react-swipeable-views-utils'\nimport Navbar from '../navbar/Navbar';\nimport PropTypes from 'prop-types';\nimport './SlidingMenu.css'\n\nconst BindKeyboardSwipeableViews = bindKeyboard(SwipeableViews);\nlet list = [];\nfor (var i=0; i<200; i++) {\n\tlist.push(<h1>filler</h1>)\n}\n\nclass SlidingMenu extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\theight: window.innerHeight,\n\t\t\twidth: window.innerWidth,\n\t\t\tindex: 0,\n\t\t\ttop: true,\n\t\t\tbgColor: 'transparent',\n\t\t\thide: true\n\t\t}\n\t\tthis.updateDimensions = this.updateDimensions.bind(this);\n\t\tthis.changeToIndex = this.changeToIndex.bind(this);\n\t\tthis.handleScroll = this.handleScroll.bind(this);\n\t\tthis.changeOnSwitch = this.changeOnSwitch.bind(this);\n\t\tthis.checkIndex = this.checkIndex.bind(this);\n\t\tthis.closeMenu = this.closeMenu.bind(this);\n\t}\n\tupdateDimensions = () => {\n\t\tthis.setState({ width: window.innerWidth, height: window.innerHeight });\n\t};\n\tcomponentDidMount() {\n\t\twindow.addEventListener('resize', this.updateDimensions);\n\t\twindow.addEventListener('scroll', this.handleScroll, true);\n\t}\n\tcomponentDidUpdate(prevProps) {\n\t\tif (prevProps.open !== this.props.open) {\n\t\t\tif (this.props.open === true) {\n\t\t\t\tthis.setState({hide: false}, () => setTimeout(() => this.changeToIndex(1), 0));\n\t\t\t\tthis.setState({ top: true })\n\t\t\t}\n\t\t\tif (this.props.open === false) {\n\t\t\t\tthis.changeToIndex(0);\n\t\t\t}\n\t\t}\n\t}\n\tchangeToIndex(e) {\n\t\tthis.setState({\n\t\t\tindex: e,\n\t\t})\n\t\tthis.setState({bgColor: 'transparent'});\n\t}\n\thandleScroll(e) {\n\t\tconst target = e.target;\n\t\tif (this.props.axis === 'y') {\n\t\t\tif (target.scrollTop <= 0) {\n\t\t\t\tthis.setState({ top: true })\n\t\t\t} else {\n\t\t\t\tthis.setState({top: false})\n\t\t\t}\n\t\t}\n\t}\n\tchangeOnSwitch() {\n\t\tthis.setState({bgColor: 'transparent'});\n\t}\n\tcloseMenu() {\n\t\tthis.changeToIndex(0);\n\t}\n\tcheckIndex() {\n\t\tif (this.state.index === 0) {\n\t\t\tthis.setState({hide:true});\n\t\t\tif (this.props.open === true) {\n\t\t\t\tthis.props.close();\n\t\t\t}\n\t\t}\n\t\tif (this.state.index >= 1) {\n\t\t\tthis.setState({bgColor: 'white'});\n\t\t}\n\t}\n\trender() {\n\t\tconst { height, width, index, top, hide, bgColor } = this.state;\n\t\tconst { children, title, axis } = this.props;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{!hide && (\n\t\t\t\t\t<div className=\"sliding-menu\" style={{ height: height, width: width, backgroundColor:bgColor }}>\n\t\t\t\t\t\t<BindKeyboardSwipeableViews\n\t\t\t\t\t\t\tcontainerStyle={{ height: height, width: width }}\n\t\t\t\t\t\t\taxis={axis}\n\t\t\t\t\t\t\tdisabled={!top}\n\t\t\t\t\t\t\tonSwitching={this.changeOnSwitch}\n\t\t\t\t\t\t\tonChangeIndex={this.changeToIndex}\n\t\t\t\t\t\t\tonTransitionEnd={this.checkIndex}\n\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\tenableMouseEvents\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div style={{ height:height, width:width }}></div>\n\t\t\t\t\t\t\t<div onScroll={this.handleScroll} style={{ backgroundColor: 'white', height: height, width: width }}>\n\t\t\t\t\t\t\t\t<div style={{ backgroundColor: 'white' }}>\n\t\t\t\t\t\t\t\t\t<Navbar position=\"fixed\" hidden={false} Parenttitle={title} close={this.closeMenu} axis={axis}/>\t\n\t\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t\t\t{/* {list} */}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</BindKeyboardSwipeableViews>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t}\n}\n\nSlidingMenu.propTypes = {\n\ttitle: PropTypes.string,\n\topen: PropTypes.bool,\n\taxis: PropTypes.string,\n}\nSlidingMenu.defaultProps = {\n\ttitle: \"\",\n\taxis: 'y'\n}\n\nexport default SlidingMenu;","import firebase from 'firebase/app';\nimport 'firebase/auth';        // for authentication\nimport 'firebase/storage';     // for storage\nimport 'firebase/database';    // for realtime database\nimport 'firebase/firestore';   // for cloud firestore\nimport 'firebase/messaging';   // for cloud messaging\nimport 'firebase/functions';   // for cloud functions\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAzNigqy7stltnVUU8cAollxCxvW0CNBTE\",\n  authDomain: \"ghost-f8b34.firebaseapp.com\",\n  projectId: \"ghost-f8b34\",\n  storageBucket: \"ghost-f8b34.appspot.com\",\n  messagingSenderId: \"838623299070\",\n  appId: \"1:838623299070:web:b73429fee525b7c01cacaf\",\n  measurementId: \"G-85ZG5FVKQ4\"\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\nconst db = firebaseApp.firestore();\nconst auth = firebase.auth();\nconst storage = firebase.storage();\n// Google auth as a provider for this app, the popup\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nexport { db, auth, storage, provider };","import React, { Component } from 'react';\nimport './Account.css';\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\nimport '../messages/Message.css'\nimport { updateSourceFile } from 'typescript';\n\nexport default class Account extends Component {\n  constructor(props) {\n    super(props);\n    this.signOut = this.signOut.bind(this);\n    this.signIn = this.signIn.bind(this);\n  }\n  signOut() {\n    this.props.GsignOut();\n    this.props.close();\n  }\n  signIn() {\n    this.props.GsignIn();\n    this.props.close();\n  }\n\n  render() {\n    const { userDoc } = this.props\n\n    return (\n      <main className=\"main\">\n        <div className=\"section info\">\n          <div className=\"row \">\n            <div className=\"pic-container\">\n              <img src={userDoc['profile_pic_url']} style={{borderRadius: '1rem'}} alt=\"\" />\n            </div>\n            <div className=\"col\">\n              <h1>{userDoc.name}</h1>\n              <i><h5>{userDoc.username}</h5></i>\n            </div>\n          </div>\n          <div className=\"col\">\n            <h5>Total: {userDoc.sent + userDoc.received}</h5>\n            <h5>Sent: {userDoc.sent}</h5>\n            <h5>Received: {userDoc.received}</h5>\n          </div>\n        </div>\n        {Object.keys(userDoc.friends).filter(item => item !== userDoc['email']).length === 0 ? null :\n          <div className=\"section\">\n            <h1>Friends</h1>\n            <div className=\"col\">\n              {/* {Object.keys(userDoc.friends).filter(item => item !== userDoc['email']).sort().map((key) => (\n                <h3>{userDoc.friends[key]['name']}</h3>\n              ))} */}\n            </div>\n          </div>\n        }\n        <div className=\"section snapMap\">\n          <h1>Snap Map</h1>\n          <img src=\"https://media.npr.org/assets/img/2017/06/30/snapchat-world_custom-7763b62a81588d5def16ef6335a573d94e0dc908.jpg\" />\n        </div>\n        <div className=\"section\">\n          {userDoc.created !== 'N/A' && <h3>Joined Snapchat Clone on {userDoc['created']}</h3>}\n        </div>\n        <div className=\"section\">\n          {userDoc['name'] === 'Guest' ?\n            <button onClick={this.signIn} className=\"login\"><h2>Login</h2></button>\n            :\n            <button onClick={this.signOut} className=\"logout\"><h2>Logout</h2></button>\n          }\n        </div>\n      </main>\n    )\n  }\n}\n","export default \"data:image/png;base64,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\"","import React, { Component } from 'react'\nimport '../account/Account.css';\nimport AddFriendIcon from '../../assets/images/add-friend-icon.png';\nimport './Friends.css';\n\nexport default class Friends extends Component {\n  render() {\n    const { peopleList, userDoc, edit_friends } = this.props;\n    return (\n      <main className=\"main\">\n        <AddFriend\n          friends={userDoc.friends}\n          pending={userDoc.pending}\n          strangers={peopleList.strangers}\n          everyone={peopleList.everyone}\n          edit_friends={edit_friends}\n          email={userDoc.email}\n          added_me={userDoc.added_me}\n        />\n      </main>\n    )\n  }\n}\nfunction AddFriend(props) {\n  var filtered_strangers = props.strangers;\n  Object.keys(props.added_me).forEach(item => {\n    delete filtered_strangers[item];\n  })\n\n  return (\n    <div className=\"screen\">\n      {/* <input type=\"search\" placeholder=\"Find Friends\" className=\"friend-search\" /> */}\n      <h3 className=\"friend-head\">Quick Add ({Object.keys(props.strangers).length})</h3>\n      <ul className=\"friend-list-container\">\n        {Object.keys(filtered_strangers).sort().map((key) => (\n          <Stranger\n            strangers={filtered_strangers}\n            k={key}\n            edit_friends={props.edit_friends}\n          />\n        ))}\n      </ul>\n      {Object.keys(filtered_strangers).length === 0 ?\n        <p>You are friends with everyone</p>\n        : null\n      }\n      {Object.keys(props.added_me).length === 0 ? null :\n        <>\n          <h3 className=\"friend-head\">Added Me ({Object.keys(props.added_me).length})</h3>\n          <ul className=\"friend-list-container\">\n            {Object.keys(props.added_me).sort().map((key) => (\n              <AddedMe\n                added_me={props.added_me}\n                k={key}\n                edit_friends={props.edit_friends}\n              />\n            ))}\n          </ul>\n        </>\n      }\n      <h3 className=\"friend-head\">Friends ({Object.keys(props.friends).length - 1})</h3>\n      <ul className=\"friend-list-container\">\n        {Object.keys(props.friends).sort().map((key) => (\n          <Friend\n            friends={props.friends}\n            k={key}\n            edit_friends={props.edit_friends}\n            email={props.email}\n          />\n        ))}\n      </ul>\n      {Object.keys(props.friends).length - 1 === 0 ?\n        <p>Add some friends!</p>\n        : null\n      }\n      <h3 className=\"friend-head\">Everyone ({Object.keys(props.everyone).length})</h3>\n      <ul className=\"friend-list-container\">\n        {Object.keys(props.everyone).sort().map((key) => (\n          <Everyone\n            everyone={props.everyone}\n            k={key}\n          />\n        ))}\n      </ul>\n      <div className=\"footer\">\n        {/* Placeholder */}\n      </div>\n    </div>\n  )\n}\n\nfunction Friend(props) {\n  var friends = props.friends;\n  var key = props.k;\n  return (\n    <>\n      {props.email === key ? null :\n        <li className=\"item-container\">\n          <div className=\"pic-info-mix\">\n            <div className=\"pic-container\">\n              <img className=\"friend-profile-pic\" src={friends[key].profile_pic_url} alt=\"\" />\n            </div>\n            <div className=\"friend-info\">\n              <h2>{friends[key].name}</h2>\n              <p style={{ fontSize: \"0.9rem\" }}>{friends[key].username}</p>\n            </div>\n          </div>\n          <div className=\"friend-button\">\n            {props.email === key ? null :\n              friends[key].status === \"pending\" ?\n                <button onClick={() => props.edit_friends(\"remove request\", key, friends[key])}>Remove Request</button>\n                : <button onClick={() => props.edit_friends(\"remove\", key, friends[key])}>Remove</button>\n            }\n          </div>\n        </li>\n      }\n    </>\n  )\n}\n\nfunction AddedMe(props) {\n  var addedMe = props.added_me;\n  var key = props.k;\n  return (\n    <>\n      <li className=\"item-container\">\n        <div className=\"pic-info-mix\">\n          <div className=\"pic-container\">\n            <img className=\"friend-profile-pic\" src={addedMe[key].profile_pic_url} alt=\"\" />\n          </div>\n          <div className=\"friend-info\">\n            <h2>{addedMe[key].name}</h2>\n            <p style={{ fontSize: \"0.9rem\" }}>{addedMe[key].username}</p>\n          </div>\n        </div>\n        <div className=\"friend-button\">\n          <button onClick={() => props.edit_friends(\"accept request\", key, addedMe[key])}><img alt=\"add friend\" className=\"add-friend-list-icon\" src={AddFriendIcon} />Add</button>\n        </div>\n      </li>\n    </>\n  )\n}\n\nfunction Stranger(props) {\n  var strangers = props.strangers;\n  var key = props.k;\n  return (\n    <>\n      <li className=\"item-container\">\n        <div className=\"pic-info-mix\">\n          <div className=\"pic-container\">\n            <img className=\"friend-profile-pic\" src={strangers[key].profile_pic_url} alt=\"\" />\n          </div>\n          <div className=\"friend-info\">\n            <h2>{strangers[key].name}</h2>\n            <p style={{ fontSize: \"0.9rem\" }}>{strangers[key].username}</p>\n          </div>\n        </div>\n        <div className=\"friend-button\">\n          <button onClick={() => props.edit_friends(\"add\", key, strangers[key])}><img className=\"add-friend-list-icon\" src={AddFriendIcon} alt=\"add friend list icon\" />Add</button>\n        </div>\n      </li>\n    </>\n  )\n}\n\nfunction Everyone(props) {\n  var everyone = props.everyone;\n  var key = props.k;\n\n  return (\n    <>\n      <li className=\"item-container\">\n        <div className=\"pic-info-mix\">\n          <div className=\"pic-container\">\n            <img className=\"friend-profile-pic\" src={everyone[key].profile_pic_url} alt=\"\" />\n          </div>\n          <div className=\"friend-info\">\n            <h2>{everyone[key].name}</h2>\n            <p style={{ fontSize: \"0.9rem\" }}>{everyone[key].username}</p>\n          </div>\n        </div>\n        <div className=\"friend-button\">\n        </div>\n      </li>\n    </>\n  )\n}","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport './Navbar.css'\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\nimport SearchIcon from '@mui/icons-material/Search';\nimport FlipCameraIosIcon from '@mui/icons-material/FlipCameraIos';\nimport PersonAddIcon from '@mui/icons-material/PersonAdd';\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz';\nimport SlidingMenu from '../slidingMenu/SlidingMenu';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport Account from '../../screens/account/Account';\nimport Friends from '../../screens/friends/Friends';\nimport '../../app/App.css';\n\nfunction Navbar({ position, index, incFlipCam, close, Parenttitle, axis, hidden, GsignIn, GsignOut, userDoc, peopleList, edit_friends }) {\n\tlet title = \"\";\n\tlet buttonDir = <KeyboardArrowDownIcon />\n\tif (axis === \"x\") {\n\t\tbuttonDir = <ChevronRightIcon />\n\t} else if (axis === \"y\") {\n\t\tbuttonDir = <KeyboardArrowDownIcon />\n\t}\n\tconst [showAccount, setAccount] = useState(false)\n\tconst [showFriends, setFriends] = useState(false)\n\tconst [showSearch, setSearch] = useState(false)\n\tconst [showExtra, setExtra] = useState(false)\n\tconst toggleExtra = () => {\n\t\tsetExtra(!showExtra);\n\t}\n\tlet dynamic = <button onClick={toggleExtra}><MoreHorizIcon /></button>;\n\tconst styles = {\n\t\tshawdow: {\n\t\t\tbackgroundColor: 'white',\n\t\t\tboxShadow: \"0 0.1rem 1rem black\"\n\t\t},\n\t\ttransparent: {\n\t\t\tbackgroundColor: 'transparent',\n\t\t\tboxShadow: \"0 0rem 0rem black\"\n\t\t}\n\t}\n\tif (index === 0) {\n\t\ttitle = \"Chat\";\n\t}\n\tif (index === 1) {\n\t\tdynamic = <button onClick={incFlipCam}><FlipCameraIosIcon /></button>;\n\t}\n\tif (index === 2) {\n\t\ttitle = \"Discover\";\n\t}\n\tconst toggleAccount = () => {\n\t\tsetAccount(!showAccount);\n\t}\n\tconst toggleFriends = () => {\n\t\tsetFriends(!showFriends);\n\t}\n\tconst toggleSearch = () => {\n\t\tsetSearch(!showSearch);\n\t}\n\tif (position === \"fixed\") {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<ul className={\"main-navbar \" + (hidden ? \"ghost\" : \"navbar-fixed\")} >\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li><button onClick={close}>{buttonDir}</button></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li><h1>{Parenttitle}</h1></li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li style={{ opacity: 0 }}><button><PersonAddIcon /></button></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</>\n\t\t)\n\t} else {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<ul \n\t\t\t\t\tclassName={\"main-navbar \" + (hidden ? \"ghost\" : \"floating-navbar\")}\n\t\t\t\t\tstyle={index === 1 ? styles.transparent : styles.shawdow}\n\t\t\t\t>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li><button onClick={toggleAccount}><AccountCircleIcon /></button></li>\n\t\t\t\t\t\t\t<li><button onClick={toggleSearch}><SearchIcon /></button></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li><h1>{title}</h1></li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li><button onClick={toggleFriends}><PersonAddIcon /></button></li>\n\t\t\t\t\t\t\t<li>{dynamic}</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t{!hidden && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<SlidingMenu open={showAccount} close={toggleAccount} title=\"Account\" axis=\"x\">\n\t\t\t\t\t\t\t<Navbar position=\"fixed\"/>\n\t\t\t\t\t\t\t<Account close={toggleAccount} GsignIn={GsignIn} GsignOut={GsignOut} userDoc={userDoc}/>\n\t\t\t\t\t\t</SlidingMenu>\n\t\t\t\t\t\t<SlidingMenu open={showSearch} close={toggleSearch} title=\"Search\">\n\t\t\t\t\t\t\t<Navbar position=\"fixed\"/>\n\t\t\t\t\t\t\t<h1>Searchs</h1>\n\t\t\t\t\t\t</SlidingMenu>\n\t\t\t\t\t\t<SlidingMenu open={showFriends} close={toggleFriends} title=\"Add Friends\">\n\t\t\t\t\t\t\t<Navbar position=\"fixed\"/>\n\t\t\t\t\t\t\t<Friends userDoc={userDoc} peopleList={peopleList} edit_friends={edit_friends}/>\n\t\t\t\t\t\t</SlidingMenu>\n\t\t\t\t\t\t<SlidingMenu open={showExtra} close={toggleExtra} title=\"Extra\">\n\t\t\t\t\t\t\t<Navbar position=\"fixed\"/>\n\t\t\t\t\t\t\t<h1>Extra</h1>\n\t\t\t\t\t\t</SlidingMenu>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</>\n\t\t)\n\t}\n}\n\nNavbar.propTypes = {\n\tposition: PropTypes.string,\n\thidden: PropTypes.bool,\n}\nNavbar.defaultProps = {\n\thidden: true\n}\n\nexport default Navbar;","import React from 'react'\nimport './Footer.css'\nimport ModeCommentOutlinedIcon from '@mui/icons-material/ModeCommentOutlined';\nimport CameraAltOutlinedIcon from '@mui/icons-material/CameraAltOutlined';\nimport GroupIcon from '@mui/icons-material/Group';\n\nexport default function Footer({index, changeToIndex, type}) {\n  let footer;\n  if (type === \"relative\") {\n    footer = (<ul className=\"main-footer relative-footer\">\n    <li>{index === 0 ? <button disabled onClick={() => changeToIndex(0)} style={{backgroundColor: 'lightblue'}}><ModeCommentOutlinedIcon/></button> : <button onClick={() => changeToIndex(0)}><ModeCommentOutlinedIcon/></button>}</li>\n    </ul>)\n  } else {\n    footer = (<ul className=\"main-footer floating-footer\">\n    <li>{index === 0 ? <button onClick={() => changeToIndex(0)} style={{backgroundColor: 'lightblue'}}><ModeCommentOutlinedIcon/></button> : <button onClick={() => changeToIndex(0)}><ModeCommentOutlinedIcon/></button>}</li>\n    <li>{index === 1 ? <button onClick={() => changeToIndex(1)} style={{backgroundColor: 'yellow'}}><CameraAltOutlinedIcon/></button> : <button onClick={() => changeToIndex(1)}><CameraAltOutlinedIcon/></button>}</li>\n    <li>{index === 2 ? <button onClick={() => changeToIndex(2)} style={{backgroundColor: 'mediumSlateBlue'}}><GroupIcon/></button> : <button onClick={() => changeToIndex(2)}><GroupIcon/></button>}</li>\n    </ul>)\n  }\n  return (\n    <>\n      {footer}\n    </>\n  )\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAMgCAMAAADsrvZaAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkVEOTkwN0NENkM4QTExRTU4NkE2RkNFRjEyMjIxMkVFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkVEOTkwN0NFNkM4QTExRTU4NkE2RkNFRjEyMjIxMkVFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RUQ5OTA3Q0I2QzhBMTFFNTg2QTZGQ0VGMTIyMjEyRUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RUQ5OTA3Q0M2QzhBMTFFNTg2QTZGQ0VGMTIyMjEyRUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6Xrs8sAAAAMFBMVEWIiIjDw8Nb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\"","import React, { useEffect, useState } from 'react';\nimport './Message.css';\nimport { auth, db, provider, storage } from '../../utils/Firebase';\nimport PropTypes from 'prop-types';\nimport Guest from '../../assets/images/guest-profile-pic.png';\nimport ReactTimeago from 'react-timeago';\nimport { isMobile } from 'react-device-detect';\nimport firebase from 'firebase/app';\nimport { Store } from '@mui/icons-material';\n\nexport default function Message({ friend, streak_emoji, disableNavFootSlide, userDoc, height, width, loggedIn }) {\n\tconst [ar, setar] = useState(9 / 16);\n\tconst [opened, setOpened] = useState([]);\n\tconst [img, setImg] = useState(null);\n\tconst [snapId, setsnapId] = useState(null);\n\tconst [lastUser, setLU] = useState(false);\n\tvar icon_class = \"message-\" + friend[\"status\"]\n\tvar emoji = null;\n\tvar status_dict = {\n\t\t\"new-friend\": \"New Friend!\",\n\t\tnew: \"New Snap\",\n\t\treceived: \"Received\",\n\t\tsent: \"Sent\",\n\t\topened: \"Opened\",\n\t\tpending: \"Pending\",\n\t\t\"not-friends\": \"Unfriended You\",\n\t\tblocked: \"Blocked\",\n\t}\n\tvar emoji_dict = {\n\t\t\"not-friends\": \"\\u{1F494}\",\n\t\tblocked: \"\\u{26D4}\",\n\t\tpending: \"\\u{23F3}\"\n\t}\n\tvar status = status_dict[friend[\"status\"]]\n\temoji = emoji_dict[friend[\"status\"]]\n\n\tconst open = () => {\n\t\tif (loggedIn) {\n\t\t\tif (Object.keys(friend.snaps).length > 0) {\n\t\t\t\tlet firstSnapId = friend.snaps[Object.keys(friend.snaps)[0]].id;\n\t\t\t\tsetsnapId(firstSnapId);\n\t\t\t\t// Get Image\n\t\t\t\tdb.collection(\"Photos\").doc(firstSnapId).get().then((doc) => {\n\t\t\t\t\tsetImg(doc.data()['image_url'])\n\t\t\t\t\tdisableNavFootSlide(true);\n\t\t\t\t})\n\t\t\t\t// Delete snap from userdoc\n\t\t\t\tlet temp = userDoc;\n\t\t\t\tlet key = Object.keys(friend.snaps)[0];\n\t\t\t\tdelete temp['friends'][friend['id']]['snaps'][key]\n\t\t\t\tdb.collection(\"Users\").doc(userDoc['id']).update({\n\t\t\t\t\t[`friends.${friend['id']}.snaps`]: temp['friends'][friend['id']]['snaps'],\n\t\t\t\t\treceived: firebase.firestore.FieldValue.increment(1),\n\t\t\t\t}).then(() => {\n\t\t\t\t\tif (Object.keys(temp['friends'][friend['id']]['snaps']).length <= 0) {\n\t\t\t\t\t\tconst ts = new Date().toLocaleString();\n\t\t\t\t\t\t// Update Friend and User Doc if user is on last snap\n\t\t\t\t\t\tdb.collection(\"Users\").doc(friend['id']).update({\n\t\t\t\t\t\t\t[`friends.${userDoc['id']}.status`]: 'opened',\n\t\t\t\t\t\t\t[`friends.${userDoc['id']}.last_time_stamp`]: ts,\n\t\t\t\t\t\t\t[`friends.${userDoc['id']}.streakRef`]: ts,\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\t// Update User Doc\n\t\t\t\t\t\tdb.collection(\"Users\").doc(userDoc['id']).update({\n\t\t\t\t\t\t\t[`friends.${friend['id']}.status`]: 'received',\n\t\t\t\t\t\t\t[`friends.${friend['id']}.last_time_stamp`]: ts,\n\t\t\t\t\t\t\t[`friends.${friend['id']}.snaps`]: [],\n\t\t\t\t\t\t\t[`friends.${friend['id']}.streakRef`]: ts,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// Update Photo Doc\n\t\t\t\tdb.collection(\"Photos\").doc(firstSnapId).get().then((doc) => {\n\t\t\t\t\tif (doc.data()['sent'].length <= 1) {\n\t\t\t\t\t\tsetLU(true)\n\t\t\t\t\t\t// Move Photo id to deleteSnaps for pending delete\n\t\t\t\t\t\tdb.collection(\"Users\").doc(userDoc['id']).update({\n\t\t\t\t\t\t\tdeleteSnaps: firebase.firestore.FieldValue.arrayUnion(firstSnapId),\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetLU(false)\n\t\t\t\t\t\t// Update Photo Doc\n\t\t\t\t\t\tdb.collection(\"Photos\").doc(firstSnapId).update({\n\t\t\t\t\t\t\tsent: firebase.firestore.FieldValue.arrayRemove(userDoc['id']),\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tconst ts = new Date().toLocaleString();\n\t\t\t\tdb.collection(\"Users\").doc(userDoc['id']).update({\n\t\t\t\t\t[`friends.${friend['id']}.status`]: 'received',\n\t\t\t\t\t[`friends.${friend['id']}.snaps`]: [],\n\t\t\t\t})\n\t\t\t}\n\t\t} else {\n\t\t\t// Guest Account\n\t\t\tlet k = Object.keys(friend['snaps']).sort()[0];\n\t\t\tsetImg(friend['snaps'][k]['src'])\n\t\t\tdisableNavFootSlide(true);\n\t\t\tuserDoc[\"received\"] += 1;\n\t\t}\n\t}\n\tconst close = () => {\n\t\tif (loggedIn) {\n\t\t\tif (snapId && lastUser) {\n\t\t\t\tdeletePhoto(snapId)\n\t\t\t\tdb.collection(\"Users\").doc(userDoc['id']).update({\n\t\t\t\t\tdeleteSnaps: firebase.firestore.FieldValue.arrayRemove(snapId),\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (Object.keys(friend.snaps).length <= 0) {\n\t\t\t\tsetImg(null);\n\t\t\t\tdisableNavFootSlide(false);\n\t\t\t} else {\n\t\t\t\topen()\n\t\t\t}\n\t\t} else {\n\t\t\t// Guest Account\n\t\t\tlet k = Object.keys(friend['snaps']).sort()[0];\n\t\t\tdelete friend['snaps'][k]\n\t\t\tif (Object.keys(friend['snaps']).length > 0) {\n\t\t\t\topen();\n\t\t\t} else {\n\t\t\t\tfriend['status'] = 'received'\n\t\t\t\tsetImg(null);\n\t\t\t\tdisableNavFootSlide(false);\n\t\t\t}\n\t\t}\n\t}\n\tconst deletePhoto = (id) => {\n\t\tdb.collection(\"Photos\").doc(id).delete();\n\t\tstorage.ref(`posts/${id}`).delete();\n\t}\n\n\tuseEffect(() => {\n\t\tsetar(9 / 16);\n\t\tif (img) {\n\t\t\tif (isMobile === false) {\n\t\t\t\t// setbh(null);\n\t\t\t\t// setbw(null);\n\t\t\t\t// console.log(window.innerHeight/window.innerWidth, 16/9)\n\t\t\t\tif (window.innerHeight / window.innerWidth > 16 / 9) {\n\t\t\t\t\tdocument.getElementById('receivedImg').style.height = 'auto';\n\t\t\t\t\tdocument.getElementById('receivedImg').style.width = '100%';\n\t\t\t\t} else {\n\t\t\t\t\tdocument.getElementById('receivedImg').style.height = '100%';\n\t\t\t\t\tdocument.getElementById('receivedImg').style.width = 'auto';\n\t\t\t\t}\n\t\t\t} else if (document.getElementById('receivedImg') !== null) {\n\t\t\t\tif (height > width) {\n\t\t\t\t\tsetar(height / width);\n\t\t\t\t\tdocument.getElementById('receivedImg').style.height = '100%';\n\t\t\t\t\tdocument.getElementById('receivedImg').style.width = 'auto';\n\t\t\t\t} else {\n\t\t\t\t\tsetar(height / width * 1.7);\n\t\t\t\t\tdocument.getElementById('receivedImg').style.height = '100%';\n\t\t\t\t\tdocument.getElementById('receivedImg').style.width = 'auto';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [height, width, img])\n\n\treturn (\n\t\t<>\n\t\t\t{img ?\n\t\t\t\t<div className=\"img-overlay\" style={{ height: height, width: width }} onClick={close}>\n\t\t\t\t\t<img id=\"receivedImg\" src={img} />\n\t\t\t\t</div>\n\t\t\t\t:\n\t\t\t\t<li className=\"message-main row\" onClick={friend[\"status\"] === \"new\" ? open : null}>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<img className=\"friend-profile-pic\" src={friend[\"profile_pic_url\"] === null ? Guest : friend[\"profile_pic_url\"]} alt=\"\"></img>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t<h3>{friend[\"name\"]}</h3>\n\t\t\t\t\t\t<div className=\"message-info\">\n\t\t\t\t\t\t\t<div className=\"message-info-container\">\n\t\t\t\t\t\t\t\t{emoji ? <p>{emoji}</p> : <div className={icon_class}></div>}\n\t\t\t\t\t\t\t\t<h5>{status}</h5>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h5 className=\"time-stamp\">{friend[\"last_time_stamp\"] && friend['status'] !== 'not-friends' ? <> <div className=\"separator\"></div> <ReactTimeago date={friend[\"last_time_stamp\"]} /> </> : null}</h5>\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t{friend[\"streak\"] === null ? null : <>\n\t\t\t\t\t\t\t\t\t<div className=\"separator\" style={{ marginRight: \"0.3rem\" }}></div>\n\t\t\t\t\t\t\t\t\t<h5>{friend[\"streak\"]}</h5>\n\t\t\t\t\t\t\t\t\t<h5>{userDoc.streak_emoji ? userDoc.streak_emoji : streak_emoji}</h5>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t}\n\t\t</>\n\t)\n}\nMessage.defaultProps = {\n\tfriend: {\n\t\tcreated: \"today\",\n\t\tprofile_pic_url: Guest,\n\t\tname: \"Guest\",\n\t\tstatus: \"new-friend\",\n\t\tstreak: 0,\n\t\tsent: 0,\n\t\treceived: 0,\n\t\tlast_time_stamp: null,\n\t\tsnaps: [],\n\t},\n\tstreak_emoji: \"\\u{1F525}\",\n\tpic: \"Guest\",\n\temail: \"Guest@Guest.com,\",\n\tkey: \"Guest@Guest.com,\"\n\n\n}\nMessage.requiredProps = {\n\tfriend: PropTypes.shape({\n\t\tcreated: PropTypes.string,\n\t\tprofile_pic_url: PropTypes.string,\n\t\tname: PropTypes.string,\n\t\tstatus: PropTypes.string,\n\t\tstreak: PropTypes.number,\n\t\tsent: PropTypes.number,\n\t\treceived: PropTypes.number,\n\t\tlast_time_stamp: PropTypes.string,\n\t\tsnaps: PropTypes.arrayOf(PropTypes.string)\n\t}),\n\tstreak_emoji: PropTypes.string,\n\tpic: PropTypes.string,\n\temail: PropTypes.string,\n\tkey: PropTypes.string\n}","import React, {useEffect} from 'react'\nimport PropTypes from 'prop-types'\nimport './Messages.css'\nimport Message from './Message'\n\nconst list = [];\n\nfor (let i = 0; i < 30; i += 1) {\n  list.push(<Message />);\n}\n\nfunction Messages({userDoc, disableNavFootSlide, height, width, loggedIn}) {\n  return (\n    <ul className=\"messages-container\">\n      {Object.keys(userDoc.friends).sort().map((key) => (\n        <Message\n          disableNavFootSlide={disableNavFootSlide}\n          friend={userDoc.friends[key]}\n          userDoc={userDoc}\n          height={height}\n          width={width}\n          loggedIn={loggedIn}\n        />\n      ))}\n      {/* {list} */}\n    </ul>\n  )\n}\n\nMessages.propTypes = {}\n\nexport default Messages\n","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport Navbar from '../../components/navbar/Navbar'\nimport checkmark from '../../assets/images/black-checkmark.png';\nimport sentImg from '../../assets/images/sent-img-icon.png';\nimport GuestPic from '../../assets/images/guest-profile-pic.png';\nimport firebase from 'firebase/app';\nimport { auth, db, provider, storage } from '../../utils/Firebase';\nimport { v4 as uuid } from \"uuid\";\nimport './Camera.css'\nimport './Send.css'\n\nlet test = [];\n\nfor (var i = 0; i < 40; i++) {\n  test.push(<h1>filler</h1>)\n}\n\nexport default function Send({ height, width, img, close, backToCapture, userDoc, setUserDoc }) {\n  const [sendList, setSendList] = useState([]);\n  const [uploadComplete, setuploadComplete] = useState(false);\n  const imgId = uuid();\n  const timeStamp = new Date().toLocaleString();\n\n  const sendToFirebase = () => {\n    if (userDoc['created'] === 'N/A' && userDoc['email'] === 'Guest@Guest.com') {\n      changeGuestDoc();\n    } else {\n      send(imgId)\n    }\n  }\n  const changeGuestDoc = () => {\n    let newUserDoc = userDoc;\n    sendList.map((friend) => {\n      if (newUserDoc['friends'][friend] !== undefined) {\n        newUserDoc['friends'][friend]['last_time_stamp'] = new Date().toLocaleString();\n        newUserDoc['friends'][friend]['status'] = \"sent\";\n        newUserDoc[\"sent\"] += 1;\n        if (friend === userDoc['email']) {\n          newUserDoc['friends'][friend]['status'] = \"new\";\n          newUserDoc['friends'][friend]['sent'] += 1;\n          newUserDoc['friends'][friend]['received'] += 1;\n          let newEntry = {\n            id: imgId,\n            type: \"picture\",\n            src: img,\n          }\n          newUserDoc['friends'][friend]['snaps'][timeStamp] = newEntry;\n        } else {\n          newUserDoc['friends'][friend]['sent'] = newUserDoc['friends'][friend]['sent'] + 1;\n        }\n      }\n    })\n    setUserDoc(newUserDoc);\n  }\n  const send = (id) => {\n    // Upload to Storage\n    setuploadComplete(false);\n    const upload = storage.ref(`posts/${id}`).putString(img, 'data_url');\n    upload.on('state_changed',\n      (snapshot) => {\n        let progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n        // console.log('Upload is ' + progress + '% done');\n      },\n      (error) => {\n        console.log(\"Could not upload to storage\");\n      },\n      () => {\n        upload.snapshot.ref.getDownloadURL().then((downloadURL) => {\n          addPhotoToFireStore(id, downloadURL);\n          // console.log(\"Uploaded to Storage\");\n        });\n      }\n    );\n  }\n  const addPhotoToFireStore = (id, downloadURL) => {\n    db.collection(\"Photos\").doc(id).set({\n      image_url: downloadURL,\n      opened: [],\n      sender: userDoc['id'],\n      sent: sendList,\n      time_stamp: timeStamp,\n    })\n      .then(() => {\n        // console.log(\"Uploaded to Firestore\");\n        updateUserDoc();\n      })\n      .catch((error) => {\n        console.error(\"Error writing document: \", error);\n      });\n  }\n  const updateUserDoc = () => {\n    let userRef = db.collection(\"Users\").doc(userDoc['id']);\n    let newDoc = userDoc;\n    sendList.forEach((id) => {\n      newDoc['friends'][id]['status'] = \"sent\";\n      newDoc['friends'][id]['sent'] = newDoc['friends'][id]['sent'] + 1;\n      newDoc['friends'][id]['last_time_stamp'] = timeStamp;\n    })\n    // console.log(newDoc);\n    userRef.update({ \"friends\": newDoc['friends'], \"sent\": firebase.firestore.FieldValue.increment(sendList.length) }).then(() => {\n      updateFriendDoc();\n    })\n  }\n  const updateFriendDoc = () => {\n    let friendRef;\n    sendList.forEach((id) => {\n      friendRef = db.collection(\"Users\").doc(id);\n      friendRef.update({\n        [`friends.${userDoc['id']}.status`]: \"new\",\n        [`friends.${userDoc['id']}.snaps.${timeStamp.replace(/\\//g,\"-\")}`]: {id: imgId, type: \"picture\"},\n        [`friends.${userDoc['id']}.received`]: firebase.firestore.FieldValue.increment(1),\n        [`friends.${userDoc['id']}.last_time_stamp`]: timeStamp,\n        [`friends.${userDoc['id']}.streakRef`]: firebase.firestore.FieldValue.arrayUnion(timeStamp),\n      });\n    })\n    close()\n  }\n\n  const handleSendList = (e) => {\n    let arr = []\n    e.forEach((item) => {\n      arr.push(item);\n    })\n    setSendList(arr);\n  }\n\n  return (\n    <>\n      <div className=\"send-screen\" style={{ height: height, width: width }}>\n        <Navbar />\n        {/* <div className=\"floating-navbar main-navbar\">\n          <ul><li><button onClick={backToCapture}>Back</button></li></ul>\n          <h1>Send</h1>\n          <ul style={{ opacity: 0 }}><li><button disabled>Back</button></li></ul>\n        </div> */}\n        <div className=\"send-section\" style={{ style: 'relative', maxHeight: '100%', width: '100%', overflow: 'auto' }}>\n          {Object.keys(userDoc['friends']).map((key) => (\n            <Receiver friend={userDoc['friends'][key]} id={key} sendList={sendList} handleSendList={handleSendList} />\n          ))}\n          {/* {test} */}\n        </div>\n        {sendList.length > 0 && (\n          <div className=\"send-footer main-footer\">\n            <div style={{ width: '50%', display: 'flex', position: 'relative', overflow: 'hidden' }}>\n              <h2>Selected: {sendList.length}</h2>\n            </div>\n            <button onClick={sendToFirebase}><b><h2>Send</h2></b><img src={sentImg} style={{ height: '1rem', marginLeft: '0.5rem', filter: 'grayscale(100%)' }} /></button>\n          </div>\n        )}\n      </div>\n    </>\n  )\n}\n\nfunction Receiver({ friend, sendList, id, handleSendList }) {\n  const [selected, setSelect] = useState(false);\n  let newArr = sendList;\n  let temp;\n\n  const toggle = () => {\n    if (selected === false) {\n      newArr.push(id)\n      handleSendList(newArr)\n    } else {\n      temp = newArr.filter((item) => item !== id)\n      handleSendList(temp)\n    }\n    setSelect(!selected);\n  }\n\n  return (\n    <button className=\"item-container\" onClick={toggle} disabled={friend['status'] === \"pending\" || friend['status'] === \"not-friends\"}>\n      <div className=\"row\">\n        <img src={friend['profile_pic_url']} className=\"profile-pic\" />\n        {selected ? <h1 style={{ color: 'rgb(31, 168, 247)' }}>{friend['name']}</h1> : <h1 style={{ color: 'black' }}>{friend['name']}</h1>}\n        {(friend['status'] === \"pending\" || friend['status'] === \"not-friends\") && <p style={{marginLeft: '1rem', color: 'red'}}><i>{friend['status']}</i></p>}\n      </div>\n      <div>\n        {selected ? <div className=\"selected-circle\"><img className=\"checkmark\" src={checkmark} alt=\"U+2713\" ></img></div>\n          : <div className=\"unselected-circle\"><img className=\"checkmark\" src={checkmark} alt=\"U+2713\"></img></div>}\n      </div>\n    </button>\n  )\n}\n\nReceiver.propTypes = {\n  friend: PropTypes.shape({\n    color: PropTypes.string,\n    fontSize: PropTypes.number\n  }),\n  id: PropTypes.string,\n  handleSendList: PropTypes.func,\n  sendList: PropTypes.array,\n}\nReceiver.defaultProps = {\n  sendList: [],\n  id: \"Guest@Guest.com\",\n  friend: {\n    \"Guest@Guest.com\": {\n      created: new Date().toLocaleString(),\n      profile_pic_url: GuestPic,\n      name: \"Guest\",\n      status: \"new-friend\",\n      streak: 0,\n      sent: 0,\n      received: 0,\n      last_time_stamp: null,\n      snaps: []\n    },\n  },\n};","export default __webpack_public_path__ + \"static/media/snapchat-background.44a04fe5.gif\";","export default __webpack_public_path__ + \"static/media/black-checkmark.d8439ac6.png\";","export default __webpack_public_path__ + \"static/media/sent-img-icon.fee1337a.png\";","import React, { useEffect, useState } from 'react';\nimport Footer from '../../components/footer/Footer';\nimport { isMobile } from 'react-device-detect';\nimport CloseRoundedIcon from '@mui/icons-material/CloseRounded';\nimport SlidingMenu from '../../components/slidingMenu/SlidingMenu';\nimport CloseIcon from '../../assets/images/close.png'\nimport Send from './Send';\nimport Navbar from '../../components/navbar/Navbar';\nimport './Camera.css';\nimport '../../components/navbar/Navbar.css'\nimport '../../components/footer/Footer.css'\nimport zIndex from '@mui/material/styles/zIndex';\n\nexport default function Capture({ width, height, close, img, changedToSend, save, backToCapture, userDoc, setUserDoc }) {\n\tconst [toggle, setToggle] = useState(false);\n\tconst toggleSend = () => {\n\t\tsetToggle(!toggle);\n\t}\n\tuseEffect(() => {\n\t\tif (isMobile === false) {\n\t\t\tif (height / width > 16 / 9) {\n\t\t\t\tdocument.getElementById('capturedImg').style.height = 'auto';\n\t\t\t\tdocument.getElementById('capturedImg').style.width = '100%';\n\t\t\t} else {\n\t\t\t\tdocument.getElementById('capturedImg').style.height = '100%';\n\t\t\t\tdocument.getElementById('capturedImg').style.width = 'auto';\n\t\t\t}\n\t\t} else if (document.getElementById('capturedImg') !== null) {\n\t\t\tif (height > width) {\n\t\t\t\tdocument.getElementById('capturedImg').style.height = '100%';\n\t\t\t\tdocument.getElementById('capturedImg').style.width = 'auto';\n\t\t\t} else {\n\t\t\t\tdocument.getElementById('capturedImg').style.height = '100%';\n\t\t\t\tdocument.getElementById('capturedImg').style.width = 'auto';\n\t\t\t}\n\t\t}\n\t}, [height, width])\n\treturn (\n\t\t<>\n\t\t\t<div className=\"captured-screen\" style={{ height: height, width: width }}>\n\t\t\t\t<div className=\"floating-navbar main-navbar capture-navbar\" style={{ backgroundColor: 'transparent', zIndex: 1 }}>\n\t\t\t\t\t<button className=\"closeButton shadow\" onClick={close}><CloseRoundedIcon className=\"closeIcon\" style={{height: '2.5rem', width: '2.5rem'}} /></button>\n\t\t\t\t\t<ul></ul>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"captured-footer main-footer\">\n\t\t\t\t\t<button onClick={save}>Save</button>\n\t\t\t\t\t{/* <ul><li><button onClick={changedToSend}>Send</button></li></ul> */}\n\t\t\t\t\t<button onClick={toggleSend}>Send To</button>\n\t\t\t\t</div>\n\t\t\t\t<img id=\"capturedImg\" src={img} />\n\t\t\t</div>\n\t\t\t<SlidingMenu open={toggle} close={toggleSend} title=\"Send\">\n\t\t\t\t<Send height={height} width={width} img={img} close={close} backToCapture={backToCapture} userDoc={userDoc} setUserDoc={setUserDoc} />\n\t\t\t</SlidingMenu>\n\t\t</>\n\t)\n}\n","import React, { useState, useEffect, useRef} from 'react';\nimport PropTypes from 'prop-types';\nimport { isMobile } from 'react-device-detect';\nimport Flippy, { FrontSide, BackSide } from 'react-flippy';\nimport { useDoubleTap } from 'use-double-tap';\nimport Webcam from 'react-webcam';\nimport logo from '../../assets/images/snapchat-background.gif';\nimport './Camera.css';\nimport './Send.css';\nimport Footer from '../../components/footer/Footer'\nimport Capture from './Capture';\nimport Send from './Send';\n\n\nfunction Camera({index, height, width, flipCamCounter, disableNavFootSlide, userDoc, setUserDoc}) {\n\tconst [ar, setar] = useState(9/16);\n\tconst [img, setImg] = useState(null);\n\tconst [faceMode, setFaceMode] = useState('environment');\n\tconst flippy = useRef(null);\n\tconst webcamRef = useRef(null);\n\tconst [screen, setScreen] = useState(\"camera\");\n\n\tconst double_tap = useDoubleTap(() => {\n\t\tif (faceMode === 'user') {\n\t\t\tsetFaceMode('environment')\n\t\t} else {\n\t\t\tsetFaceMode('user')\n\t\t}\n\t\tif (flippy) {\n\t\t\tflippy.current.toggle();\n\t\t}\n\t});\n\n\tconst capture = React.useCallback(\n\t\t() => {\n\t\t\t// document.getElementById(\"capture-audio\").play()\n\t\t\tsetImg(webcamRef.current.getScreenshot());\n\t\t\tsetScreen('captured');\n\t\t\tdisableNavFootSlide(true);\n\t\t},\n\t\t[webcamRef]\n\t);\n\tfunction changedToSend() { setScreen('send') }\n\tfunction backToCapture() { setScreen('captured') }\n\tfunction save() { close() }\n\tfunction close() {\n\t\tsetImg(null);\n\t\tsetScreen('camera');\n\t\tdisableNavFootSlide(false);\n\t}\n\n\tuseEffect(() => {\n\t\tif (faceMode === 'user') {\n\t\t\tsetFaceMode('environment')\n\t\t} else {\n\t\t\tsetFaceMode('user')\n\t\t}\n\t\tif (flippy) {\n\t\t\tflippy.current.toggle();\n\t\t}\n\t\t\n\t}, [flipCamCounter]);\n\n\tuseEffect(() => {\n\t\tsetar(9/16);\n\t\tif (isMobile === false) {\n\t\t\t// setbh(null);\n\t\t\t// setbw(null);\n\t\t\t// console.log(window.innerHeight/window.innerWidth, 16/9)\n\t\t\tif (window.innerHeight/window.innerWidth > 16/9) {\n\t\t\t\tdocument.getElementById('webcam').style.height = 'auto';\n\t\t\t\tdocument.getElementById('webcam').style.width = '100%';\n\t\t\t\tdocument.getElementById('webcam2').style.height = 'auto';\n\t\t\t\tdocument.getElementById('webcam2').style.width = '100%';\n\t\t\t} else {\n\t\t\t\tdocument.getElementById('webcam').style.height = '100%';\n\t\t\t\tdocument.getElementById('webcam').style.width = 'auto';\n\t\t\t\tdocument.getElementById('webcam2').style.height = '100%';\n\t\t\t\tdocument.getElementById('webcam2').style.width = 'auto';\n\t\t\t}\n\t\t} else if (document.getElementById('webcam') !== null) {\n\t\t\tif (height > width) {\n\t\t\t\tsetar(height/width);\n\t\t\t\tdocument.getElementById('webcam').style.height = '100%';\n\t\t\t\tdocument.getElementById('webcam').style.width = 'auto';\n\t\t\t} else {\n\t\t\t\tsetar(height/width * 1.7);\n\t\t\t\tdocument.getElementById('webcam').style.height = '100%';\n\t\t\t\tdocument.getElementById('webcam').style.width = 'auto';\n\t\t\t}\n\t\t}\n\t}, [height, width])\n\n  return (\n\t<div className='webcam-screen' style={{height:height, width:width}}>\n\t\t{/* <div id=\"webcam\"></div><div id=\"webcam2\"></div> */}\n\t\t\t<Flippy\n\t\t\t\tflipOnHover={false} // default false\n\t\t\t\tflipOnClick={false} // default false\n\t\t\t\tflipDirection=\"horizontal\" // horizontal or vertical\n\t\t\t\tref={flippy}\n\t\t\t\tstyle={{height:window.innerHeight, width: width}} /// these are optional style, it is not necessary\n\t\t\t\t{...double_tap}\n\t\t\t>\n\t\t\t\t{isMobile ?\n\t\t\t\t<>\n\t\t\t\t<FrontSide id=\"flip1\" style={{backgroundImage: `url(${logo})`}} >\n\t\t\t\t\t{faceMode === \"environment\" &&\n\t\t\t\t\t\t<Webcam\n\t\t\t\t\t\tid=\"webcam\"\n\t\t\t\t\t\tref={webcamRef}\n\t\t\t\t\t\taudio={false}\n\t\t\t\t\t\tforceScreenshotSourceSize={false}\n\t\t\t\t\t\tscreenshotFormat=\"image/png\"\n\t\t\t\t\t\tscreenshotQuality={1}\n\t\t\t\t\t\tvideoConstraints={{facingMode: faceMode, aspectRatio: ar}}\n\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t</FrontSide>\n\t\t\t\t<BackSide id=\"flip2\" style={{backgroundImage: `url(${logo})`}}>\n\t\t\t\t\t{faceMode === \"user\" &&\n\t\t\t\t\t\t<Webcam\n\t\t\t\t\t\t\tid=\"webcam\"\n\t\t\t\t\t\t\tref={webcamRef}\n\t\t\t\t\t\t\taudio={false}\n\t\t\t\t\t\t\tmirrored={true}\n\t\t\t\t\t\t\tforceScreenshotSourceSize={false}\n\t\t\t\t\t\t\tscreenshotFormat=\"image/png\"\n\t\t\t\t\t\t\tscreenshotQuality={1}\n\t\t\t\t\t\t\tvideoConstraints={{facingMode: faceMode, aspectRatio: ar}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t</BackSide>\n\t\t\t\t</>\n\t\t\t\t:\n\t\t\t\t<>\n\t\t\t\t<FrontSide id=\"flip1\" style={{backgroundImage: `url(${logo})`}} >\n\t\t\t\t\t\t<Webcam\n\t\t\t\t\t\t\tid=\"webcam\"\n\t\t\t\t\t\t\tref={webcamRef}\n\t\t\t\t\t\t\taudio={false}\n\t\t\t\t\t\t\tforceScreenshotSourceSize={false}\n\t\t\t\t\t\t\tscreenshotFormat=\"image/png\"\n\t\t\t\t\t\t\tscreenshotQuality={1}\n\t\t\t\t\t\t\tvideoConstraints={{facingMode: \"environment\", aspectRatio: ar}}\n\t\t\t\t\t\t/>\n\t\t\t\t</FrontSide>\n\t\t\t\t<BackSide id=\"flip2\" style={{backgroundImage: `url(${logo})`}}>\n\t\t\t\t\t\t<Webcam\n\t\t\t\t\t\t\tid=\"webcam2\"\n\t\t\t\t\t\t\tref={webcamRef}\n\t\t\t\t\t\t\taudio={false}\n\t\t\t\t\t\t\tmirrored={true}\n\t\t\t\t\t\t\tforceScreenshotSourceSize={false}\n\t\t\t\t\t\t\tscreenshotFormat=\"image/png\"\n\t\t\t\t\t\t\tscreenshotQuality={1}\n\t\t\t\t\t\t\tvideoConstraints={{facingMode: \"user\", aspectRatio: ar}}\n\t\t\t\t\t\t/>\n\t\t\t\t</BackSide>\n\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</Flippy>\n\t\t{screen === \"camera\" &&\n\t\t\t<div className=\"cam-footer\">\n\t\t\t\t<button className=\"capture-button\" onClick={capture}></button>\n\t\t\t\t<Footer type=\"relative\"/>\n\t\t\t</div>\n\t\t}\n\t\t{screen === \"captured\" &&\n\t\t\t<Capture\n\t\t\t\theight={height}\n\t\t\t\twidth={width}\n\t\t\t\timg={img}\n\t\t\t\tclose={close}\n\t\t\t\tchangedToSend={changedToSend}\n\t\t\t\tsave={save}\n\t\t\t\tbackToCapture={backToCapture}\n\t\t\t\tuserDoc={userDoc}\n\t\t\t\tsetUserDoc={setUserDoc}\n\t\t\t/>\n\t\t}\n\t\t{screen === \"send\" && (null)\n\t\t\t// <Send height={height} width={width} img={img} close={close} backToCapture={backToCapture} userDoc={userDoc}/>\n\t\t}\n\t</div>\n  )\n}\n\nCamera.propTypes = {}\n\nexport default Camera;\n","import React, { Component, useEffect } from 'react';\nimport { auth, db, provider, storage } from '../utils/Firebase';\nimport firebase from 'firebase/app';\nimport { collection, onSnapshot } from \"firebase/firestore\";\nimport SwipeableViews from 'react-swipeable-views';\nimport { bindKeyboard } from 'react-swipeable-views-utils';\nimport { isMobile } from 'react-device-detect';\nimport MetaTags from 'react-meta-tags';\nimport './App.css';\nimport Navbar from '../components/navbar/Navbar';\nimport Footer from '../components/footer/Footer';\nimport Messages from '../screens/messages/Messages';\nimport Camera from '../screens/camera/Camera';\nimport Discover from '../screens/discover/Discover';\nimport { Guest, Strangers, Everyone } from './GuestInfo';\nimport { objectMethod } from '@babel/types';\n\n\nconst list = [];\n\nfor (let i = 0; i < 30; i += 1) {\n  list.push(<div key={i}>{`item n°${i + 1}`}</div>);\n}\n\nconst BindKeyboardSwipeableViews = bindKeyboard(SwipeableViews);\n\nlet userSnapshot;\nlet everyoneSnapshot;\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      height: window.innerHeight,\n      width: window.innerWidth,\n      index: 1,\n      flipCamCounter: 0,\n      loggedIn: false,\n      userDoc: Guest,\n      disable_swiping: false,\n      showFooter: true,\n      showNavbar: true,\n      updateCounter: 0,\n      peopleList: {\n        friends: Guest.friends,\n        strangers: Strangers,\n        everyone: Everyone,\n      }\n    }\n    this.changeToIndex = this.changeToIndex.bind(this);\n    this.updateDimensions = this.updateDimensions.bind(this);\n    this.changeToIndex = this.changeToIndex.bind(this);\n    this.incFlipCam = this.incFlipCam.bind(this);\n    this.disable_swiping = this.disable_swiping.bind(this);\n    this.toggleNavbar = this.toggleNavbar.bind(this);\n    this.toggleFooter = this.toggleFooter.bind(this);\n    this.disableNavFootSlide = this.disableNavFootSlide.bind(this);\n    this.checkCurrentUser = this.checkCurrentUser.bind(this);\n    this.GoogleSignIn = this.GoogleSignIn.bind(this);\n    this.GoogleSignOut = this.GoogleSignOut.bind(this);\n    this.startSnapShot = this.startSnapShot.bind(this);\n    this.endSnapShot = this.endSnapShot.bind(this);\n    this.getUserOnFirebase = this.getUserOnFirebase.bind(this);\n    this.createUserOnFirebase = this.createUserOnFirebase.bind(this);\n    this.edit_friends = this.edit_friends.bind(this);\n    this.updatePeopleList = this.updatePeopleList.bind(this);\n    this.setUserDoc = this.setUserDoc.bind(this);\n    this.startEveryoneSS = this.startEveryoneSS.bind(this);\n    this.endEveryoneSS = this.endEveryoneSS.bind(this);\n    this.updateRelatedSnaps = this.updateRelatedSnaps.bind(this);\n    this.incUpdateCount = this.incUpdateCount.bind(this);\n  }\n  componentDidMount() {\n    this.checkCurrentUser()\n    window.addEventListener('resize', this.updateDimensions);\n  }\n  componentWillUnmount() {\n    this.endSnapShot();\n    this.endEveryoneSS();\n  }\n  updateDimensions() {\n    this.setState({ width: window.innerWidth, height: window.innerHeight });\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.userDoc !== this.state.userDoc) {\n      if (prevState.userDoc && ((Object.keys(prevState.userDoc['added_me']).length) !== (Object.keys(this.state.userDoc['added_me']).length))) {\n        this.updatePeopleList();\n      }\n    }\n  }\n  changeToIndex(e) {\n    this.setState({\n      index: e,\n    })\n  }\n  incFlipCam() {\n    this.setState({ flipCamCounter: this.state.flipCamCounter + 1 })\n  }\n  disable_swiping(e) {\n    this.setState({ disable_swiping: e });\n  }\n  toggleNavbar(e) {\n    if (e === true || e === false) {\n      this.setState({ showNavbar: !e });\n    } else {\n      this.setState({ showNavbar: !this.state.showNavbar });\n    }\n  }\n  toggleFooter(e) {\n    if (e === true || e === false) {\n      this.setState({ showFooter: !e });\n    } else {\n      this.setState({ showFooter: !this.state.showFooter });\n    }\n  }\n  disableNavFootSlide(e) {\n    this.disable_swiping(e)\n    this.toggleFooter(e);\n    this.toggleNavbar(e);\n  }\n  setUserDoc(e) {\n    this.setState({\n      userDoc: e\n    })\n  }\n  incUpdateCount() {\n    const num = this.state.updateCounter;\n    this.setState({ updateCounter: num + 1 })\n  }\n\n  // Firebase Functions\n  checkCurrentUser() {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({\n          loggedIn: true,\n        })\n        this.getUserOnFirebase(user);\n      } else {\n        this.endSnapShot();\n        this.endEveryoneSS();\n        this.setState({\n          loggedIn: false,\n          userDoc: Guest,\n          peopleList: {\n            friends: Guest.friends,\n            strangers: Strangers,\n            everyone: Everyone,\n          }\n        })\n        console.log('user signed out');\n      }\n    });\n  }\n  getUserOnFirebase(user) {\n    let query = db.collection(\"Users\").doc(user.uid);\n    query.get().then((doc) => {\n      if (!doc.exists) {\n        this.createUserOnFirebase(user)\n      } else {\n        this.startSnapShot(user);\n        this.startEveryoneSS();\n      }\n    })\n  }\n  createUserOnFirebase(user) {\n    console.log(\"new user incoming\")\n    const c = new Date().toLocaleString()\n    db.collection(\"Users\").doc(user.uid).set({\n      created: c,\n      name: user.displayName,\n      email: user.email,\n      friendship: c,\n      id: user.uid,\n      username: user.email,\n      profile_pic_url: user.photoURL,\n      phoneNumber: user.phoneNumber,\n      received: 0,\n      sent: 0,\n      streak_emoji: \"\\u{1F525}\",\n      brokeup: {},\n      added_me: {},\n      pending: {},\n      deleteSnaps: [],\n      friends: {\n        [user.uid]: {\n          id: user.uid,\n          created: c,\n          email: user.email,\n          name: user.displayName,\n          phoneNumber: user.phoneNumber,\n          profile_pic_url: user.photoURL,\n          username: user.email,\n          nickname: null,\n          status: \"new-friend\",\n          streak: 0,\n          streakRef: [],\n          sent: 0,\n          received: 0,\n          last_time_stamp: null,\n          snaps: {},\n        }\n      },\n    })\n      .then(() => {\n        db.collection(\"Users\").doc(\"Everyone\").update({\n          [`all_users.${user.uid}`]: {\n            created: c,\n            name: user.displayName,\n            email: user.email,\n            username: user.email,\n            profile_pic_url: user.photoURL,\n            phoneNumber: user.phoneNumber,\n          },\n        }).then(() => {\n          console.log(\"Everyone Doc Updated\");\n          this.startSnapShot(user)\n          this.startEveryoneSS();\n        })\n          .catch(() => {\n            db.collection(\"Users\").doc(\"Everyone\").set({\n              all_users: {\n                [`${user.uid}`]: {\n                  created: c,\n                  name: user.displayName,\n                  email: user.email,\n                  username: user.email,\n                  profile_pic_url: user.photoURL,\n                  phoneNumber: user.phoneNumber,\n                },\n              }\n            }).then(() => {\n              console.log(\"Everyone Doc Created\")\n              this.startSnapShot(user)\n              this.startEveryoneSS();\n            })\n              .catch((error) => console.log(\"Error: \", error))\n          })\n      })\n  }\n  startSnapShot(user) {\n    console.log(\"Starting snapshot\");\n    userSnapshot = db.collection(\"Users\").doc(user.uid).onSnapshot(\n      { includeMetadataChanges: false },\n      (doc) => {\n        this.incUpdateCount();\n        console.log('user snapshot updated. Update Count: ', this.state.updateCounter);\n        this.setState({ userDoc: doc.data() })\n        if ((Object.keys(this.state.peopleList['friends']).sort() !== Object.keys(doc.data()['friends']).sort())) {\n          this.updatePeopleList();\n        }\n        if (this.state.updateCounter === 1 && this.state.userDoc['deleteSnaps'].length > 0) {\n          this.state.userDoc['deleteSnaps'].forEach((id) => {\n            db.collection(\"Photos\").doc(id).delete();\n            storage.ref(`posts/${id}`).delete();\n          })\n          db.collection(\"Users\").doc(this.state.userDoc['id']).update({\n            deleteSnaps: [],\n          })\n          console.log(\"Deleted trashed snaps\")\n        }\n      }, (err) => console.log(\"error: \", err))\n  }\n  endSnapShot() {\n    if (userSnapshot !== undefined) {\n      console.log(\"Ending userSnapshot\");\n      userSnapshot();\n    }\n  }\n  startEveryoneSS() {\n    console.log(\"Starting Everyone SS\");\n    everyoneSnapshot = db.collection(\"Users\").doc(\"Everyone\").onSnapshot(\n      { includeMetadataChanges: false },\n      (doc) => {\n        console.log('everyone snapshot changed');\n        let temp = this.state.peopleList;\n        temp['everyone'] = doc.data()['all_users'];\n        this.setState({ peopleList: temp });\n        this.updatePeopleList();\n      },\n      (err) => console.log(\"error: \", err)\n    )\n  }\n  endEveryoneSS() {\n    if (everyoneSnapshot !== undefined) {\n      console.log(\"Ending Everyone SS\");\n      everyoneSnapshot();\n      this.updatePeopleList()\n    }\n  }\n  GoogleSignIn = () => {\n    auth.signInWithPopup(provider)\n  }\n  GoogleSignOut = () => {\n    firebase.auth().signOut();\n    console.log(\"sign out\");\n  }\n  // Firestore Functions\n  updatePeopleList() {\n    // Make Strangers and Everyone List\n    let friends = this.state.userDoc.friends;\n    let strangers = {};\n    let everyone = this.state.peopleList.everyone;\n    let s_keys = Object.keys(everyone).filter(function (obj) { return Object.keys(friends).indexOf(obj) == -1; });\n    s_keys.forEach((id) => {\n      strangers[id] = everyone[id];\n    })\n    this.setState({\n      peopleList: {\n        friends: friends,\n        strangers: strangers,\n        everyone: everyone,\n      }\n    })\n    // console.log(\"updated people list\");\n  }\n  updateRelatedSnaps(user, person) {\n    // Delete and/or update any snaps between id1 and id2\n    const photoRef = db.collection(\"Photos\");\n    let trash = [];\n    let SentByUser = [];\n    let SentByPerson = [];\n    photoRef.where(\"sender\", '==', user).where(\"sent\", \"array-contains\", person).get().then((doc) => {\n      doc.docs.forEach((photo) => {\n        if (photo.data()['sent'].length == 1) {\n          trash.push(photo.id);\n        } else {\n          SentByUser.push(photo.id);\n        }\n      })\n    }).then(() => {\n      photoRef.where(\"sender\", '==', person).where(\"sent\", \"array-contains\", user).get().then((doc) => {\n        doc.docs.forEach((photo) => {\n          if (photo.data()['sent'].length == 1) {\n            trash.push(photo.id);\n          } else {\n            SentByPerson.push(photo.id);\n          }\n        })\n      }).then(() => {\n        trash.forEach((item) => {\n          photoRef.doc(item).delete().catch(() => { });\n          storage.ref(`posts/${item}`).delete().catch(() => { })\n        })\n        SentByUser.forEach((item) => {\n          photoRef.doc(item).update({\n            sent: firebase.firestore.FieldValue.arrayRemove(person)\n          })\n        })\n        SentByPerson.forEach((item) => {\n          photoRef.doc(item).update({\n            sent: firebase.firestore.FieldValue.arrayRemove(user)\n          })\n        })\n      })\n    })\n  }\n  edit_friends(action, person) {\n    let peopleList = this.state.peopleList;\n    let userDoc = this.state.userDoc;\n    let friendDoc = {};\n    let userEntry = {};\n    let personEntry = {};\n    let temp;\n    const friendRef = db.collection(\"Users\").doc(person);\n    const userRef = db.collection(\"Users\").doc(userDoc['id']);\n    const photoRef = db.collection(\"Photos\")\n    if (!this.state.loggedIn) {\n      // Guest Account\n\n      if (action === \"add\") {\n        temp = peopleList['strangers'][person];\n        delete peopleList['strangers'][person];\n        userDoc['friends'][person] = temp;\n      } else if (action === \"remove\") {\n        temp = userDoc['friends'][person];\n        delete userDoc['friends'][person];\n        peopleList['strangers'][person] = temp;\n      }\n      this.setState({\n        userDoc: userDoc,\n        peopleList: peopleList,\n      })\n    } else {\n      // On Firebase\n      userEntry = {\n        id: userDoc['id'],\n        created: userDoc['created'],\n        friendship: null,\n        profile_pic_url: userDoc['profile_pic_url'],\n        name: userDoc['name'],\n        username: userDoc['username'],\n        phoneNumber: userDoc['phoneNumber'],\n        status: \"pending\",\n        streak: 0,\n        sent: 0,\n        received: 0,\n        last_time_stamp: null,\n        snaps: []\n      };\n      if (action === \"add\") {\n        if (Object.keys(userDoc['brokeup']).includes(person)) {\n          // Restore old friend\n          delete peopleList['strangers'][person];\n          temp = userDoc['brokeup'][person];\n          delete userDoc['brokeup'][person];\n          userDoc['friends'][person] = temp;\n          let status = 'new-friend';\n          if (userDoc['friends'][person]['status'] === 'sent') {\n            status = 'new';\n          } else if (userDoc['friends'][person]['status'] === 'opened') {\n            status = 'received';\n          } else if (userDoc['friends'][person]['status'] === 'received') {\n            status = 'opened';\n          } else if (userDoc['friends'][person]['status'] === 'new') {\n            status = 'sent';\n          }\n          friendRef.update({ [`friends.${userDoc['id']}.status`]: status }).catch((e) => console.log(\"err: \", e))\n          userRef.update({ brokeup: userDoc['brokeup'], friends: userDoc['friends'] }).catch((e) => console.log(\"err: \", e))\n        } else {\n          // Send Friend Request\n          if (person !== userDoc['id']) {\n            friendRef.get().then((doc) => {\n              if (doc.exists) {\n                personEntry = {\n                  id: doc.data()['id'],\n                  created: doc.data()['created'],\n                  friendship: null,\n                  profile_pic_url: doc.data()['profile_pic_url'],\n                  name: doc.data()['name'],\n                  username: doc.data()['username'],\n                  phoneNumber: doc.data()['phoneNumber'],\n                  status: \"pending\",\n                  streak: 0,\n                  sent: 0,\n                  received: 0,\n                  last_time_stamp: null,\n                  snaps: []\n                };\n                userRef.set({ \"friends\": { [`${person}`]: personEntry } }, { merge: true }).then(() => {\n                  delete peopleList['strangers'][person];\n                  friendRef.set({ \"added_me\": { [`${userDoc['id']}`]: userEntry } }, { merge: true }).catch((e) => console.log(\"err: \", e))\n                }).catch((e) => console.log(\"err: \", e))\n              }\n            }).catch((e) => console.log(\"err: \", e))\n          } else {\n            console.log(\"Cannot add yourself\");\n          }\n        }\n      } else if (action === \"remove\") {\n        friendRef.get().then((doc) => { friendDoc = doc.data() }).then(() => {\n          if (Object.keys(friendDoc['brokeup']).includes(userDoc['id'])) {\n            // Friend Initiated Breakup\n            peopleList['strangers'][person] = userDoc['friends'][person];\n            friendRef.update({ [`brokeup.${userDoc['id']}`]: firebase.firestore.FieldValue.delete() }).catch((e) => console.log(\"err: \", e));\n            userRef.update({ [`friends.${person}`]: firebase.firestore.FieldValue.delete() }).catch((e) => console.log(\"err: \", e))\n            this.updateRelatedSnaps(person, userDoc['id']);\n          } else {\n            // Initiating Breakup\n            if (person !== userDoc['id']) {\n              friendRef.update({ [`friends.${userDoc['id']}.status`]: 'not-friends' }).catch((e) => console.log(\"err: \", e))\n              peopleList['strangers'][person] = userDoc['friends'][person];\n              temp = userDoc['friends'][person];\n              delete userDoc['friends'][person];\n              userDoc['brokeup'][person] = temp;\n              userRef.update({ brokeup: userDoc['brokeup'], friends: userDoc['friends'] }).catch((e) => console.log(\"err: \", e))\n            } else {\n              console.log(\"Cannot remove yourself\")\n            }\n          }\n        }).catch((e) => console.log(\"err: \", e))\n      } else if (action === \"accept request\") {\n        // Accept Friend Request\n        let ts = new Date().toLocaleString()\n        friendRef.update({ [`friends.${userDoc['id']}.status`]: 'new-friend', [`friends.${userDoc['id']}.friendship`]: ts }).catch((e) => console.log(\"err: \", e))\n        temp = userDoc['added_me'][person];\n        delete userDoc['added_me'][person];\n        userDoc['friends'][person] = temp;\n        userDoc['friends'][person]['status'] = 'new-friend';\n        userRef.update({ added_me: userDoc['added_me'], friends: userDoc['friends'], [`friends.${person}.friendship`]: ts }).catch((e) => console.log(\"err: \", e))\n      } else if (action === \"remove request\") {\n        // Remove Friend Request\n        friendRef.update({ [`added_me.${userDoc['id']}`]: firebase.firestore.FieldValue.delete() }).catch((e) => console.log(\"err: \", e))\n        peopleList['strangers'][person] = userDoc['friends'][person];\n        delete userDoc['friends'][person];\n        userRef.update({ friends: userDoc['friends'] }).catch((e) => console.log(\"err: \", e))\n      } else {\n        console.log(\"action unknown: \", action)\n      }\n    }\n  }\n  render() {\n    const { index, height, width, flipCamCounter, loggedIn, userDoc, disable_swiping, showNavbar, showFooter, peopleList } = this.state;\n    return (\n      <>\n        <MetaTags>\n          <title>Yellow Ghost</title>\n        </MetaTags>\n        {showNavbar && (<Navbar\n          index={index}\n          incFlipCam={this.incFlipCam}\n          hidden={false}\n          GsignIn={this.GoogleSignIn}\n          GsignOut={this.GoogleSignOut}\n          userDoc={userDoc}\n          peopleList={peopleList}\n          edit_friends={this.edit_friends}\n        />)}\n        <BindKeyboardSwipeableViews\n          className=\"slide_container\"\n          index={index}\n          onChangeIndex={this.changeToIndex}\n          disabled={disable_swiping}\n          containerStyle={{ height: this.state.height, WebkitOverflowScrolling: 'touch' }}\n          enableMouseEvents\n        >\n          <div className=\"slide slide1\">\n            <Navbar />\n            <Messages\n              userDoc={userDoc}\n              disableNavFootSlide={this.disableNavFootSlide}\n              height={height}\n              width={width}\n              loggedIn={loggedIn}\n            />\n          </div>\n          <div className=\"slide slide2\">\n            <Camera\n              index={index}\n              height={height}\n              width={width}\n              flipCamCounter={flipCamCounter}\n              userDoc={userDoc}\n              disableNavFootSlide={this.disableNavFootSlide}\n              setUserDoc={this.setUserDoc}\n            />\n          </div>\n          <div className=\"slide slide3\">\n            <Navbar />\n            <h1>Discover</h1>\n          </div>\n        </BindKeyboardSwipeableViews>\n        {showFooter ? <Footer index={index} changeToIndex={this.changeToIndex} /> : null}\n      </>\n    );\n  }\n}\n","export default __webpack_public_path__ + \"static/media/rick-profile-pic.81f18d45.jpg\";","export default __webpack_public_path__ + \"static/media/morty-profile-pic.17136706.jpg\";","import GuestPic from '../assets/images/guest-profile-pic.png';\nimport RickPic from '../assets/images/rick-profile-pic.jpg';\nimport MortyPic from '../assets/images/morty-profile-pic.jpg';\n\nconst c = new Date().toLocaleString()\n\nexport const Guest = {\n  id: \"Guest@Guest.com\",\n  created: \"N/A\",\n  name: \"Guest\",\n  email: \"Guest@Guest.com\",\n  username: \"Guest123\",\n  profile_pic_url: GuestPic,\n  streak_emoji: \"\\u{1F525}\",\n  phoneNumber: null,\n  sent: 0,\n  received: 0,\n  added_me: {},\n  pending: {},\n  friends: {\n    \"Guest@Guest.com\": {\n      created: c,\n      profile_pic_url: GuestPic,\n      name: \"Guest\",\n      status: \"new-friend\",\n      streak: 0,\n      sent: 0,\n      received: 0,\n      last_time_stamp: null,\n      snaps: {}\n    },\n  },\n}\nexport const Strangers = {\n  \"Rick@Guest.com\": {\n    id: \"Rick@Guest.com\",\n    created: \"N/A\",\n    profile_pic_url: RickPic,\n    name: \"Rick\",\n    status: \"new-friend\",\n    streak: 0,\n    streak_ref: null,\n    sent: 0,\n    received: 0,\n    last_time_stamp: null,\n    snaps: {}\n  },\n  \"Morty@Guest.com\": {\n    id: \"Morty@Guest.com\",\n    created: \"N/A\",\n    profile_pic_url: MortyPic,\n    name: \"Morty\",\n    status: \"new-friend\",\n    streak: 0,\n    streak_ref: null,\n    sent: 0,\n    received: 0,\n    last_time_stamp: null,\n    snaps: {}\n  },\n}\nexport const Everyone = {\n  \"Guest@Guest.com\": {\n    id: \"Guest@Guest.com\",\n    created: \"N/A\",\n    profile_pic_url: GuestPic,\n    name: \"Guest\",\n    status: \"new-friend\",\n    streak: 0,\n    streak_ref: null,\n    sent: 0,\n    received: 0,\n    last_time_stamp: null,\n    snaps: {}\n  },\n  \"Rick@Guest.com\": {\n    id: \"Rick@Guest.com\",\n    created: \"N/A\",\n    profile_pic_url: RickPic,\n    name: \"Rick\",\n    status: \"new-friend\",\n    streak: 0,\n    streak_ref: null,\n    sent: 0,\n    received: 0,\n    last_time_stamp: null,\n    snaps: {}\n  },\n  \"Morty@Guest.com\": {\n    id: \"Morty@Guest.com\",\n    created: \"N/A\",\n    profile_pic_url: MortyPic,\n    name: \"Morty\",\n    status: \"new-friend\",\n    streak: 0,\n    streak_ref: null,\n    sent: 0,\n    received: 0,\n    last_time_stamp: null,\n    snaps: {}\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 94;"],"sourceRoot":""}